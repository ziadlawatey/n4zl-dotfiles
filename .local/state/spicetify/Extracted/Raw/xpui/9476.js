"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9476],{9476:(e,s,t)=>{t.d(s,{DebugPanelEsperanto:()=>pe});var n=t(30758),a=t(78717),l=t(62960),i=t(65210),r=t(39686),c=t(52721),o=t(26592),u=t(58995),d=t(48984),m=t(23511),h=t(62029),p=t(29120),v=t(56480),f=t(88204),b=t(94113),y=t(36579),S=t(18545),g=t(77120),C=t(70983),N=t(33098),k=t(48093),x=t(39960),E=t(66469),j=t(52895),M=t(56500),I=t(29547),P=t(60114),R=t(61320),O=t(9917),w=t(88482),A=t(17381),B=t(24844),_=t(75564),H=t(70245),J=t(87583),q=t(49963),D=t(65666),F=t(85062),$=t(74867),G=t(19071),L=t(33065),U=t(18811),V=t(61482),z=t(49998),W=t(70237),X=t(48486),Y=t(72399),Q=t(70089),Z=t(76315),T=t(15699),K=t(28432),ee=t(57542);const se=[o.B,d.ve,m.Pc,h.BM,S.CJ,S.NB,S.uC,S.RI,S.UF,S.FY,S.B3,S.Dt,S.s,S.Xk,S.Yl,p.r,v.pt,f.MI,b.J1,y.di,g.BO,C.Pm,N._w,k.rM,k.A5,k.qM,x.hN,E.NI,j.SB,M.lb,I.xo,P.IU,R.EW,O.oW,w.Gy,A.LN,B.HG,ee._4,_.Ag,H._,J.y9,q.A,D.J4,F.tx,$.ZN,G.xV,L._q,U.hA,V.f_,z.Ms,W.NH,X.$A,Y.sp,Q.GD,Z.to1,Z.hm7,Z.hb0,Z.Bl$,Z.ZxE,T.aA,K.FZ,u.o];var te=t(25561);function ne(e){return JSON.parse(e,(e,s)=>null===s?void 0:s)}function ae(e){return JSON.stringify(e,(e,s)=>void 0===s?null:"bigint"==typeof s?s.toString():s,2)}function le(){const{serviceMap:e,serviceNames:s}=(0,n.useMemo)(()=>{const e=function(e){return se.sort((e,s)=>e.SERVICE_ID.localeCompare(s.SERVICE_ID)).reduce((s,t)=>(s[t.SERVICE_ID]={methods:t.METHODS,client:new t(e)},s),{})}((0,te.X)());return{serviceMap:e,serviceNames:Object.keys(e)}},[]),[t,a]=(0,n.useState)(()=>{const e=sessionStorage.getItem("esperantoServiceName");return e&&s.includes(e)?e:s[0]}),l=e[t].methods,i=e[t].client,r=Object.keys(l),[o,u]=(0,n.useState)(()=>{const e=sessionStorage.getItem("esperantoServiceMethodName");return e&&r.includes(e)?e:r[0]}),d=l[o].requestType,m=l[o].isStreaming,h=i[o],p=(0,n.useCallback)((s,t)=>{const n=s??Object.keys(e)[0],l=e[n].methods,i=t??Object.keys(l)[0];a(n),u(i)},[e,a,u]);(0,n.useEffect)(()=>()=>{sessionStorage.setItem("esperantoServiceName",t),sessionStorage.setItem("esperantoServiceMethodName",o)},[t,o]);const v=(0,n.useMemo)(()=>ae((0,c.SU)(d,{},{cleanPolicies:!0})),[d]),f=(0,n.useMemo)(()=>(0,c.SU)(d,{}),[d]),b=(0,n.useMemo)(()=>(0,c.AF)(f),[f]),y=(0,n.useCallback)(e=>{try{return ae((0,c.SU)(d,ne(e),{cleanPolicies:!0}))}catch(s){return e}},[d]),S=(0,n.useCallback)(e=>{try{return ae((0,c.bk)(d,ne(e)))}catch(s){return e}},[d]),g=(0,n.useCallback)(async(e,s)=>{const t=d.fromPartial(ne(e));if(m)return h.call(i,t,e=>{s(ae(e))});const n=await h.call(i,t);return s(ae(n)),null},[i,m,d,h]);return{services:s,methods:r,service:t,method:o,client:i,message:d,call:g,jsonReference:f,jsonString:v,hasPolicies:b,prettify:y,fillPolicies:S,update:p}}const ie="wB5hwbs44iPLcJxrXPdY",re="M_T_8dkoJVFIuQta1alQ",ce="UPX8S7ed1evo9ssMvHAi",oe="HtxphtEH0R4JEEuauqdM",ue="dqLH9BmZFVt3iLMHoNY4",de="GRBv8NGGKrzog6Pd4WXd",me="k8QY9W5fF5W47CwEExuQ";var he=t(86070);const pe=()=>{const{services:e,methods:s,service:t,method:c,call:o,jsonReference:u,jsonString:d,hasPolicies:m,prettify:h,fillPolicies:p,update:v}=le(),f=(0,n.useRef)(null),[b,y]=(0,n.useState)(!1),[S,g]=(0,n.useState)([]),C=S.length>0,[N,k]=(0,n.useState)(()=>{const e=sessionStorage.getItem("esperantoRequestContentByServiceAndMethod");try{return e?JSON.parse(e):{}}catch(e){return{}}}),x=(0,n.useRef)(N);(0,n.useEffect)(()=>{x.current=N},[N]);const{Editor:E,setContent:j,getContent:M,setReference:I}=(0,r.h)({className:me,id:`esperanto:request:${t}:${c}`,onDiagnostics:e=>g(e),onChange:e=>{k(s=>({...s,[t]:{...s[t],[c]:e}}))}}),{Editor:P,setContent:R}=(0,r.h)({className:me,readOnly:!0,id:`esperanto:response:${t}:${c}`,filterable:!0}),O=(0,n.useCallback)(()=>{null!==f.current&&(f.current.cancel(),f.current=null,y(!1))},[y]),w=(0,n.useCallback)(async()=>{O();const e=await o(M()??"{}",e=>{R(e)});null!==e&&(f.current=e,y(!0))},[o,O,M,R]),A=(0,n.useCallback)(async()=>{const e=h(M()??"{}");j(e)},[h,M,j]),B=(0,n.useCallback)(async()=>{const e=p(M()??"{}");j(e)},[p,M,j]),_=(0,n.useCallback)(async()=>{j(h("{}"))},[h,j]);(0,n.useEffect)(()=>{I(u),j(d),R(""),O()},[I,u,j,d,R,O]),(0,n.useEffect)(()=>{const e=x.current?.[t]?.[c];return e&&j(e),()=>{sessionStorage.setItem("esperantoRequestContentByServiceAndMethod",JSON.stringify(x.current))}},[t,c,j]);const H=[{label:"Core",options:e.filter(e=>-1===e.indexOf("desktop")).map(e=>({label:e,value:e}))},{label:"Desktop",options:e.filter(e=>-1!==e.indexOf("desktop")).map(e=>({label:e,value:e}))}],J=s.map(e=>({label:e,value:e}));return(0,he.jsxs)("div",{className:ie,children:[(0,he.jsxs)("div",{className:re,children:[(0,he.jsx)(a.E,{as:"p",variant:"bodyMedium",children:"Endpoint"}),(0,he.jsx)(i.Ay,{value:{label:t,value:t},options:H,onChange:e=>{v(e?.value??void 0)},styles:{menuList:s=>({...s,minHeight:`min(60vh, ${50*e.length}px)`})}}),(0,he.jsx)(i.Ay,{value:{label:c,value:c},options:J,onChange:e=>v(t,e?.value??void 0),styles:{menuList:e=>({...e,minHeight:`min(60vh, ${50*s.length}px)`})}})]}),(0,he.jsxs)("div",{className:ce,children:[(0,he.jsxs)("div",{className:ue,children:[(0,he.jsx)(a.E,{as:"p",variant:"bodyMedium",children:"Request"}),(0,he.jsx)(l.n,{className:de,size:"small",onClick:_,children:"Reset"}),m&&(0,he.jsx)(l.n,{className:de,size:"small",disabled:C,onClick:B,title:"Fill all policy fields with truthy values for maximum data retrieval",children:"Policy â†’ true"}),(0,he.jsx)(l.n,{className:de,size:"small",disabled:C,onClick:A,children:"Prettify"}),(0,he.jsx)(l.n,{className:de,size:"small",disabled:C,onClick:b?O:w,children:b?"Cancel":"Send"})]}),E]}),(0,he.jsxs)("div",{className:oe,children:[(0,he.jsx)("div",{className:ue,children:(0,he.jsx)(a.E,{as:"p",variant:"bodyMedium",children:"Response"})}),P]})]})}}}]);
//# sourceMappingURL=9476.js.map