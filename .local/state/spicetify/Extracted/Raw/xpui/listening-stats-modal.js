"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8972],{55102:(t,e,n)=>{function s(t){return{name:"WwwAnalyticsNonAuth",environments:["browsernonauth"],data:t}}n.d(e,{Z:()=>s})},58544:(t,e,n)=>{n.d(e,{ListeningStatsModal:()=>y});var s=n(30758),l=n(62411),a=n(60749),i=n(73397),o=n(78717),r=n(82975),c=n(55102),u=n(91198),d=n(37528),A=n(35394),M=n(54091);const N=["AL","AD","AO","AG","AR","AM","AU","AT","AZ","BS","BD","BB","BY","BE","BZ","BJ","BT","BO","BA","BW","BN","BG","BF","BI","CV","KH","CM","CA","TD","CL","CO","KM","CR","CI","HR","CW","CY","CZ","CD","DK","DJ","DM","DO","EC","SV","GQ","EE","SZ","ET","FJ","FI","FR","GA","GM","GE","DE","GH","GR","GD","GT","GN","GW","GY","HT","HN","HK","HU","IS","IE","IT","JM","JP","KZ","KE","KI","XK","KG","LA","LV","LS","LR","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MU","MX","FM","MD","MC","MN","ME","MZ","NA","NR","NP","NL","NZ","NI","NE","NG","NO","PK","PW","PA","PG","PY","PE","PH","PL","PT","CG","RO","RW","WS","SM","ST","SN","RS","SC","SL","SG","SK","SI","SB","ZA","KR","ES","LK","KN","LC","VC","SR","SE","CH","TW","TJ","TZ","TH","TL","TG","TO","TT","TR","TV","UG","GB","UA","UY","US","UZ","VU","VE","VN","ZM","ZW"];var g=n(97159);const C=()=>{const t=(0,l.d4)(g.JJ);return N.includes(t?.toUpperCase())};var L=n(41156);let S=function(t){return t.NOT_AVAILABLE="not-available",t.ANONYMOUS="anonymous",t.OPEN_APP="open-app",t}({});const T=()=>{const t=C(),e=(0,L.V)();return t?e?S.ANONYMOUS:S.OPEN_APP:S.NOT_AVAILABLE};var p=n(59867),E=n(36729);const b="s2uBMXLM8wub9kuyHJTI";var w=n(86070);const O=({onDismiss:t})=>{const e=(0,l.wA)(),n=T(),s=(0,L.V)(),a=(0,p.vh)();return(0,w.jsx)("div",{className:b,children:(0,w.jsx)(A.H,{condensed:!0,size:"small",onClick:()=>{((t,e)=>{const n={category:"listening_stats_modal",action:"click",label:t,destination_url:e},l=s?(0,c.Z)(n):(0,r.Q)(n);a.send(l)})(`${n}-dismiss`),t(),e(E.gF.actions.close())},children:M.Ru.get("web-player.listening-stats-modal.dismiss")})})},G=()=>{switch(T()){case S.OPEN_APP:return{title:M.Ru.get("web-player.listening-stats-modal.open-app-title"),text:M.Ru.get("web-player.listening-stats-modal.open-app-text")};case S.ANONYMOUS:return{title:M.Ru.get("web-player.listening-stats-modal.title"),text:M.Ru.get("web-player.listening-stats-modal.text")};default:return{title:M.Ru.get("web-player.listening-stats-modal.not-available-title"),text:M.Ru.get("web-player.listening-stats-modal.not-available-text")}}};var P=n(70613),m=n(93747);const B=({onClose:t})=>{const e=(0,l.d4)(m.yL),n=(0,u.NC)(P.VN2),a=T(),{title:A,text:M}=G(),N=(0,p.vh)(),g=(0,L.V)();return(0,s.useEffect)(()=>{if(!e||!n)return;const t={category:"listening_stats_modal",action:"view",label:`${a}-view`},s=g?(0,c.Z)(t):(0,r.Q)(t);N.send(s)},[e,n,g,N,a]),n?(0,w.jsx)(d.A,{isOpen:e,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:(0,w.jsx)(i.Q,{id:"listening-stats-modal",dialogTitle:A,body:(0,w.jsx)(o.E,{children:M}),footer:(0,w.jsx)(O,{onDismiss:t})})}):null};var R=n(65823);const y=()=>{const t=(0,l.wA)(),[e,n]=(0,a.ok)(),i="1"===e.get(R.P.ListeningStats),o=(0,l.d4)(m.yL);(0,s.useEffect)(()=>{i&&!o&&t(E.gF.actions.open())},[t,i,o]);const r=(0,s.useCallback)(()=>{t(E.gF.actions.close()),n(t=>(t.delete(R.P.ListeningStats),t))},[t,n]);return o?(0,w.jsx)(B,{onClose:r}):null}},82975:(t,e,n)=>{function s(t){return{name:"WwwAnalytics",environments:["browser"],data:t}}n.d(e,{Q:()=>s})}}]);
//# sourceMappingURL=listening-stats-modal.js.map