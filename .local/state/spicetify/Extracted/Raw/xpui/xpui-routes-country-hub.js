"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2543],{697:(e,r,t)=>{t.d(r,{n:()=>I});var s=t(30758),a=t(81458),n=t(27360),i=t(54091),o=t(31808),l=t(96811),c=t(62623),u=t(11183),d=t(55986),m=t(95373);var x=t(61954),p=t(72045),y=t(24636),g=t(16781),h=t(20511),b=t(86070);function f(e,r){const t=function(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(m.R)??[];case"Album":return e.coverArt?.sources.map(m.R)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(m.R)??[];case"Playlist":return e.images.items[0]?.sources.map(m.R)??[];default:return[]}}(e);switch(e.__typename){case"Album":return(0,b.jsx)(l.a,{uri:e.uri,name:e.name,images:t,sharingInfo:null,artists:(0,y.K)(e.artists),isPlayable:e.playability.playable,isRestricted:e.playability.reason===p.$c.CatalogueRestricted,index:r},e.uri);case"Artist":return(0,b.jsx)(c.a,{uri:e.uri,name:e.profile.name,images:t,index:r},e.uri);case"Playlist":{let s="";"User"===e.ownerV2.data.__typename&&(s=e.ownerV2.data.name);let a="";return"User"===e.ownerV2.data.__typename&&(a=e.ownerV2.data.uri),(0,b.jsx)(u.B,{uri:e.uri,name:e.name,images:t,description:e.description,authorName:s,authorUri:a,index:r,isPlayable:!(0,x.p)(e?.attributes)},e.uri)}case"Track":return(0,b.jsx)(d.w,{uri:e.uri,name:e.name,images:t,artists:(0,h.S)(e.artists),album:e.albumOfTrack?{uri:e.albumOfTrack.uri,name:e.albumOfTrack.name}:null,isExplicit:(0,g.V)(e.contentRating),is19PlusOnly:(0,g.r)(e.contentRating),sharingInfo:null,index:r},e.uri);default:return null}}function j(e,r){return f(e,r)}var C=t(10172);const I=({shelfItems:e,contentId:r,countryCode:t,index:l,fullPage:c})=>{const u=r.replace(/_/g,"-").toLowerCase(),d=(0,n.o_h)(`spotify:app:popular-all:${u}:${t.toLowerCase()}`)?.toURLPath(!0);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(o.p,{seeAllUri:c?void 0:d,seeAllLabel:i.Ru.get("shelf.see-all"),id:r??"",title:(0,C.YC)(r,t)??"",index:l,rowGap:a.lT,alwaysShowSeeAll:!0,fullPage:c,showAll:c,children:e.map((e,r)=>{const t="_uri"in e?e._uri:`item-${r}`;return(0,b.jsx)(s.Fragment,{children:j(e.data,r)},t)})})})}},16781:(e,r,t)=>{t.d(r,{V:()=>a,r:()=>n});var s=t(72045);function a(e){return e?.label===s.x7.Explicit}function n(e){return e?.label===s.x7.NineteenPlus}},20511:(e,r,t)=>{t.d(r,{S:()=>a});var s=t(89307);function a(e){return e.items.map(({uri:e,profile:{name:r}})=>({type:s.c.ARTIST,uri:e,name:r}))}},24636:(e,r,t)=>{t.d(r,{K:()=>a});var s=t(89307);function a(e){return e.items.map(({uri:e,profile:{name:r}})=>({type:s.c.ARTIST,uri:e,name:r}))}},36296:(e,r,t)=>{t.d(r,{CountryHub:()=>A});var s=t(30758),a=t(97500),n=t.n(a),i=t(85387),o=t(62960),l=t(96683),c=t(54091),u=t(13072),d=t(67012),m=t(80128),x=t(78717),p=t(12552),y=t(86487),g=t(54839),h=t(10172),b=t(86070);const f=({color:e,countryCode:r})=>{const t=(0,h.uO)(r),s=(0,h.gL)(r);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(p.z,{size:p.K.DEFAULT,backgroundColor:e,children:(0,b.jsxs)(y.Y,{children:[(0,b.jsx)(g.mm,{children:t}),(0,b.jsx)(x.E,{variant:"bodySmall",children:s})]})})})};var j=t(697),C=t(96290),I=t(75443),v=t(75072),w=t(26843);const k=Spicetify.GraphQL.Definitions["countryHubsPage"]=new v.l("countryHubsPage","query","6c2e4b04d8836507c2ad09c954f27a6c98d8b0a761f99ef6f4dc9bbe7834ba55",null);var _=t(58248),P=t(89307);const R="agf4KCEnn8dpajcm65Hl",T=({countryCode:e})=>{const{data:r,loading:t}=(a={countryCode:e||""},(0,w.I)(k,a,i));var a,i;const d=(0,C.$8)(),x=(0,s.useCallback)(()=>{d({type:"OPEN"})},[d]);if(t)return(0,b.jsx)(m.LoadingPage,{hasError:!1,errorMessage:""});if(null===r||!("country"in r.countryHub))return(0,b.jsx)(m.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.generic")});const p=r.countryHub.country.hexColor,y=(0,h.cm)(e),g=r.countryHub.shelves;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f,{color:p,countryCode:e}),(0,b.jsx)(u.K,{backgroundColor:p}),(0,b.jsxs)("div",{className:n()(R,"contentSpacing"),children:[(0,b.jsx)(o.n,{iconLeading:l.t,onClick:x,size:"small",children:y}),g?.map((r,t)=>(0,b.jsx)(j.n,{index:t,contentId:r.contentId,shelfItems:r.items.items,countryCode:e},t))]})]})},A=()=>{const e=(0,_.g)(),{country:r=""}=(0,i.g)(),t=r.toUpperCase(),a=(0,I.L)(t,P.c.COUNTRY_HUB),n=(0,h.ew)(t)?t:null;if((0,s.useEffect)(()=>{n||e("/")},[n,e]),!n)return null;const o=n;return(0,b.jsx)(d.s,{onError:a,children:(0,b.jsx)(T,{countryCode:o})})}},41341:(e,r,t)=>{t.d(r,{G:()=>i});var s=t(78717),a=t(54091),n=t(86070);const i=()=>(0,n.jsxs)(n.Fragment,{children:[" • ",(0,n.jsx)(s.E,{variant:"bodySmall",semanticColor:"textBase",dir:"auto",as:"span",children:a.Ru.get("search.lyrics-match")})]})},55986:(e,r,t)=>{t.d(r,{w:()=>v});var s=t(54091),a=t(52782),n=t(63087),i=t(32354),o=t(91899),l=t(88462),c=t(82898),u=t(21017),d=t(35313),m=t(70675),x=t(69869),p=t(18204),y=t(41341),g=t(67793),h=t(54635),b=t(72045),f=t(24238);const j="zQrPD8WI53TbUS3hngGf",C="aYt6brelfaS_o2cqU7ow";var I=t(86070);const v=({name:e,uri:r,images:t,album:v,artists:w,isExplicit:k,is19PlusOnly:_,isHero:P=!1,onClick:R,onPlay:T,testId:A,index:U,requestId:E,isLyricsMatch:S,color:H,hasAssociatedVideo:L,hasAssociatedAudio:N,mediaType:O,variant:V,logCardImpressions:F=!1,role:q})=>{let M;const{badges:z,hasBadges:G}=(0,f.b)({isExplicit:k,isMOGEFRestricted:_,isVideo:L}),K=!1===L&&!1===N&&O===b.IX.Video,$=(0,x.o)(k,K);return M=P?(0,I.jsx)(o.A,{index:U,onClick:R,headerText:e,featureIdentifier:"track",uri:r,albumURI:v?.uri,onPlay:T,renderCardImage:()=>(0,I.jsx)(n.M,{isHero:!0,images:$?[]:t,color:H}),renderSubHeaderContent:()=>(0,I.jsxs)(i.c,{isHero:!0,children:[G&&(0,I.jsxs)(m.P,{children:[z.explicit&&(0,I.jsx)(g.U,{}),z.nineteen&&(0,I.jsx)(h.q,{className:j,size:16}),z.isVideo&&(0,I.jsx)(p.l,{})]}),(0,I.jsx)(l.t,{children:s.Ru.get("card.tag.track")}),(0,I.jsx)(d.l,{artists:w,className:C}),S&&(0,I.jsx)(y.G,{})]}),testId:A,requestId:E,logCardImpressions:F}):(0,I.jsx)(a.Z,{variant:V,index:U,onClick:R,headerText:e,featureIdentifier:"track",role:q,uri:r,albumURI:v?.uri,onPlay:T,renderCardImage:()=>(0,I.jsx)(n.M,{images:$?[]:t,color:H}),renderSubHeaderContent:()=>(0,I.jsxs)(i.c,{children:[k&&!_&&(0,I.jsx)(g.U,{className:j}),_&&(0,I.jsx)(h.q,{size:16,className:j}),(0,I.jsx)(d.l,{artists:w,className:C}),S&&(0,I.jsx)(y.G,{})]}),testId:A,requestId:E,logCardImpressions:F}),(0,I.jsx)(c.h,{menu:(0,I.jsx)(u.P,{uri:r,artists:w,albumUri:v?.uri}),children:M})}},61954:(e,r,t)=>{function s(e){return!!e&&(Array.isArray(e)?e.some(e=>"is-editorial-booklist"===e.key&&"true"===e.value):"true"===e["is-editorial-booklist"])}t.d(r,{p:()=>s})},75443:(e,r,t)=>{t.d(r,{L:()=>p});var s=t(62411),a=t(50247),n=t(25494),i=t(41350),o=t(59867),l=t(41156),c=t(97159),u=t(51629),d=t(87159),m=t(8476),x=t(95130);const p=(e,r,t)=>{const p=(0,o.vh)(),y=(0,s.d4)(u.F6),g=(0,s.d4)(c.JJ),h=(0,l.V)();return()=>{(0,x.fE)({metric_type:i.MetricTypes.COUNTER,what:"dwp-country-hub-component-error",value:1,tags:{entityType:r,contentId:t||""}});const s={category:"country_hub_render_error",label:"dwp",os:(0,m.f)(),context:JSON.stringify({countryCode:e,contentId:t||""}),country:y?g:"",sp_t:(0,d.v8)("sp_t")},o=h?n.r:a._;p.send(o(s))}}}}]);
//# sourceMappingURL=xpui-routes-country-hub.js.map