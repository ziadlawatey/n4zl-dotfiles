"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8778],{8134:(e,t,s)=>{s.d(t,{B:()=>l});var a=s(78717),n=s(91596),i=s(86070);const l=({children:e})=>(0,i.jsx)(a.E,{variant:"bodySmall",className:n.A.pretitle,children:e})},17532:(e,t,s)=>{s.d(t,{A:()=>y});var a=s(30758),n=s(38094),i=s(1812),l=s(10029),r=s(91198),o=s(6704),c=s(61855),d=s(64621),u=s(1068),m=s(59867),p=s(91816),h=s(70613),x=s(78969),g=s(75238);const f=(e,t,s,a)=>[d.a.USE_GET_LEAVEBEHIND_ADS,e,t,s,a];const y=function(e){const t=(0,m.vh)(),{isDesktop:s}=(0,p.V)(),d=(0,r.NC)(h.SAn,{loadingValue:!1}),{data:y,isError:b,error:j,refetch:C}=(0,i.I)({queryKey:f(e.uri,e.surface,e.playlistName,d),queryFn:()=>(async(e,t,s,a)=>(await o.b6(x.n.getInstance(),(0,c.Fh)(t),e,s,a)).body)(e.uri,e.surface,e.playlistName,d),select:t=>t&&0!==t.leavebehindAds.length?(0,u.iT)(t,e.uri):[],enabled:!!e.uri&&s&&!!e.playlistName&&""!==e.playlistName.trim(),retry:!1});(0,a.useEffect)(()=>{b&&j&&t.send((0,l.G)({error_type:"fetchAdsFailure",error_message:j instanceof g.O?j.name:"Error fetching leavebehind ads data",http_error_code:j instanceof g.O?j.status:void 0,surface:(0,c.Fh)(e.surface),request_type:"leavebehindAds",ad_content_origin:(0,u.Zl)(e.surface)})).catch(n.Cp)},[b,j,t,e.surface]);const v=(0,a.useCallback)(()=>{C()},[C]);return{data:y,isError:b,getLeavebehinds:v}}},46920:(e,t,s)=>{s.d(t,{X:()=>g});var a=s(97500),n=s.n(a),i=s(30758),l=s(91198),r=s(64932),o=s(52498),c=s(70613);const d="s37oNOuxq0sX9JpTtsfI",u="kPmZW2gs2GWhz8NYIm78";var m=s(86070);const p=({isPlaylistMixed:e})=>{const[t,s]=(0,i.useState)(e),[a,l]=(0,i.useState)(e);return(0,i.useLayoutEffect)(()=>{e?(s(!0),requestAnimationFrame(()=>{l(!0)})):l(!1)},[e]),t?(0,m.jsx)("img",{src:(0,r.bj)("images/lens-flare.webp"),alt:"",className:n()(d,{[u]:a})}):null},h=({isPlaylistMixed:e})=>{const t=(0,o.p)(),s=(0,l.NC)(c.V6C);return t&&s?(0,m.jsx)(p,{isPlaylistMixed:e}):null};var x=s(91596);const g=({children:e,isPlaylistMixed:t})=>(0,m.jsxs)("div",{className:n()(x.A.imageContainer,x.A.imageContainerNew),children:[e,(0,m.jsx)(h,{isPlaylistMixed:t})]})},52251:(e,t,s)=>{s.d(t,{g:()=>r});var a=s(78717),n=s(58760),i=s(12586),l=s(86070);const r=({children:e,className:t})=>{const s=(0,i.y)()===n.E.SMALL?"bodyMediumBold":"titleSmall";return(0,l.jsx)(a.E,{variant:s,"data-testid":"entityAuthor",className:t,children:e})}},52753:(e,t,s)=>{s.d(t,{H:()=>r});var a=s(30758),n=s(66917),i=s(47812),l=s(87308);function r(e=null,t=n.l0o){const s=(0,l.z)(e);return(0,a.useEffect)(()=>((0,i.s)(s,!1),()=>{}),[s]),s||t}},68930:(e,t,s)=>{s.d(t,{P:()=>m});var a=s(18204),n=s(54691),i=s(97727),l=s(67793),r=s(31139),o=s(54635),c=s(4291),d=s(24238),u=s(86070);const m=({episode:e,showVideoBadge:t=!1})=>{const{badges:s}=(0,d.b)((e=>"contentRating"in e)(e)?{contentRating:e?.contentRating?.label,isPaywalled:e.podcastSubscription?.isPaywalled,isVideo:e.mediaTypes?.includes(c.C.Video)}:{isExplicit:e?.isExplicit,isMOGEFRestricted:e?.is19PlusOnly,isPaywalled:e.podcastSubscription?.isPaywalled}),m=e.gatedEntityRelations&&e.gatedEntityRelations.entitiesWithValueProps.at(0),p=(0,i.B)(m,e);return(0,u.jsxs)(u.Fragment,{children:[s.explicit&&(0,u.jsx)(l.U,{}),p?(0,u.jsx)(n.x,{gatedEntityRelations:e.gatedEntityRelations}):s.paid&&(0,u.jsx)(r.y,{}),s.nineteen&&(0,u.jsx)(o.q,{size:16}),t&&s.isVideo&&(0,u.jsx)(a.T,{})]})}},85121:(e,t,s)=>{s.d(t,{q:()=>A});var a=s(30758),n=s(97500),i=s.n(n),l=s(21903),r=s(73136),o=s(3483),c=s(78717),d=s(10622),u=s(24529),m=s(27360),p=s(97701),h=s(58248),x=s(91816),g=s(34503),f=s(65992),y=s(55517),b=s(89307);const j="UlQzPCBC0rEZf7gs5iZq",C="mASBivweX8uNaToUlFgT",v="vqO8_xCjoiCycMYyfZ17",E="WvGQI11MvxjXf9_n2M_H",N="OzRoZD6rPXYQQQJblfR3",S="X9hsDq5yN52CIt5GJcux";var T=s(86070);const k=({navigateTo:e,children:t})=>{const s=(0,h.g)();return e?(0,T.jsx)("button",{className:C,onClick:()=>s(e),children:t}):(0,T.jsx)("div",{className:C,children:t})},A=({className:e,showCoverArt:t,gatedEntityCoverArt:s,gatedEntityRelations:n,upsellExplanation:h,hasAccess:C,showValueProps:A=!0})=>{const{inAppPurchasesPolicy:P}=(0,x.V)(),{spec:w,logger:R}=(0,y.$)(u.L,{}),[_,M]=(0,a.useState)(!1),L=n?.entitiesWithValueProps.at(0);if(!L?.summary||!h)return null;const{uri:O,valueProps:q,summary:B,fallbackNavigation:F}=L,W=0===q.length;let U,V,X,H=!1;if(C){if(!B.forUserWithAccess||W)return null;U=B.forUserWithAccess,X=(0,m.o_h)(O)?.toURLPath(!0)}else{if(!F&&W)return null;if(F)U=F.description,X=(0,m.o_h)(F.uri)?.toURLPath(!0);else{U=B.forUserWithoutAccess;V=A&&q.length>1?q.map(({displayText:e})=>e):null,H=!0}}return(0,T.jsxs)("div",{className:i()(S,e,{[j]:Boolean(X)}),children:[(0,T.jsxs)(k,{navigateTo:X,children:[Boolean(t)?(0,T.jsx)(g.b,{images:s||[],shape:g.u.ROUNDED_CORNERS,type:b.c.SHOW,title:U,size:f.Qe.SIZE_40,className:v}):void 0,(0,T.jsxs)("div",{className:E,children:[(0,T.jsx)(c.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:U}),V&&(0,T.jsx)(d.j,{variant:"bodySmall",hasTextSeparator:!0,semanticColor:"textSubdued",children:V})]}),(0,T.jsx)("div",{className:N,children:X?(0,T.jsx)(l.V,{size:"small",semanticColor:"textSubdued"}):!!H&&("notAllowed"===P?(0,T.jsx)(r.$,{size:"small",onClick:()=>M(!0),children:h.cta}):(0,T.jsx)(r.$,{size:"small",iconLeading:o.H,href:h.url,target:"_blank",onClick:()=>{R.logInteraction(w.upsellButtonFactory().hitNavigateToExternalUri({destination:h.url}))},children:h.cta}))})]}),_&&(0,T.jsx)(p.f,{images:s||[],onClose:()=>M(!1)})]})}},87308:(e,t,s)=>{s.d(t,{r:()=>c,z:()=>d});var a=s(30758),n=s(66917),i=s(26571),l=s(17500),r=s(794),o=s(1812);function c(e=null){const{request:t}=(0,a.useContext)(r.j),{data:s}=(0,o.I)({queryKey:["extracted-color",e],queryFn:()=>e?(0,l.j)(t,e).then(e=>{const t=e?.[0];return t?{colorDark:t.colorDark.toCSS(i.a.HEX),colorLight:t.colorLight.toCSS(i.a.HEX),colorRaw:t.colorRaw.toCSS(i.a.HEX)}:null}):null,gcTime:864e5,staleTime:216e5,enabled:!!e});return s??void 0}function d(e=null,t=n.l0o,s="colorRaw"){return c(e)?.[s]??t}},93978:(e,t,s)=>{s.d(t,{N:()=>v});var a=s(30758),n=s(78717),i=s(91198),l=s(54091),r=s(34384),o=s(86070);const c=a.memo(function({text:e,onTimeStampClick:t,children:s,className:i,enableTimestamps:l=!1}){const c=(0,a.useMemo)(()=>(0,o.jsx)(r.q,{html:e,onTimeStampClick:t,enableTimestamps:l}),[e,l,t]);return(0,o.jsxs)(n.E,{as:"div",variant:"bodyMedium",className:i,children:[c,s]})}),d="YsDZWKGocaBFORjA7Fdw",u=(0,a.memo)(function({text:e,onTimeStampClick:t,onToggle:s,className:a,enableTimestamps:i}){return(0,o.jsx)(c,{className:a,text:e,onTimeStampClick:t,enableTimestamps:i,children:(0,o.jsx)("button",{"aria-expanded":!1,className:d,onClick:s,children:(0,o.jsxs)(n.E,{variant:"bodyMediumBold",children:["â€¦ ",l.Ru.get("show_more")]})})})}),m=(e,t,s)=>{const a=l.Ru.get("show_more").length,n=e.length+a+6;return s<=1&&n<t},p=(0,a.memo)(function({paragraphs:e,clickHandler:t,maxCharactersPerLine:s,maxLines:a,toggleExpandedState:n,className:i,enableTimestamps:r}){let d=!1,p=0;const h=e.map((h,x)=>{const g=Math.round(h.length/s);if(p+=g>0?g:1,d)return null;const f=a-(p-g);if(!(x+1===e.length&&(m(h,s,f)||g<=f))&&p>=a){d=!0;const e=((e,t,s)=>{const a=l.Ru.get("show_more").length;if(m(e,t,s))return e;const n=t*s-a-6;return e.slice(0,n)})(h,s,f);return(0,o.jsx)(u,{text:e,onTimeStampClick:t,onToggle:n,className:i,enableTimestamps:r},x)}return(0,o.jsx)(c,{className:i,text:h,onTimeStampClick:t,enableTimestamps:r},x)}).filter(e=>null!==e).map((e,t,s)=>t+1===s.length?e:[e," "]).flat();return(0,o.jsx)(o.Fragment,{children:h})});var h=s(70613),x=s(24814);const g="wkSFnZXTmriYdgeU4aU6",f="OW3HEMnXm96oxWxTS0jQ",y="E133gXqzKX8oSjFsM8BJ",b=(e,t)=>({...e,...t}),j=(e="")=>e.split(/[ \u00a0]{2}/).filter(Boolean),C=(e="")=>e.replace("<p>","").split(/(?:<\/p>)/).filter(Boolean),v=(0,a.memo)(function({content:e,htmlContent:t,maxLines:s=2,className:d,onTimeStampClick:u=()=>{},onExpanded:m,enableTimestamps:v=!1,enableAutomaticLinkification:E=!1,isOpen:N=null}){const[S,T]=(0,a.useReducer)(b,(e=>({isOpen:e,contentWidth:0}))(N)),{isOpen:k,contentWidth:A}=S,P=(0,a.useRef)(null),w=(0,a.useRef)(!0),R=(0,i.NC)(h.gl7),_=(0,a.useCallback)(()=>{T({isOpen:!k}),m&&m(!k)},[k,m]);(0,a.useEffect)(()=>{T({isOpen:N})},[e,N]),(0,a.useEffect)(()=>{null!==S.isOpen&&(w.current?w.current=!1:P.current?.querySelector("button[aria-expanded]")?.focus())},[S.isOpen]);const M=A?A/7.8:Number.MAX_VALUE,L=(0,a.useCallback)(e=>{e&&(P.current=e,T({contentWidth:e.clientWidth}))},[]),O=(0,a.useMemo)(()=>t?R?(0,o.jsx)(r.q,{html:t,onTimeStampClick:u,enableTimestamps:v,enableAutomaticLinkification:E},t):C(t).map(e=>(0,o.jsx)(r.q,{html:e,onTimeStampClick:u,enableTimestamps:v,enableAutomaticLinkification:E},e)):((e,t,s)=>j(e).map((e,a)=>(0,o.jsx)(c,{className:f,text:e,onTimeStampClick:t,enableTimestamps:s},a)))(e,u,v),[e,v,E,t,u,R]),q=(0,a.useMemo)(()=>t?C(t):j(e),[e,t]);return(0,x.s)(()=>{P.current&&T({contentWidth:P.current.clientWidth})}),(0,o.jsx)("div",{className:d,children:(0,o.jsxs)("div",{ref:L,className:g,children:[k&&(0,o.jsxs)(o.Fragment,{children:[O,(0,o.jsx)("button",{"aria-expanded":!0,className:y,onClick:_,children:(0,o.jsx)(n.E,{variant:"bodyMediumBold",children:l.Ru.get("show_less")})})]}),!k&&(0,o.jsx)(p,{className:f,paragraphs:q,clickHandler:u,enableTimestamps:v,maxCharactersPerLine:M,maxLines:s,toggleExpandedState:_})]})})})},94639:(e,t,s)=>{s.d(t,{e:()=>r});var a=s(30758),n=s(63918),i=s(39140),l=s(85059);const r=({uri:e,durationMs:t,episodePlaybackState:s,isPlaying:r})=>{const o=(0,n.p)(e),[c,d]=(0,a.useState)(s===i._w.Completed||o?.state===i.H7.Completed),[u]=(0,l.S9)(1e4,t=>t?.item?.uri===e);return(0,a.useEffect)(()=>{!r&&(s===i._w.Completed||o?.state===i.H7.Completed||u>t-1e4)&&d(!0)},[t,s,r,u,o?.state]),{isFullyPlayed:c,setIsFullyPlayed:d}}}}]);
//# sourceMappingURL=8778.js.map