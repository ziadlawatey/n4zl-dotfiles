"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4237],{54237:(e,a,t)=>{t.r(a),t.d(a,{default:()=>oa});var s=t(30758),i=t(8335),n=t(88705),r=t(54091),o=t(80128),l=t(78717),c=t(492),d=t(60940),m=t(60329),h=t(88439),p=t(55517);const x="m2pKfMPEiM0TX2J7kghs",u="gOnwh_8MDoajj1yMxsHd",f="CqKcgaMbieEZEmUwhi4_",g="BT7YdHFyhY5wnTXsKUAV",b="EGW41La6JENJ7cOl0dJn",j="BmgLYiLLP8juWltnoy9w";var y=t(86070);const v=({data:e})=>{const{spec:a}=(0,p.$)(n.Z,{data:{identifier:"benefitsEducation",reason:`${e.campaignId}:${e.userEligibility}`}}),t=(0,s.useMemo)(()=>a.educationListContainerFactory(),[a]),i=(0,h.n)(t?.getAbsoluteLocation(),t);return(0,y.jsx)("div",{className:x,ref:i,"data-testid":"benefit-education-list",children:(0,y.jsxs)("div",{className:u,children:[(0,y.jsx)(l.E,{className:f,as:"h2",size:24,variant:"titleSmall",color:"var(--spice-text)",semanticColor:"textBase",children:e.header}),(0,y.jsx)("div",{className:b,children:(0,y.jsx)(c.b,{as:"ul",listStyleReset:!1,className:j,"aria-label":"premium-benefits",children:e.benefits.map((e,a)=>(0,y.jsxs)("div",{className:g,children:[(0,y.jsx)(d.i,{}),(0,y.jsx)(m.K,{"data-testid":"premium-benefit-item",className:g,color:"var(--spice-text)",condensed:!0,style:{marginLeft:"4px"},children:e},a)]},a))})})]})})};var N=t(97500),w=t.n(N),E=t(31656),I=t(58075),T=t(57010),k=t(10700);const C="GnGc02PYTCkVXll6oJiy",M="KD0vhYsAKv9VAMQ1WuND",L="PgcdswmuFMU6gquRPVlg",D="GjajUOJpHYIUa5ykw7LJ",S="NgNZGeRx0QbQRnD9n1iG",_="FPcZP28nTTGA3We1fcDx",P="mYs8BfI98xoZ3uFs5aD1",B="eyoRZoXwRxjjNaZ1iW8w",H="oSon3W4vBo9Z8kKYwiBv",U="ud1se5_QUhdtzlrp_fDG",F="MgCfPS846UhvHuZ18RdD",G="eKnf_wXKPtzavlbOj9QT",R="Vw72Ed9SaHJuAoZc2dPI",Z="bDMXZxbmqH6AELiLYohQ",K="cYxtWQSmwXFaIFLrMmYA",Q="UxGty5c5FriU4U5lDcw2",$="gqYa64gr2rgQwtVj39si",V="qNKt5Vu97Dlru6LdHfT2",q="PREMIUM_TIER",X=({tiers:e,benefitLabel:a})=>(0,y.jsx)("thead",{className:P,children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:w()(F,G),children:a}),e.map((e,a)=>{const t=e.id===q?(0,y.jsx)("div",{className:w()(D,e.id===q?_:S),children:e.id===q&&(0,y.jsx)("div",{className:U,children:(0,y.jsxs)("div",{className:$,children:[(0,y.jsx)(E.Z,{className:V,semanticColor:"textBase",variant:"balladBold",dangerouslySetInnerHTML:{__html:e.name}}),(0,y.jsx)(I.G,{height:"24px",condensed:!0,semanticColor:"textBase"})]})})}):(0,y.jsx)("div",{className:w()(D,e.id===q?_:S),dangerouslySetInnerHTML:{__html:e.name}});return(0,y.jsx)("th",{className:F,children:t},a)})]})}),z=({benefit:e,index:a,tierBenefit:t})=>{const[i,n]=(0,s.useState)(!1);return(0,y.jsxs)("tr",{className:B,style:{"--animationDelay":100*a+"ms"},onMouseOver:()=>n(!0),onMouseLeave:()=>n(!1),onFocus:()=>n(!0),onBlur:()=>n(!1),children:[(0,y.jsxs)("td",{className:w()(R),children:[(0,y.jsx)("span",{tabIndex:0,role:"tooltip",children:e.name}),(0,y.jsx)("div",{className:w()(Q,{[M]:i}),children:i&&(0,y.jsx)(T.m,{colorSet:"invertedLight",dangerouslySetInnerHTML:{__html:e?.explanation}})})]}),t.map(e=>(0,y.jsx)("td",{className:Z,children:(0,y.jsx)("div",{className:w()(K,{[H]:e.id===q}),children:e.isBenefitPresent?(0,y.jsx)(k.k,{className:L,size:"large"}):"â€”"})},e.id))]})},A=({tableData:e,spec:a})=>{const{ref:t,inView:n}=(0,i.Wx)({triggerOnce:!0}),r=(0,s.useCallback)(a=>e.comparison.find(e=>e.benefitId===a),[e.comparison]),o=(0,s.useMemo)(()=>a?.comparisonTableFactory(),[a]),l=(0,h.n)(o?.getAbsoluteLocation(),o);return(0,y.jsx)("div",{className:w()(C,{[M]:n}),ref:t,"data-testid":"comparison-table",children:(0,y.jsxs)("table",{ref:l,children:[(0,y.jsx)(X,{tiers:e.tier,benefitLabel:e.benefitLabelText}),(0,y.jsx)("tbody",{children:e.benefit.map((e,a)=>{const t=r(e.benefitId);return t?(0,y.jsx)(z,{index:a,benefit:e,tierBenefit:t.tierBenefit},e.name):null})})]})})};var J=t(27189),W=t(73136),O=t(62960),Y=t(69093),ee=t(52813);const ae=e=>((e,a)=>{const t=new URL(e);return t.searchParams.set("ref",a),t.toString()})(e,"desktop_app_native_pdp");var te=t(85969);const se="kK6dBL9Pj5DRlbqsKtI2",ie="uVer1071xCNKDtlxsVu9",ne="b19GaSPDm32BvowGeysk",re="QyEBTtOTazaZXMHJ41_A",oe="uD5xOVSN6NBvvitJRhlV",le="vDSnrWqagfE1gOhXGeev",ce="JjZvymbixi9asqaBYqCn",de="GFC9oKRM47xTiZPzdtrC",me="EvI7t6JqqZml_vANCGD2",he=({data:e,refToStorefront:a,locale:t,useLatestTweakit:i})=>{const r=ae(e.cta[0].link),{spec:o,logger:c}=(0,p.$)(n.Z,{data:{identifier:"hero",reason:`${e.campaignId}:${e.offerTypeId}`}}),d=(0,s.useMemo)(()=>o.heroContainerFactory({identifier:"hero",reason:`${e.campaignId}:${e.userEligibility}`}),[o,e.campaignId,e.userEligibility]),m=(0,h.n)(o.getAbsoluteLocation(),o),{openURLWithSessionTransfer:x}=(0,te.L)(),u=(0,s.useCallback)(a=>{x(r,"_blank"),a.preventDefault(),c.logInteraction(d.heroCheckoutButtonFactory({reason:`${e.campaignId}:${e.offerTypeId}`}).hitNavigateToExternalUri({destination:r}))},[d,c,x,e.campaignId,e.offerTypeId,r]),f=(0,s.useCallback)(e=>{setTimeout(()=>{a.current&&a?.current.scrollIntoView({behavior:"smooth",block:"start"})},500),e.preventDefault(),c.logInteraction(d.heroViewPlansButtonFactory().hitQuickScroll())},[d,c,a]),g=e.showCountdownTimer?((e,a,t)=>{const s=new Date;s.setHours(0,0,0,0);const i=new Date(e);i.setHours(0,0,0,0);const n=i.getTime()-s.getTime(),r=Math.round(n/864e5);return 0===r?a.offerEndsToday:1===r?a.offerEndsTomorrow:new ee.Ay(a.offerEndsInXDays,t).format({0:r})})(e.offerEndDate,e.countdownTimer,t):"",b={margin:e.showCountdownTimer?"16px 0 24px":"24px 0"};return(0,y.jsx)("div",{className:w()(se,{[me]:i}),ref:m,style:{"--background-image-url":`url(${e.backgroundDesktop.url})`,"--theme-color":e.themeHexColor},children:(0,y.jsx)("div",{className:ie,children:(0,y.jsxs)("div",{className:ne,"data-testid":"premium-hero",children:[(0,y.jsx)(l.E,{as:"h1",variant:"titleMedium",color:"var(--spice-text)",semanticColor:"textBase",style:{paddingBottom:"8px",fontSize:i?"48px":"32px"},children:(0,y.jsx)("span",{dangerouslySetInnerHTML:{__html:e.header}})}),(0,y.jsx)(l.E,{as:"p",variant:"marginal",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:i?"24px":"18px"},children:e.subheader&&e.subheader.map((e,a)=>(0,y.jsx)("span",{dangerouslySetInnerHTML:{__html:`${e}&nbsp;`}},a))}),e.showCountdownTimer&&g&&(0,y.jsx)("div",{className:ce,children:(0,y.jsxs)("div",{className:de,children:[(0,y.jsx)(J.z,{size:"small",semanticColor:"textAnnouncement"}),(0,y.jsx)(l.E,{as:"p",variant:"bodySmall",color:"var(--spice-text)",semanticColor:"textBase",children:g})]})}),(0,y.jsxs)("div",{className:oe,style:b,children:[(0,y.jsx)(W.$,{colorSet:"invertedLight",className:le,onClick:u,"aria-label":e.cta[0].accessibilityText,children:e.cta[0].text}),(0,y.jsx)(O.n,{style:{borderColor:"white"},className:le,onClick:f,"aria-label":e.cta[1].accessibilityText,children:e.cta[1].text})]}),(0,y.jsx)(l.E,{as:"p",variant:"marginal",color:"var(--spice-text)",semanticColor:"textBase",onClick:Y.k,onKeyDown:Y.k,children:(0,y.jsx)("span",{className:re,"data-testid":"hero-terms-link",dangerouslySetInnerHTML:{__html:e?.legalDisclaimer}})})]})})})},pe="_lGUkoXzvLuiey3pw5eq",xe="oYqyBVxeOPijmueGGz4r",ue="oTEz5gIHt3cgFwqpXFBC",fe="ozUmTsMkLnqwbeHlYIwt",ge="JDiUMqHXy4SyXPPK3GQa",be="HLJKCEEXcnXe8YaQch9v",je="yFffM81V_zr_FumnVfjE",ye=({data:e})=>{const a=e.paymentIcons?[...e.paymentIcons]:[];let t,s=[],i=[];const n=e.additionalPaymentMethodsLabel;a.length>5?(s=a.slice(0,4),i=a.slice(s.length,a.length),t=n.replace("{0}",i.length.toString())):s=a||[];const r={"grid-template-columns":`repeat(${i.length<4?i.length:4}, 1fr)`};return(0,y.jsxs)("div",{className:pe,"data-testid":"payment-icons",children:[(0,y.jsx)("ul",{className:xe,children:s.map(({url:e,label:a},t)=>(0,y.jsx)("li",{className:ue,children:(0,y.jsx)("div",{role:"img",className:fe,style:{backgroundImage:`url(${e})`},"aria-label":a})},`icon-${t}`))}),i.length>0&&(0,y.jsx)("div",{className:ge,children:(0,y.jsxs)("div",{className:je,tabIndex:0,children:[(0,y.jsx)("span",{children:t}),(0,y.jsx)("ul",{className:be,style:r,children:i.map(({url:e,label:a},t)=>(0,y.jsx)("li",{className:ue,children:(0,y.jsx)("div",{role:"img",className:fe,style:{backgroundImage:`url(${e})`},"aria-label":a})},`icon-${t}`))})]})})]})},ve="K6_StuK4c0TZGUEhoe5F",Ne="fdipxrpo_vGyyWo0bFwV",we="Y7ak1WGQQ0VMRsZECMjQ",Ee=({testid:e,data:a})=>(0,y.jsx)("div",{className:ve,"data-testid":e,children:(0,y.jsxs)("div",{className:Ne,children:[(0,y.jsx)(l.E,{as:"h1",variant:"titleMedium",color:"var(--spice-text)",semanticColor:"textBase",dangerouslySetInnerHTML:{__html:a.headline}}),(0,y.jsx)(l.E,{as:"p",variant:"marginal",color:"var(--spice-text)",size:18,semanticColor:"textBase",style:{fontSize:"18px"},className:we,dangerouslySetInnerHTML:{__html:a.text}})]})});var Ie=t(62411),Te=t(35094),ke=t(13074);const Ce=()=>(0,y.jsxs)("div",{className:$,children:[(0,y.jsx)(E.Z,{className:V,semanticColor:"textBase",variant:"balladBold",children:"Premium"}),(0,y.jsx)(I.G,{height:"24px",condensed:!0,semanticColor:"textBase"})]});var Me=t(60257);const Le="Z61OXRGrDMlB0Nw0ncB9",De="XvjNK65kxuU96rK7_Itx",Se="gxefNF5i7z0hOMx5MJ97",_e="T4kcFAyMxE1lyoRDlm_Q",Pe="NZ263CuFiQH1DTNteQuQ",Be="Sw7MyGqnTiQ1fxHzTQD0",He="RSHR5RanKZqC2UET2UFf",Ue="aXVUE3ZUUsRyDCVBkq8Q",Fe="jp53aCAWW6LMZlypoUwU",Ge="_7SmtdgLkHfnxTlEJ6p1Q",Re="wWkadXSTr_IMu6aHtTXW",Ze="GgfDWGUQzDsLiNvCVxJG",Ke="saaGbZk5VIlwFgT3Oy_D",Qe="zQNXuj6rkVKvs5Cv5fqj",$e=({text:e})=>(0,y.jsx)("div",{className:Fe,children:e}),Ve=(0,s.memo)(()=>(0,y.jsx)(Ce,{})),qe=({benefits:e})=>(0,y.jsx)("ul",{className:Ze,children:e.map(e=>(0,y.jsx)("li",{children:e},e))}),Xe=({options:e})=>(0,y.jsx)("ul",{className:Pe,children:e.map(e=>(0,y.jsx)("li",{children:(0,y.jsx)(l.E,{as:"p",variant:"bodyMediumBold",children:e})},e))}),ze=({primaryPriceDescription:e,secondaryPriceDescription:a})=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.E,{as:"p",className:Be,variant:"bodyMediumBold",children:e}),(0,y.jsx)(l.E,{as:"p",className:He,variant:"bodySmallBold",children:a})]}),Ae=({planName:e,hideLogo:a=!1,primaryPriceDescription:t,secondaryPriceDescription:s,prepaidOptionsDescription:i})=>(0,y.jsxs)("div",{className:Re,children:[!a&&(0,y.jsx)(Ve,{}),(0,y.jsx)(l.E,{as:"h3",variant:"titleMedium",className:_e,children:e}),i?(0,y.jsx)(Xe,{options:i}):(0,y.jsx)(ze,{primaryPriceDescription:t,secondaryPriceDescription:s}),(0,y.jsx)(ke.d,{className:Ue})]}),Je=({children:e,data:a,cardIndex:t,spec:i,noPills:n,noBadges:r})=>{const o=(0,Me.s)(),l=(c=a.encoreColorSetName,d=a.fallbackEncoreColorSetName,Te[`${c}Set`]||Te[`${d}Set`]||Te.premiumFallbackSet);var c,d;const m=l.background.base;const p="basicTier"===a.encoreColorSetName,x=ae(a.checkoutUrl),u=(0,s.useMemo)(()=>(e=>{const{planId:a,prepaidSection:t}=e;return"PREMIUM_MINI"===a?t?.prepaidOption.map(e=>e.priceDescription):void 0})(a),[a]),{openURLWithSessionTransfer:f}=(0,te.L)(),g=i?.planCardFactory({identifier:a.planId,reason:`${a.offerTypeId}`,position:t}),b=(0,h.n)(i?.getAbsoluteLocation(),i),j=(0,s.useCallback)(()=>{g&&o.logInteraction(g.planCardButtonFactory({position:0}).hitNavigateToExternalUri({destination:x})),f(x)},[f,o,x,g]);return(0,y.jsxs)("div",{"data-testid":"plan-card",ref:b,style:{"--theme-color":m},className:Se,children:[!r&&a.description&&(0,y.jsx)($e,{text:a.description}),r||!a.description&&!n&&(0,y.jsx)("span",{className:Ge}),(0,y.jsx)(Ae,{planName:a.shortPlanName,hideLogo:p,primaryPriceDescription:a.primaryPriceDescription,secondaryPriceDescription:a.secondaryPriceDescription,prepaidOptionsDescription:u}),(0,y.jsx)(qe,{benefits:a.benefit}),(0,y.jsx)(W.$,{onClick:j,fullWidth:!0,UNSAFE_colorSet:l,className:Ke,"aria-label":a.checkoutAccessibilityText,children:a.checkoutUrlText}),e]})};var We=t(97159);const Oe=(0,s.forwardRef)(({text:e,onClick:a,onKeyDown:t,role:s},i)=>(0,y.jsx)("div",{ref:i,className:Qe,dangerouslySetInnerHTML:{__html:e},onClick:a,onKeyDown:t,role:s})),Ye=(0,s.forwardRef)(({data:e,spec:a},t)=>{const i=(0,s.useMemo)(()=>a?.storefrontContainerFactory({identifier:"Storefront"}),[a]),n=(0,h.n)(i?.getAbsoluteLocation(),i),r="CA"===(0,Ie.d4)(We.JJ),o=(0,s.useRef)([]),l=e=>a=>{o.current[e]=a};(0,s.useEffect)(()=>{(()=>{let e=0;o.current.forEach(a=>{a&&a.offsetHeight>e&&(e=a.offsetHeight)}),o.current.forEach(a=>{a&&(a.style.height=`${e}px`)})})()},[e?.planCard]);let c=!0;return e?.planCard.forEach(e=>{e.description&&(c=!1)}),(0,y.jsx)("div",{ref:n,className:Le,"data-testid":"storefront",children:(0,y.jsx)("div",{className:De,ref:t,children:e?.planCard?.map((e,a)=>(0,y.jsx)(Je,{data:e,cardIndex:a,spec:i,noPills:c,noBadges:r,children:(0,y.jsx)(Oe,{ref:l(a),text:e.legalDisclaimer,onClick:Y.k,onKeyDown:Y.k,role:"link"})},e.planId))})})});var ea=t(41058),aa=t(51629);var ta=t(1812),sa=t(78969);const ia=`${t(38895).Zc}/premium-marketing`,na=(e,a,t)=>{const{data:s,isLoading:i,isError:n}=(0,ta.I)({queryKey:["premium-page"],queryFn:async()=>{const s=await(async(e,a,t)=>{const s=sa.n.getInstance(),i=await s.build().withHost(ia).withMethod("GET").withoutMarket().withPath("/marketingPage").withQueryParameters(((e,a,t)=>{const s={locale:e};return a&&(s.userEligibility=a),t&&(s.dateTimeOverride=t),s})(e,a,t)).withJsonContentType().withEndpointIdentifier("/marketingPage").send();return i.body})(e,a,t);return s.marketingPage},gcTime:18e5,staleTime:6e5});return{data:s??null,loading:i,error:n}},ra="rv8P9kXLtQhjqkLg5fEE",oa=()=>{const e=function(){const e=(0,Ie.d4)(aa.Ht);return e?.locale??""??ea.h.en}(),a=sessionStorage.getItem("eligibility")||"",t=sessionStorage.getItem("datetime")||"",l=decodeURIComponent(t),{loading:c,data:d}=na(e,a,l),m=!(!d?.benefitEducation?.benefitListHeader||!d?.benefitEducation?.benefit?.length),h=(0,s.useRef)(null);let x="premium_page:native_pdp";x="premium_page:desktop_app_native_pdp";const{spec:u,logger:f}=(0,p.$)(n.Z,{data:{identifier:x,reason:`${d?.campaignId}:${d?.userEligibility}`}}),{ref:g,inView:b}=(0,i.Wx)({fallbackInView:!0,triggerOnce:!0});return(0,s.useEffect)(()=>{b&&f.logImpression(u.impression())},[b,f,u]),!c&&d?(0,y.jsxs)("div",{ref:g,className:ra,"data-testid":"premium-page",children:[(0,y.jsx)(he,{data:{campaignId:d.campaignId,userEligibility:d.userEligibility,...d.hero},refToStorefront:h,locale:e,useLatestTweakit:!1}),(0,y.jsx)(Ee,{testid:"benefit-education-header",data:{headline:d.benefitEducation.header,text:d.benefitEducation.subheader}}),d.storefront.paymentIcon&&(0,y.jsx)(ye,{data:{paymentIcons:d.storefront.paymentIcon,additionalPaymentMethodsLabel:d.storefront.additionalPaymentMethodsLabel}}),m&&(0,y.jsx)(v,{data:{header:d.benefitEducation.benefitListHeader,benefits:d.benefitEducation.benefit,userEligibility:d.userEligibility,campaignId:d.campaignId}}),(0,y.jsx)("div",{ref:h,children:(0,y.jsx)(Ye,{data:d.storefront,spec:u})}),(0,y.jsx)(Ee,{testid:"comparison-table-header",data:{headline:d.comparisonTable.header,text:d.comparisonTable.subheader}}),(0,y.jsx)(A,{tableData:d.comparisonTable,spec:u})]}):(0,y.jsx)(o.LoadingPage,{hasError:!1,errorMessage:r.Ru.get("error.not_found.title.page")})}}}]);
//# sourceMappingURL=4237.js.map