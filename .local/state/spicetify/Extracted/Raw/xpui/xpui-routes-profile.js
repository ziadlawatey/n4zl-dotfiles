"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9480],{8134:(e,t,a)=>{a.d(t,{B:()=>o});var i=a(78717),n=a(91596),r=a(86070);const o=({children:e})=>(0,r.jsx)(i.E,{variant:"bodySmall",className:n.A.pretitle,children:e})},15074:(e,t,a)=>{a.d(t,{M:()=>r});var i=a(242),n=a(41156);const r=e=>{const t=(0,n.V)(),a=(0,i.C)()?.username;return!t&&a===e}},15828:(e,t,a)=>{a.d(t,{s:()=>r});var i=a(30758),n=a(28487);function r(e){var t,a,r,o,s,l=e.size?n.$Z[e.size]:e.iconSize,c=(0,n._C)([{size:16,svgContent:"<path d='m15.51 7.484-1.09-.406a.55.55 0 0 1-.3-.412.53.53 0 0 1 .1-.472l.8-.846a.76.76 0 0 0 .13-.87 8.3 8.3 0 0 0-2.082-2.645.75.75 0 0 0-.865-.064l-.9.55a.56.56 0 0 1-.543-.016.59.59 0 0 1-.349-.42L10.273.818a.76.76 0 0 0-.194-.417.75.75 0 0 0-.396-.227 8.1 8.1 0 0 0-3.339 0 .75.75 0 0 0-.396.227.76.76 0 0 0-.194.416L5.62 1.851a.63.63 0 0 1-.369.441.6.6 0 0 1-.569.017l-.88-.538a.74.74 0 0 0-.865.065 8.2 8.2 0 0 0-1.175 1.216q-.527.668-.906 1.43a.77.77 0 0 0 .13.87l.784.826a.54.54 0 0 1 .1.484.57.57 0 0 1-.3.424l-1.082.406a.75.75 0 0 0-.359.283.77.77 0 0 0-.13.442 8.4 8.4 0 0 0 .743 3.298.75.75 0 0 0 .751.44l1.294-.122a.45.45 0 0 1 .366.19.47.47 0 0 1 .11.413l-.4 1.233a.77.77 0 0 0 .257.84 8.1 8.1 0 0 0 3.007 1.468.73.73 0 0 0 .537-.069.75.75 0 0 0 .27-.253l.76-1.174a.457.457 0 0 1 .64.013l.75 1.162a.75.75 0 0 0 .807.321 8.2 8.2 0 0 0 3.008-1.468.76.76 0 0 0 .255-.84l-.41-1.259a.46.46 0 0 1 .107-.397.41.41 0 0 1 .354-.183l1.3.122a.745.745 0 0 0 .75-.44 8.35 8.35 0 0 0 .743-3.297.77.77 0 0 0-.128-.445.75.75 0 0 0-.36-.286m-1.176 2.075q-.095.42-.24.823l-.747-.072a1.9 1.9 0 0 0-.918.161 1.95 1.95 0 0 0-.738.576 1.95 1.95 0 0 0-.37 1.834l.236.725a6 6 0 0 1-.737.42 7 7 0 0 1-.784.322l-.447-.692a1.9 1.9 0 0 0-.69-.62A1.86 1.86 0 0 0 8 12.821a1.8 1.8 0 0 0-.883.21 1.85 1.85 0 0 0-.678.612l-.455.71a6.7 6.7 0 0 1-1.522-.743l.228-.7a1.98 1.98 0 0 0-.376-1.852 1.96 1.96 0 0 0-.743-.579 1.9 1.9 0 0 0-.923-.162l-.741.071a7 7 0 0 1-.376-1.667l.563-.212c.31-.131.583-.335.8-.595a2.15 2.15 0 0 0 .427-1.906 2.14 2.14 0 0 0-.466-.887l-.4-.421a6.7 6.7 0 0 1 1.053-1.338l.405.248a2.07 2.07 0 0 0 2 .048 2.13 2.13 0 0 0 1.2-1.61l.062-.475a6.6 6.6 0 0 1 1.69 0l.065.507a2.2 2.2 0 0 0 .404.94c.206.276.474.498.782.649a2.13 2.13 0 0 0 1.966-.051l.429-.262a6.8 6.8 0 0 1 1.053 1.337l-.421.443a2.146 2.146 0 0 0-.037 2.772c.214.258.486.46.794.59l.57.215a7 7 0 0 1-.136.845Z'/><path d='M8 6.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M4.75 8a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0'/>"},{size:24,svgContent:"<path d='m23.2 11.362-1.628-.605a.92.92 0 0 1-.52-.7.88.88 0 0 1 .18-.805l1.2-1.25a1 1 0 0 0 .172-1.145 12.1 12.1 0 0 0-3.084-3.865 1 1 0 0 0-1.154-.086l-1.35.814a.98.98 0 0 1-.931-.02 1.01 1.01 0 0 1-.59-.713l-.206-1.574a1 1 0 0 0-.787-.848 12.15 12.15 0 0 0-4.945 0 1 1 0 0 0-.785.848l-.2 1.524a1.05 1.05 0 0 1-.62.747 1.02 1.02 0 0 1-.968.02l-1.318-.795a1 1 0 0 0-1.152.086 12.1 12.1 0 0 0-3.085 3.867 1 1 0 0 0 .174 1.143l1.174 1.218a.91.91 0 0 1 .182.828.95.95 0 0 1-.532.714l-1.618.6a1 1 0 0 0-.653.955 12.1 12.1 0 0 0 1.1 4.822 1 1 0 0 0 1 .578l1.935-.183a.83.83 0 0 1 .654.327.8.8 0 0 1 .188.726l-.6 1.822a1 1 0 0 0 .34 1.106c.66.504 1.369.94 2.117 1.3s1.532.642 2.338.841a1 1 0 0 0 .715-.09 1 1 0 0 0 .362-.332l1.136-1.736a.81.81 0 0 1 1.16.022l1.124 1.714a1 1 0 0 0 1.077.422c1.617-.4 3.133-1.13 4.454-2.145a1 1 0 0 0 .341-1.106l-.613-1.859a.77.77 0 0 1 .18-.7.78.78 0 0 1 .635-.317l1.945.183a.99.99 0 0 0 1-.578 12.1 12.1 0 0 0 1.1-4.822 1 1 0 0 0-.643-.953zm-1.6 2.977q-.155.673-.4 1.318l-1.213-.115a2.85 2.85 0 0 0-2.9 3.637l.383 1.16a10 10 0 0 1-2.473 1.191l-.72-1.1a2.69 2.69 0 0 0-2.275-1.18 2.64 2.64 0 0 0-2.232 1.16l-.735 1.12a10 10 0 0 1-2.471-1.19l.37-1.125a2.88 2.88 0 0 0-2.93-3.669l-1.2.113a10.5 10.5 0 0 1-.4-1.317 10 10 0 0 1-.214-1.358l.93-.345a3.032 3.032 0 0 0 1.095-4.8L3.55 7.15a10.2 10.2 0 0 1 1.71-2.146l.688.415a3 3 0 0 0 2.875.066 3.02 3.02 0 0 0 1.726-2.283l.105-.8a10.2 10.2 0 0 1 2.745 0l.11.844a3.1 3.1 0 0 0 4.542 2.184l.721-.435a10.2 10.2 0 0 1 1.712 2.146l-.694.72a3.005 3.005 0 0 0 1.084 4.768l.942.35q-.062.687-.215 1.36zM12 7.001a5 5 0 1 0 5 5 5.006 5.006 0 0 0-4.993-5zm0 8a3 3 0 1 1 .007 0z'/>"}],l||24),u=null!==(t=e.autoMirror)&&void 0!==t&&t;return i.createElement(n.In,Object.assign({},e,{autoMirror:u,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((o=e.title,s=e.titleId,o?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(o,"</title>"):"")).concat((a=e.desc,r=e.descId,a?"<desc ".concat(r?'id="'.concat(r,'"'):"",">").concat(a,"</desc>"):"")).concat(c.svgContent)}}))}},18102:(e,t,a)=>{a.d(t,{z:()=>m});var i=a(97500),n=a.n(i),r=a(78717),o=a(37899);const s="V9GRZQZ3uJmUnFN01U1g",l="ZbHitd4viR91nboFOgnA",c="P_P6T7By5EoxYpE7Iytg",u="rz3ATID9k1sp_f_ptlV_";var d=a(86070);const m=({message:e,isErrorMessage:t=!1,className:a})=>e?(0,d.jsx)("div",{role:"alert",children:(0,d.jsx)("div",{className:n()(s,a,{[l]:t}),children:(0,d.jsxs)(r.E,{as:"p",variant:"marginal",className:c,children:[(0,d.jsx)(o.b,{size:"small",className:u,"aria-hidden":"true"}),e]})})}):null},26460:(e,t,a)=>{a.d(t,{u:()=>l,i:()=>s});var i=a(30758);const n="main-imagePicker-image";var r=a(86070);const o={accept:"image/.jpg, image/.jpeg, image/.png"};let s=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const l=function({onChange:e,onError:t,isOpen:a=!1,minImageWidth:l=0,minImageHeight:c=0,maxImageWidth:u=1e4,maxImageHeight:d=1e4,maxFileSizeMB:m=1/0,...g}){const p=i.useRef(null),h={...o,...g};(0,i.useEffect)(()=>{p.current&&a&&p.current.click()},[p,a]);const f=1048576*m;return(0,r.jsx)("input",{...h,type:"file","data-testid":"image-file-picker",ref:p,className:n,onChange:async function(a){const i=a.target,[n]=Array.from(i.files||[]);if(!n)return;const r=await async function(e){const t=await function(e){return new Promise((t,a)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{t(i.result?.toString()??"")},i.onerror=e=>a(e)})}(e),[a,i]=await function(e){return new Promise((t,a)=>{const i=new Image;i.onload=()=>{const{width:e,height:a}=i;t([e,a])},i.src=e,i.onerror=e=>a(e)})}(t);return{imageFile:e,imageDataUrl:t,imageWidth:a,imageHeight:i}}(n);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw s.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<l||e.imageHeight<c)throw s.IMAGE_TOO_SMALL;if(e.imageWidth>u||e.imageHeight>d)throw s.IMAGE_TOO_BIG;if(e.imageFile.size>f)throw s.FILE_TOO_BIG}(r),e(r)}catch(e){if("string"!=typeof e||!Object.values(s).includes(e))throw e;t(e)}}})}},34667:(e,t,a)=>{a.d(t,{b:()=>r,g:()=>n});var i=a(30758);let n=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function r(e,t){const a=e?n.loading:n.error,[r,o]=(0,i.useState)(a);return(0,i.useEffect)(()=>{const a=()=>{o(n.loaded)},i=()=>{o(n.error)};if(!e)return o(n.error),()=>{};o(n.loading);const r=document.createElement("img");return r.addEventListener("load",a),r.addEventListener("error",i),r.setAttribute("src",e),t&&r.setAttribute("srcSet",t),()=>{r.removeEventListener("load",a),r.removeEventListener("error",i)}},[e,t]),r}},38380:(e,t,a)=>{a.d(t,{a:()=>i});const i=e=>e?.linked_from?.uri||e.uri},38583:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Wa});var i=a(30758),n=a(85387),r=a(39329),o=a(27360),s=a(14336),l=a(54091),c=a(80128),u=a(10812),d=a(62623),m=a(96583),g=a(86070);const p=({entity:e,index:t})=>(0,o.ecE)(e.uri)?(0,g.jsx)(d.a,{index:t,uri:e.uri,name:e.name,images:[{url:e.imageUrl}]}):(0,g.jsx)(m.a,{index:t,uri:e.uri,name:e.name,images:[{url:e.imageUrl}]});var h=a(77858),f=a(45167);const v=e=>{const{uri:t}=e,{data:a,loading:i,error:n}=(0,f.Z)(h.SR,[t]),r=a?.profiles;if(i||n){const e=null!==n;return(0,g.jsx)(c.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return(0,g.jsx)(u.$,{title:l.Ru.get("followers"),total:r?.length,showAll:!0,fullPage:!0,rowGap:s.lT,children:r?.map((e,t)=>(0,g.jsx)(p,{index:t,entity:e},e.uri))})};var y=a(40539);const _="bIJWa4yXDaCE2Y7kEpBI",x=e=>{const{uri:t}=e,{data:a,loading:n,error:r}=(0,f.Z)(h.mH,[t]),s=a?.profiles,d=(0,i.useMemo)(()=>s?.filter(e=>(0,o.ecE)(e.uri))||[],[s]),m=(0,i.useMemo)(()=>s?.filter(e=>(0,o.APS)(e.uri))||[],[s]),[v,x]=(0,i.useState)("all"),b=d.length&&m.length,j=(0,i.useMemo)(()=>{if(!b)return s;switch(v){case"artists":return d;case"users":return m;default:return s}},[v,s,d,m,b]),C=(0,i.useCallback)(()=>b?(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)(y.v,{selected:"all"===v,onClick:()=>{x("all")},selectedColorSet:"invertedLight",children:l.Ru.get("web-player.user-page.following.filter-all")}),(0,g.jsx)(y.v,{selected:"artists"===v,onClick:()=>{x("artists")},selectedColorSet:"invertedLight",children:l.Ru.get("web-player.user-page.following.filter-artists")}),(0,g.jsx)(y.v,{selected:"users"===v,onClick:()=>{x("users")},selectedColorSet:"invertedLight",children:l.Ru.get("web-player.user-page.following.filter-friends")})]}):(0,g.jsx)(g.Fragment,{}),[v,b]);if(n||r){const e=null!==r;return(0,g.jsx)(c.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return(0,g.jsx)(u.$,{title:l.Ru.get("following"),total:s?.length,showAll:!0,fullPage:!0,renderSubHeader:C,children:j?.map((e,t)=>(0,g.jsx)(p,{index:t,entity:e},e.uri))})};var b=a(73367),j=a(62411),C=a(42551),k=a(78717),E=a(91198),I=a(31143);const T="music",w="3.0.0",A="default",L="17.0.0";function P(e){return new R(e)}class R{constructor(e){this.specType=I.a.ROOT,this._path=[{name:"desktop-profile",...e.data}]}headerFactory(){return new R.HeaderEventFactory({path:this._path})}actionBarFactory(){return new R.ActionBarEventFactory({path:this._path})}sectionTopTracksFactory(){return new R.SectionTopTracksEventFactory({path:this._path})}editDetailsModalFactory(){return new R.EditDetailsModalEventFactory({path:this._path})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}}!function(e){e.HeaderEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"header"})}profileImageFactory(){return new e.HeaderEventFactory.ProfileImageEventFactory({path:this._path})}usernameFactory(){return new e.HeaderEventFactory.UsernameEventFactory({path:this._path})}followersLinkFactory(){return new e.HeaderEventFactory.FollowersLinkEventFactory({path:this._path})}followingLinkFactory(){return new e.HeaderEventFactory.FollowingLinkEventFactory({path:this._path})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}}}(R||(R={})),function(e){e.ActionBarEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"action_bar"})}followButtonFactory(){return new e.ActionBarEventFactory.FollowButtonEventFactory({path:this._path})}contextMenuButtonFactory(){return new e.ActionBarEventFactory.ContextMenuButtonEventFactory({path:this._path})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}}}(R||(R={})),function(e){e.SectionTopTracksEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"section_top_tracks"})}titleLinkFactory(){return new e.SectionTopTracksEventFactory.TitleLinkEventFactory({path:this._path})}seeMoreLinkFactory(){return new e.SectionTopTracksEventFactory.SeeMoreLinkEventFactory({path:this._path})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}}}(R||(R={})),function(e){e.EditDetailsModalEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"edit_details_modal"})}cancelButtonFactory(){return new e.EditDetailsModalEventFactory.CancelButtonEventFactory({path:this._path})}saveButtonFactory(){return new e.EditDetailsModalEventFactory.SaveButtonEventFactory({path:this._path})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}impression(){return{app:T,generatorVersion:L,specificationVersion:w,specificationMode:A,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(R||(R={})),function(e){!function(e){e.ProfileImageEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"profile_image"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.UsernameEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"username"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.FollowersLinkEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"followers_link"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.FollowingLinkEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"following_link"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.FollowButtonEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"follow_button"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitFollow({itemToBeFollowed:e}){return{actionParameterNames:["item_to_be_followed"],actionParameterValues:[e.toString()],actionName:"follow",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}hitUnfollow({itemToBeUnfollowed:e}){return{actionParameterNames:["item_to_be_unfollowed"],actionParameterValues:[e.toString()],actionName:"unfollow",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(R||(R={})),function(e){!function(e){e.ContextMenuButtonEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"context_menu_button"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(R||(R={})),function(e){!function(e){e.TitleLinkEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"title_link"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.SectionTopTracksEventFactory||(e.SectionTopTracksEventFactory={}))}(R||(R={})),function(e){!function(e){e.SeeMoreLinkEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"see_more_link"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.SectionTopTracksEventFactory||(e.SectionTopTracksEventFactory={}))}(R||(R={})),function(e){!function(e){e.CancelButtonEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"cancel_button"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.EditDetailsModalEventFactory||(e.EditDetailsModalEventFactory={}))}(R||(R={})),function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"save_button"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[A,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[w,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitChangeDisplayName(){return{actionName:"change_display_name",actionVersion:1,app:T,generatorVersion:L,interactionType:"hit",specificationMode:A,specificationVersion:w,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(e.EditDetailsModalEventFactory||(e.EditDetailsModalEventFactory={}))}(R||(R={}));var N=a(11183),M=a(82898),F=a(9092),S=a(29947),U=a(82063),O=a(12552),V=a(46920),D=a(86487),B=a(17422),H=a(29934),G=a(83130),z=a(8134),q=a(54839),Z=a(4112),W=a(31808),$=a(97500),Q=a.n($),Y=a(30920),X=a(78066),K=a(73136),J=a(37528),ee=a(26460),te=a(43285),ae=a(18102),ie=a(99974),ne=a(90970),re=a(34667);const oe="profile-userEditDetails-image",se="BuNw7KcoQ5DDp299gSNo",le="UZMmvVZY_m_1wSSDa7BA",ce="TVRNDzvz6TJUMIKzlMMR",ue="qFPxZNOOoeTCZa2RBKUK",de=function({onClickEdit:e,onClickRemove:t,name:a,images:i,canEdit:n}){const[r,o]=(0,ne.P)(i),s=(0,re.b)(r,o)===re.g.loaded;return(0,g.jsxs)("div",{className:oe,children:[(0,g.jsx)(G.b,{loading:"eager",name:a,images:i,placeholderType:"user",shape:G.u.CIRCLE}),n&&(0,g.jsxs)("div",{className:Q()(se,{[ce]:s}),children:[(0,g.jsx)("button",{className:le,"aria-haspopup":"true",onClick:e,type:"button",children:(0,g.jsx)(k.E,{variant:"bodyMedium",children:l.Ru.get("user.edit-details.choose-photo")})}),(0,g.jsx)("div",{className:Q()(ue,"icon"),children:(0,g.jsx)(ie.G,{size:"xlarge","aria-hidden":!0})}),(0,g.jsx)("button",{className:le,onClick:t,type:"button",children:(0,g.jsx)(k.E,{variant:"bodyMedium",children:l.Ru.get("user.edit-details.remove-photo")})})]})]})};var me=a(27138),ge=(a(14248),a(91906),a(33214),a(59800),a(42288)),pe=a(9472),he=a.n(pe);const fe={encode:(e,t=he().Writer.create())=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const a=e instanceof he().Reader?e:he().Reader.create(e);let i=void 0===t?a.len:a.pos+t;const n={value:0};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:if(8!==e)break;n.value=a.int32();continue}if(4==(7&e)||0===e)break;a.skipType(7&e)}return n}};const ve={encode:(e,t=he().Writer.create())=>(!1!==e.value&&t.uint32(8).bool(e.value),t),decode(e,t){const a=e instanceof he().Reader?e:he().Reader.create(e);let i=void 0===t?a.len:a.pos+t;const n={value:!1};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:if(8!==e)break;n.value=a.bool();continue}if(4==(7&e)||0===e)break;a.skipType(7&e)}return n}};const ye={encode:(e,t=he().Writer.create())=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const a=e instanceof he().Reader?e:he().Reader.create(e);let i=void 0===t?a.len:a.pos+t;const n={value:""};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;n.value=a.string();continue}if(4==(7&e)||0===e)break;a.skipType(7&e)}return n}};he().util.Long!==ge.A&&(he().util.Long=ge.A,he().configure());const _e={encode:(e,t=he().Writer.create())=>(0!==e.maxWidth&&t.uint32(8).int32(e.maxWidth),0!==e.maxHeight&&t.uint32(16).int32(e.maxHeight),""!==e.url&&t.uint32(26).string(e.url),t),decode(e,t){const a=e instanceof he().Reader?e:he().Reader.create(e);let i=void 0===t?a.len:a.pos+t;const n={maxWidth:0,maxHeight:0,url:""};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:if(8!==e)break;n.maxWidth=a.int32();continue;case 2:if(16!==e)break;n.maxHeight=a.int32();continue;case 3:if(26!==e)break;n.url=a.string();continue}if(4==(7&e)||0===e)break;a.skipType(7&e)}return n},create:e=>_e.fromPartial(e??{}),fromPartial(e){const t={maxWidth:0,maxHeight:0,url:""};return t.maxWidth=e.maxWidth??0,t.maxHeight=e.maxHeight??0,t.url=e.url??"",t}};const xe={encode(e,t=he().Writer.create()){void 0!==e.username&&ye.encode({value:e.username},t.uint32(10).fork()).ldelim(),void 0!==e.name&&ye.encode({value:e.name},t.uint32(18).fork()).ldelim();for(const a of e.images)_e.encode(a,t.uint32(26).fork()).ldelim();return void 0!==e.verified&&ve.encode({value:e.verified},t.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&ve.encode({value:e.editProfileDisabled},t.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&ve.encode({value:e.reportAbuseDisabled},t.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&ve.encode({value:e.abuseReportedName},t.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&ve.encode({value:e.abuseReportedImage},t.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&ve.encode({value:e.hasSpotifyName},t.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&ve.encode({value:e.hasSpotifyImage},t.uint32(82).fork()).ldelim(),void 0!==e.color&&fe.encode({value:e.color},t.uint32(90).fork()).ldelim(),t},decode(e,t){const a=e instanceof he().Reader?e:he().Reader.create(e);let i=void 0===t?a.len:a.pos+t;const n={username:void 0,name:void 0,images:[],verified:void 0,editProfileDisabled:void 0,reportAbuseDisabled:void 0,abuseReportedName:void 0,abuseReportedImage:void 0,hasSpotifyName:void 0,hasSpotifyImage:void 0,color:void 0};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;n.username=ye.decode(a,a.uint32()).value;continue;case 2:if(18!==e)break;n.name=ye.decode(a,a.uint32()).value;continue;case 3:if(26!==e)break;n.images.push(_e.decode(a,a.uint32()));continue;case 4:if(34!==e)break;n.verified=ve.decode(a,a.uint32()).value;continue;case 5:if(42!==e)break;n.editProfileDisabled=ve.decode(a,a.uint32()).value;continue;case 6:if(50!==e)break;n.reportAbuseDisabled=ve.decode(a,a.uint32()).value;continue;case 7:if(58!==e)break;n.abuseReportedName=ve.decode(a,a.uint32()).value;continue;case 8:if(66!==e)break;n.abuseReportedImage=ve.decode(a,a.uint32()).value;continue;case 9:if(74!==e)break;n.hasSpotifyName=ve.decode(a,a.uint32()).value;continue;case 10:if(82!==e)break;n.hasSpotifyImage=ve.decode(a,a.uint32()).value;continue;case 11:if(90!==e)break;n.color=fe.decode(a,a.uint32()).value;continue}if(4==(7&e)||0===e)break;a.skipType(7&e)}return n},create:e=>xe.fromPartial(e??{}),fromPartial(e){const t={username:void 0,name:void 0,images:[],verified:void 0,editProfileDisabled:void 0,reportAbuseDisabled:void 0,abuseReportedName:void 0,abuseReportedImage:void 0,hasSpotifyName:void 0,hasSpotifyImage:void 0,color:void 0};return t.username=e.username??void 0,t.name=e.name??void 0,t.images=e.images?.map(e=>_e.fromPartial(e))||[],t.verified=e.verified??void 0,t.editProfileDisabled=e.editProfileDisabled??void 0,t.reportAbuseDisabled=e.reportAbuseDisabled??void 0,t.abuseReportedName=e.abuseReportedName??void 0,t.abuseReportedImage=e.abuseReportedImage??void 0,t.hasSpotifyName=e.hasSpotifyName??void 0,t.hasSpotifyImage=e.hasSpotifyImage??void 0,t.color=e.color??void 0,t}};const be={encode:(e,t=he().Writer.create())=>(void 0!==e.mask&&me.N.encode(me.N.wrap(e.mask),t.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&xe.encode(e.userProfile,t.uint32(18).fork()).ldelim(),t),decode(e,t){const a=e instanceof he().Reader?e:he().Reader.create(e);let i=void 0===t?a.len:a.pos+t;const n={mask:void 0,userProfile:void 0};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;n.mask=me.N.unwrap(me.N.decode(a,a.uint32()));continue;case 2:if(18!==e)break;n.userProfile=xe.decode(a,a.uint32());continue}if(4==(7&e)||0===e)break;a.skipType(7&e)}return n},create:e=>be.fromPartial(e??{}),fromPartial(e){const t={mask:void 0,userProfile:void 0};return t.mask=e.mask??void 0,t.userProfile=void 0!==e.userProfile&&null!==e.userProfile?xe.fromPartial(e.userProfile):void 0,t}};var je=a(38895),Ce=a(26887);const ke=`${je.I_}/identity`;async function Ee(e,t,{name:a,imageUploadToken:i}){void 0!==a&&await async function(e,t,a){const i=be.encode(be.fromPartial({mask:["name"],userProfile:null!==a?{name:a}:{}}));await e.build().withHost(ke).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,Ce.v)(t))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send()}(e,t,a),void 0!==i&&(null!==i?await async function(e,t,a){await e.build().withHost(ke).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,Ce.v)(t))}/${a}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,t,i):await async function(e,t){await e.build().withHost(ke).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,Ce.v)(t))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,t))}var Ie=a(78969);const Te={type:"error",get message(){return l.Ru.get("user.edit-details.error.file-size-exceeded",10)}},we={type:"error",get message(){return l.Ru.get("user.edit-details.error.too-small",300,300)}},Ae={type:"error",get message(){return l.Ru.get("user.edit-details.error.too-big",1e4,1e4)}},Le={type:"error",get message(){return l.Ru.get("user.edit-details.error.image-type-not-supported")}},Pe={type:"error",get message(){return l.Ru.get("user.edit-details.error.missing-name")}},Re={type:"error",get message(){return l.Ru.get("user.edit-details.error.failed-to-save")}},Ne={type:"error",get message(){return l.Ru.get("user.edit-details.error.file-upload-failed")}};function Me(e){return{type:"setLoading",loading:e}}function Fe(e){return{type:"setMessage",message:e}}function Se(e,t){switch(t.type){case"setName":return{...e,name:t.name};case"setMessage":return{...e,message:t.message,loading:!1};case"setLoading":return{...e,loading:t.loading,message:null};case"setImageData":return{...e,imageData:t.data,removeImage:!1};case"setImageToken":return{...e,imageToken:t.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}var Ue=a(55517);const Oe="profile-userEditDetails-container",Ve="profile-userEditDetails-content",De="profile-userEditDetails-header",Be="profile-userEditDetails-closeButton",He="RoPoe1ToqyIe6VL21DM5",Ge="jgVGEL6_p1IJTk1cC3zS",ze="profile-userEditDetails-nameInput",qe="profile-userEditDetails-name",Ze="profile-userEditDetails-label",We="profile-userEditDetails-labelText",$e="wbllng7PQvKGWQXwE6wt",Qe="profile-userEditDetails-saveButton",Ye="profile-userEditDetails-disclaimer",Xe=i.memo(function({uri:e,name:t,image:a,onClose:n,shouldOpenImagePicker:r,userCapabilities:o}){const[s,c]=(0,te.p)(),[u,d]=function({name:e,image:t}){return(0,i.useReducer)(Se,{loading:!1,message:null,name:e,image:t})}({name:t,image:a}),{spec:m,logger:p}=(0,Ue.$)(P,{data:{uri:e}});(0,i.useEffect)(()=>{p.logImpression(m.editDetailsModalFactory().impression())},[p,m]);const h=(0,i.useMemo)(()=>{const e=u.imageData||u.image;return e?[{url:e,width:300,height:300}]:[]},[u.image,u.imageData]);(0,i.useEffect)(()=>{r&&c()},[c,r]);const f=(0,i.useCallback)(e=>{e===ee.i.FILE_TOO_BIG?d(Fe(Te)):e===ee.i.IMAGE_TOO_SMALL?d(Fe(we)):e===ee.i.IMAGE_TOO_BIG?d(Fe(Ae)):e===ee.i.IMAGE_TYPE_NOT_SUPPORTED&&d(Fe(Le))},[d]),v=(0,i.useCallback)(()=>{d({type:"removeImage"})},[d]),y=(0,i.useCallback)(async a=>{a.preventDefault();if(0===u.name.trim().length)return void d(Fe(Pe));const i=u.name!==t,r=u.imageData||u.removeImage;if(!i&&!r)return p.logInteraction(m.editDetailsModalFactory().cancelButtonFactory().hitUiHide()),void n();try{i&&p.logInteraction(m.editDetailsModalFactory().saveButtonFactory().hitChangeDisplayName());const t=u.removeImage?null:u.imageToken;await async function(e,{name:t,imageUploadToken:a}){await Ee(Ie.n.getInstance(),e,{name:t,imageUploadToken:a})}(e,{name:u.name,imageUploadToken:t}),n({name:u.name,image:u.imageData||u.image})}catch(e){d(Fe(Re))}},[d,p,t,n,m,u.image,u.imageData,u.imageToken,u.name,u.removeImage,e]),_=(0,i.useCallback)(()=>{p.logInteraction(m.editDetailsModalFactory().cancelButtonFactory().hitUiHide()),n()},[p,n,m]);return(0,g.jsx)(J.A,{isOpen:!0,contentLabel:l.Ru.get("user.edit-details.title"),onRequestClose:_,children:(0,g.jsxs)("div",{className:Oe,children:[(0,g.jsxs)("div",{className:De,children:[(0,g.jsx)(k.E,{as:"h1",variant:"titleSmall",children:l.Ru.get("user.edit-details.title")}),(0,g.jsx)("button",{className:Be,onClick:_,"aria-label":l.Ru.get("close"),children:(0,g.jsx)(Y.M,{size:"small"})})]}),u.message&&(0,g.jsx)(ae.z,{isErrorMessage:"error"===u.message.type,message:u.message.message}),(0,g.jsxs)("form",{className:Ve,onSubmit:y,children:[o.edit_image&&(0,g.jsx)(ee.u,{isOpen:s,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:a}=e;if(d(Fe(null)),d({type:"setImageData",data:a}),t)try{d(Me(!0));const e=await async function(e){const t=await Ie.n.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:e.type}]).withoutMarket().send();if(!t.body)throw new Error("No upload token received");return t.body.uploadToken}(t);d({type:"setImageToken",token:e}),d(Me(!1))}catch{d(Fe(Ne))}},onError:f}),(0,g.jsxs)("div",{className:He,children:[(0,g.jsx)(de,{name:t,images:h,onClickEdit:c,onClickRemove:v,canEdit:o.edit_image}),u.loading&&(0,g.jsx)("div",{className:Ge,children:(0,g.jsx)(X.U,{})})]}),(0,g.jsxs)("div",{className:qe,children:[(0,g.jsx)("label",{htmlFor:"user-edit-name",className:Ze,children:(0,g.jsx)(k.E,{variant:"marginalBold",className:We,children:l.Ru.get("user.edit-details.name-label")})}),(0,g.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:Q()(ze,$e),onChange:e=>{d(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:l.Ru.get("user.edit-details.name-placeholder"),maxLength:32,value:u.name,disabled:!o.edit_name})]}),(0,g.jsx)("div",{className:Qe,children:(0,g.jsx)(K.$,{colorSet:"invertedLight",onClick:y,disabled:u.loading,children:l.Ru.get("save")})}),(0,g.jsx)(k.E,{as:"p",variant:"marginalBold",className:Ye,children:l.Ru.get("image-upload.legal-disclaimer")})]})]})})});var Ke=a(40948),Je=a(17686),et=a(22141),tt=a(64300),at=a(31407),it=a(89676),nt=a(35394),rt=a(15828),ot=a(20005),st=a(98117),lt=a(49126);const ct=()=>{const e=(0,lt.p)(st.a.PUBLISH_NEW_PLAYLISTS),t=(0,i.useCallback)(()=>{e()},[e]);return(0,g.jsx)(ot.Zp,{label:l.Ru.get("web-player.user-page.settings-link"),children:(0,g.jsx)(nt.H,{iconOnly:rt.s,condensedAll:!0,onClick:t,"aria-label":l.Ru.get("web-player.user-page.settings-link")})})};var ut=a(13992),dt=a(81694),mt=a(96029),gt=a(70613);const pt=i.memo(function({openModal:e,spec:t,logger:a,name:n,backgroundColor:r,isCurrentUser:o,uri:s}){const[c,u]=(0,mt.Y)(s),d=!(0,dt.n)(),m=(0,i.useCallback)(()=>{const e=t.actionBarFactory().followButtonFactory();c?(u(!1),a.logInteraction(e.hitUnfollow({itemToBeUnfollowed:s}))):(u(!0),a.logInteraction(e.hitFollow({itemToBeFollowed:s})))},[c,a,u,t,s]),p=(0,i.useCallback)(()=>{const e=t.actionBarFactory().contextMenuButtonFactory().hitUiReveal();a.logInteraction(e)},[a,t]),h=(0,ut.j)(),f=(0,E.NC)(gt.V2e);return(0,g.jsx)(Ke.E,{backgroundColor:r,children:(0,g.jsxs)(Je.S,{children:[!o&&(0,g.jsx)(at.e,{children:(0,g.jsx)(it.W,{isFollowing:Boolean(c),onClick:m,disabled:d})}),o&&f&&(0,g.jsx)(ct,{}),(0,g.jsx)(tt.b,{menu:(0,g.jsx)(F.B,{uri:s,onEditProfileCallback:e}),children:(0,g.jsx)(et.e,{label:l.Ru.get("more.label.context",n),onClick:p,size:h})})]})})});var ht=a(85778),ft=a(98825),vt=a(31006),yt=a(76826),_t=a(41156);function xt({children:e,...t}){return(0,_t.V)()?(0,g.jsx)(g.Fragment,{children:e}):(0,g.jsx)(yt.N,{...t,children:e})}function bt({userUri:e,totalPublicPlaylistsCount:t,followersCount:a,followingCount:i,theyFollowUs:n,spec:r,logger:s}){return(0,g.jsxs)(ht.X,{children:[t>0&&(0,g.jsx)(ft.q,{children:l.Ru.get("user.public-playlists",t)}),(0,g.jsx)(vt.J,{}),a>0&&(0,g.jsx)(xt,{to:(0,o.Qjr)((0,Ce.v)(e),["followers"]).toURI(),onClick:(e,t)=>{if(!t)return;const a=r.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});s.logInteraction(a)},children:(0,g.jsx)(k.E,{variant:"bodySmall",children:l.Ru.get("user.followers",a)})}),(0,g.jsx)(vt.J,{}),i>0&&(0,g.jsx)(xt,{to:(0,o.Qjr)((0,Ce.v)(e),["following"]).toURI(),onClick:(e,t)=>{if(!t)return;const a=r.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});s.logInteraction(a)},children:(0,g.jsx)(k.E,{variant:"bodySmall",children:l.Ru.get("user.following",i)})}),(0,g.jsx)(vt.J,{}),n&&(0,g.jsx)(ft.q,{children:l.Ru.get("user.they_follow_us")})]})}var jt=a(69316),Ct=a(10520),kt=a(21017),Et=a(50279),It=a(35313),Tt=a(70675),wt=a(7255),At=a(38529),Lt=a(31289),Pt=a(70655),Rt=a(74571),Nt=a(26471),Mt=a(3591),Ft=a(34267),St=a(66079),Ut=a(78007),Ot=a(94315),Vt=a(18949),Dt=a(90809),Bt=a(18204),Ht=a(29112),Gt=a(15223),zt=a(15510),qt=a(67793),Zt=a(94101),Wt=a(54635),$t=a(96882),Qt=a(44451),Yt=a(24238),Xt=a(75794);const Kt=i.memo(function({uri:e,name:t,duration_ms:a,artists:i,album:n,contextUri:r,isExplicit:o,isMOGEFRestricted:s,isPlayable:c,index:u,imgUrl:d,usePlayContextItem:m,hasAssociatedVideo:p}){const{spec:h}=(0,Qt.D)(Ct.i,{data:{position:u,reason:"",uri:e}}),{isActive:f,isPlaying:v,triggerPlay:y,togglePlay:_}=m({uri:e,index:u}),x=(0,$t.T)(e),{isArtistBanned:b,unbanArtist:j}=(0,Gt.D)(i[0]?.uri),C=(0,zt.g)(e,{isPlayable:c,isLocal:!1,isOutOfMarket:!1,isArtistBanned:b}),{badges:k,hasBadges:E}=(0,Yt.b)({downloadAvailability:x,isExplicit:o,isMOGEFRestricted:s,isVideo:p}),I=i?.map(e=>e.name).join(l.Ru.getSeparator())||"";return(0,g.jsx)(M.h,{menu:(0,g.jsx)(kt.P,{uri:e,albumUri:n.uri,artists:i,contextUri:r}),children:(0,g.jsxs)(Dt.w,{uri:e,contextUri:r,onTriggerPlay:(e,t)=>{y({loggingParams:t})},isActive:f,index:u,ariaRowIndex:u+1,isPlayable:C,isArtistBanned:b,handleArtistBanUndoClick:j,ageRestricted:s,dragMetadata:{name:t,createdBy:I},spec:h,isExplicit:o,children:[(0,g.jsx)(Ft.y,{ariaColIndex:0,children:(0,g.jsx)(Pt.$,{uri:e,playAriaLabel:l.Ru.get("tracklist.a11y.play",t,I),isPlaying:v,isActive:f,onClick:(e,t)=>{C&&_({loggingParams:t})},spec:h,children:(0,g.jsx)(Nt.a,{children:u+1})})}),(0,g.jsxs)(St.U,{ariaColIndex:1,children:[(0,g.jsx)(At.e,{src:d}),(0,g.jsxs)(Lt.l,{children:[(0,g.jsx)(Vt.p,{titleText:t,children:t}),E&&(0,g.jsxs)(Tt.P,{children:[k.download&&(0,g.jsx)(Zt._,{}),k.explicit&&(0,g.jsx)(qt.U,{}),k.nineteen&&(0,g.jsx)(Wt.q,{className:Xt.A.nineteen,size:16}),k.isVideo&&(0,g.jsx)(Bt.l,{})]}),(0,g.jsx)(Ot.p,{children:(0,g.jsx)(It.l,{artists:i,spec:h})})]})]}),(0,g.jsx)(Ut.o,{ariaColIndex:2,children:(0,g.jsx)(Et.g,{uri:n.uri,name:n.name,creatorUri:i?.[0]?.uri,spec:h,children:n.name})}),(0,g.jsxs)(Mt.l,{ariaColIndex:3,children:[(0,g.jsx)(Ht.d,{uri:e,spec:h}),(0,g.jsx)(wt.P,{duration:a}),(0,g.jsx)(Rt.Y,{menu:(0,g.jsx)(kt.P,{uri:e,albumUri:n.uri,artists:i,contextUri:r}),label:l.Ru.get("more.label.track",t,I),spec:h})]})]})})},(e,t)=>e.uri===t.uri);var Jt=a(23895),ea=a(16666),ta=a(38380),aa=a(49060),ia=a(72045),na=a(89307),ra=a(76392);const oa=i.memo(function({tracks:e,hasHeaderRow:t=!1,nrTracksVisible:a,uri:n}){const r=(0,Ce.v)(n),s=(0,o.duX)(r,"tracks").toURI(),c=(0,i.useMemo)(()=>a?e.slice(0,a):e,[a,e]),{usePlayContextItem:u}=(0,aa.P)({uri:s,pages:[{items:e.map(e=>({type:na.c.TRACK,uri:e.uri,uid:null,provider:null}))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),d=(0,E.NC)(gt.LX5),m=(0,i.useCallback)((e,t)=>{const a=(0,ra.g)(e?.albumOfTrack?.coverArt?.sources,{desiredSize:40}),i=e.associationsV3.videoAssociations.totalCount>0;return(0,g.jsx)(Kt,{index:t,uri:(0,ta.a)(e),duration_ms:e.duration.totalMilliseconds,name:e.name,artists:e.artists.items.map(({uri:e,profile:{name:t}})=>({uri:e,name:t})),album:e.albumOfTrack,isPlayable:!0,isExplicit:e.contentRating?.label===ia.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===ia.x7.NineteenPlus,imgUrl:a?.url||"",contextUri:s,usePlayContextItem:u,hasAssociatedVideo:i&&d},t+e.uri)},[s,d,u]),p=(0,i.useMemo)(()=>[ea.$C.INDEX,ea.$C.TITLE_AND_ARTIST,ea.$C.ALBUM,ea.$C.DURATION],[]),h=(0,i.useCallback)(e=>({uri:e.uri}),[]);return(0,g.jsx)(Jt.S4,{ariaLabel:l.Ru.get("top_tracks_this_month"),renderRow:m,nrTracks:c.length,tracks:c,resolveItem:h,headerTop:0,hasHeaderRow:t,columns:p,columnPersistenceKey:ea.SZ.USER_TOP_TRACKS})},(e,t)=>e.tracks===t.tracks);var sa=a(55247),la=a(60257);const ca=i.memo(function({tracks:e,title:t,subtitle:a,seeAllUri:n,className:r,uri:o,spec:s}){const l=(0,la.s)(),c=(0,i.useCallback)(()=>{const e=s.titleLinkFactory().hitUiNavigate({destination:n});l.logInteraction(e)},[l,n,s]),u=(0,i.useCallback)(()=>{const e=s.titleLinkFactory().hitUiNavigate({destination:n});l.logInteraction(e)},[l,n,s]);if(!e||0===e.totalCount||0===e.items.length)return null;const d=e.totalCount>4;return(0,g.jsxs)("section",{className:r,children:[(0,g.jsx)(jt.k,{title:t,subtitle:a,seeAllUri:n,showSeeAll:d,onClickTitle:c,onClickSeeAll:u}),(0,g.jsx)(sa.r,{spec:s,children:(0,g.jsx)(oa,{tracks:e.items,uri:o,nrTracksVisible:4})})]})},(e,t)=>e.tracks===t.tracks);function ua(e,t){switch(t.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var da=a(75072),ma=a(26843);const ga=Spicetify.GraphQL.Definitions["userTopContent"]=new da.l("userTopContent","query","49ee15704de4a7fdeac65a02db20604aa11e46f02e809c55d9a89f6db9754356",null);function pa(e){return"Artist"===e.__typename}function ha(e){if("ArtistPageV2"!==e?.topArtists?.__typename)return null;const t=e.topArtists.items.map(e=>e.data).filter(pa);return 0===t.length?null:{totalCount:e.topArtists.totalCount,items:t}}function fa(e){return"Track"===e.__typename}function va(e){if("TrackPageV2"!==e?.topTracks?.__typename)return null;const t=e.topTracks.items.map(e=>e.data).filter(fa).filter(e=>null!==e.albumOfTrack);return 0===t.length?null:{totalCount:e.topTracks.totalCount,items:t}}const ya=ia.xE.Affinity,_a=ia.Nm.ShortTerm;function xa({includeTopArtists:e,includeTopTracks:t,topArtistsLimit:a,topTracksLimit:i}){const{data:n,loading:r,error:o}=(s={includeTopArtists:e,topArtistsInput:{offset:0,limit:a,sortBy:ya,timeRange:_a},includeTopTracks:t,topTracksInput:{offset:0,limit:i,sortBy:ya,timeRange:_a}},l={enabled:e||t,gcTime:18e5,staleTime:3e5},(0,ma.I)(ga,s,l));var s,l;return null!==o?{topTracks:null,topArtists:null,loading:r,error:new Error("Failed loading user top content!")}:{topTracks:va(n?.me?.profile??null),topArtists:ha(n?.me?.profile??null),loading:r,error:null}}var ba=a(52753),ja=a(14484),Ca=a(29298),ka=a(51629),Ea=a(75676),Ia=a(52632),Ta=a(13600),wa=a(18348);const Aa="o4ZjOU2jF77Lyn5sj2ZA",La="zLAesFTq26qpqIxuveE7",Pa="xukSoFfcZo8oO7C_u3CM",Ra="B_WsDNyZzpwfsbPZfZiv",Na="gfKt4jMx__RpDvYOhSFS",Ma="OwB50Yy5nVM3ScV8ReLA",Fa=18e5,Sa=(0,C.Mz)(ka.mB,e=>e?.images||[]),Ua=({uri:e,isCurrentUser:t})=>{const a=(0,j.d4)(ka.mB)?.uri,n=(0,j.d4)(ka.Mn),r=(0,j.d4)(Sa),s=(0,j.wA)(),u=(0,b.jE)(),m=(0,E.NC)(gt.DGB,{loadingValue:!0}),v=(0,i.useMemo)(()=>(0,ra.g)(r),[r]),[{isModalOpen:y,modalVariant:_,shouldOpenImagePicker:x},C]=function(){const[e,t]=(0,i.useReducer)(ua,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,t]}(),I=(0,E.NC)(gt.V2e)&&t,{data:T,loading:w,queryKey:A}=(0,f.Z)(h.E$,[{uri:e,playlists:10,artists:10,episodes:10,shouldUseNewProfileSettingsParam:I}],{gcTime:Fa}),L=(0,_t.V)();(0,Ca.N)(ja.mc.OPERATION_COMPLETE,()=>{u.invalidateQueries({queryKey:A})}),(0,Ta.l)(Ia.UV.OPERATION_COMPLETE,()=>{u.invalidateQueries({queryKey:A})});const R=T?.publicPlaylists,$=T?.isVerified,Q=T?.recentlyPlayedArtists,Y=t?v?.url||"":T?.imageUrl||"",X=(0,Ce.v)(e),K=(t?n:T?.name)||"",J=(0,ba.H)(T?.imageUrl||null),{spec:ee,logger:te}=(0,Ue.$)(P,{data:{uri:e}}),ae=(0,i.useMemo)(()=>ee.sectionTopTracksFactory(),[ee]),ie=!L&&(!1!==T?.showFollows||t),ne=t&&m,{data:re,loading:oe}=(0,f.Z)(h.mH,[e],{enabled:ie,gcTime:Fa}),se=re?.profiles,{data:le,loading:ce}=(0,f.Z)(h.SR,[e],{enabled:ie,gcTime:Fa}),ue=le?.profiles,de=se?.some(e=>e.uri===a),{topArtists:me,topTracks:ge,loading:pe}=xa({includeTopArtists:ne,includeTopTracks:ne,topArtistsLimit:10,topTracksLimit:4}),he=(0,i.useCallback)(e=>{C({type:"CLOSE_MODAL"}),e&&(s((0,Ea.IE)(e.name)),s((0,Ea.ZQ)(e.image?[{url:e.image,height:null,width:null}]:[])))},[C,s]),fe=(0,i.useCallback)(()=>{C({type:"OPEN_MODAL"});const e=ee.headerFactory().usernameFactory().hitUiReveal();te.logInteraction(e)},[te,C,ee]),ve=(0,i.useCallback)(()=>{C({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=ee.headerFactory().profileImageFactory().hitUiReveal();te.logInteraction(e)},[te,C,ee]),ye=(0,i.useMemo)(()=>[{url:Y}],[Y]);if(!T||w||oe||ce||pe)return(0,g.jsx)(c.LoadingPage,{hasError:!1,errorMessage:l.Ru.get("error.not_found.title.page")});const _e=ie&&!!ue?.length,xe=ie&&!!se?.length,be=(0,g.jsx)(F.B,{uri:T.uri}),je=!(me?.items?.length||ge?.items?.length||R?.length||Q?.length||_e||xe);return(0,g.jsxs)("div",{className:Aa,children:[(0,g.jsx)(S.Q,{children:K}),(0,g.jsxs)(O.z,{backgroundColor:J,children:[(0,g.jsx)(B.h,{children:(0,g.jsx)(M.h,{menu:be,children:(0,g.jsx)(H.X,{text:K})})}),(0,g.jsx)(M.h,{menu:be,children:(0,g.jsx)(V.X,{children:(0,g.jsx)(U.M,{canEdit:t&&!T.editImageDisabled,name:K,images:ye,onClick:ve,placeholderType:"user",shape:G.u.CIRCLE})})}),(0,g.jsxs)(D.Y,{children:[(0,g.jsx)(z.B,{children:$?(0,g.jsx)(Z.M,{text:l.Ru.get("card.tag.profile")}):l.Ru.get("card.tag.profile")}),(0,g.jsx)(M.h,{menu:be,children:(0,g.jsx)(q.mm,{canEdit:t&&!T.editNameDisabled,editTitle:l.Ru.get("playlist.edit-details.title"),onClick:fe,children:K})}),(0,g.jsx)(bt,{userUri:e,totalPublicPlaylistsCount:T.totalPublicPlaylistsCount,followersCount:T.followersCount,followingCount:T.followingCount,theyFollowUs:!!de,spec:ee,logger:te})]})]}),(0,g.jsx)(pt,{openModal:fe,spec:ee,logger:te,name:K,backgroundColor:J,isCurrentUser:t,uri:e}),(0,g.jsxs)("div",{className:"contentSpacing",children:[(0,g.jsxs)(sa.r,{spec:ee,children:[t&&(0,g.jsxs)(g.Fragment,{children:[null!==me&&(0,g.jsx)(W.p,{className:La,total:me.totalCount,title:l.Ru.get("top_artists_this_month"),subtitle:l.Ru.get("only_visible_to_you"),seeAllUri:(0,o.Qjr)(X,["top","artists"]).toURI(),id:"top-artists",index:0,children:me.items.map((e,t)=>(0,g.jsx)(d.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri))}),(0,g.jsx)(ca,{className:La,title:l.Ru.get("top_tracks_this_month"),subtitle:l.Ru.get("only_visible_to_you"),seeAllUri:(0,o.Qjr)(X,["top","tracks"]).toURI(),uri:e,tracks:ge,spec:ae})]}),(0,g.jsx)(W.p,{className:La,total:T.totalPublicPlaylistsCount,title:l.Ru.get("public_playlists"),seeAllUri:(0,o.Qjr)(X,["playlists"]).toURI(),id:"playlists",index:1,children:R?.map((e,t)=>(0,g.jsx)(N.B,{index:t,uri:e.uri,name:e.name,images:[{url:(0,wa.m)({imageUriOrUrl:e.imageUrl}),width:300,height:300}],authorName:e.ownerName,description:e.followersCount?l.Ru.get("user.followers",e.followersCount):""},e.uri))}),Q?.length?(0,g.jsx)(W.p,{className:La,total:Q?.length,title:l.Ru.get("recently_played_artists"),seeAllUri:(0,o.Qjr)(X,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:Q?.map((e,t)=>(0,g.jsx)(d.a,{index:t,uri:e.uri,name:e.name,images:[{url:e.imageUrl}]},e.uri))}):null,_e?(0,g.jsx)(W.p,{className:La,title:l.Ru.get("followers"),total:ue?.length,seeAllUri:(0,o.Qjr)(X,["followers"]).toURI(),id:"followers",index:3,children:ue?.map((e,t)=>(0,g.jsx)(p,{index:t,entity:e},e.uri))}):null,xe?(0,g.jsx)(W.p,{className:La,title:l.Ru.get("following"),total:se?.length,seeAllUri:(0,o.Qjr)(X,["following"]).toURI(),id:"following",index:4,children:se?.map((e,t)=>(0,g.jsx)(p,{index:t,entity:e},e.uri))}):null,t&&y&&("editProfile"===_?(0,g.jsx)(Xe,{uri:e,name:K,image:Y,onClose:he,shouldOpenImagePicker:x,userCapabilities:{edit_image:!T?.editImageDisabled,edit_name:!T?.editNameDisabled}}):null)]}),je&&(0,g.jsx)(k.E,{variant:"titleMedium",semanticColor:"textBase",className:Ma,children:l.Ru.get("web-player.user-page.empty-state-title")})]})]})},Oa=e=>{const{uri:t,isCurrentUser:a}=e,i=(0,E.NC)(gt.V2e)&&a,{data:n,loading:r,error:o}=(0,f.Z)(h.Eo,[{uri:t,shouldUseNewProfileSettingsParam:i}]),{publicPlaylists:d,totalPublicPlaylistsCount:m=0}=n||{};if(r||o){const e=null!==o;return(0,g.jsx)(c.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return(0,g.jsx)(u.$,{total:m,title:l.Ru.get("public_playlists"),showAll:!0,fullPage:!0,rowGap:s.lT,children:d?.map((e,t)=>(0,g.jsx)(N.B,{index:t,uri:e.uri,name:e.name,authorName:e.ownerName,description:e.followersCount?l.Ru.get("user.followers",e.followersCount):"",images:[{url:(0,wa.m)({imageUriOrUrl:e.imageUrl}),width:300,height:300}]},e.uri))})},Va=e=>{const{uri:t}=e,{data:a,loading:i,error:n}=(0,f.Z)(h.sL,[{uri:t,limit:50}]),r=a?.artists;if(i||n){const e=null!==n;return(0,g.jsx)(c.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return(0,g.jsx)(u.$,{total:r?.length,title:l.Ru.get("recently_played_artists"),showAll:!0,fullPage:!0,rowGap:s.lT,children:r?.map((e,t)=>(0,g.jsx)(d.a,{index:t,name:e.name,uri:e.uri,images:[{url:e.imageUrl}]},e.uri))})},Da=()=>{const{topArtists:e,loading:t,error:a}=xa({includeTopArtists:!0,includeTopTracks:!1,topArtistsLimit:100,topTracksLimit:0});if(t||a){const e=null!==a;return(0,g.jsx)(c.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return null===e?null:(0,g.jsx)(u.$,{total:e.items.length,title:l.Ru.get("top_artists_this_month"),subtitle:l.Ru.get("only_visible_to_you"),showAll:!0,fullPage:!0,rowGap:s.lT,children:e.items.map((e,t)=>(0,g.jsx)(d.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri))})},Ba=({isCurrentUser:e})=>e?(0,g.jsx)(Da,{}):(0,g.jsx)(c.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error.not_found.title.page")}),Ha=({uri:e})=>{const{topTracks:t,loading:a,error:i}=xa({includeTopArtists:!1,includeTopTracks:!0,topArtistsLimit:0,topTracksLimit:100});if(a||i){const e=null!==i;return(0,g.jsx)(c.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return null===t?null:(0,g.jsxs)("div",{className:Q()("contentSpacing",Pa),children:[(0,g.jsxs)("div",{className:Ra,children:[(0,g.jsx)(k.E,{as:"h1",variant:"titleMedium",className:Na,children:l.Ru.get("top_tracks_this_month")}),(0,g.jsx)(k.E,{as:"p",variant:"bodySmall",children:l.Ru.get("only_visible_to_you")})]}),(0,g.jsx)(oa,{tracks:t.items,uri:e,hasHeaderRow:!0})]})},Ga=({uri:e,isCurrentUser:t})=>t?(0,g.jsx)(Ha,{uri:e}):(0,g.jsx)(c.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error.not_found.title.page")});var za=a(15074),qa=a(34649);const Za="ORh5KMdLTGzeffIpbavP",Wa=(0,i.memo)(function(){const{userId:e=""}=(0,n.g)(),t=(0,o.Qjr)(e).toURI(),a=(0,za.M)(e);return(0,g.jsx)("section",{className:Za,children:(0,g.jsxs)(n.BV,{children:[(0,g.jsx)(n.qh,{path:"playlists",element:(0,g.jsx)(qa.eZ,{pageId:r.$.PROFILE_PLAYLISTS,children:(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(Oa,{uri:t,isCurrentUser:a})})})}),(0,g.jsx)(n.qh,{path:"top/tracks",element:(0,g.jsx)(qa.eZ,{pageId:r.$.PROFILE_TOP_TRACKS,children:(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(Ga,{uri:t,isCurrentUser:a})})})}),(0,g.jsx)(n.qh,{path:"top/artists",element:(0,g.jsx)(qa.eZ,{pageId:r.$.PROFILE_TOP_ARTISTS,children:(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(Ba,{isCurrentUser:a})})})}),(0,g.jsx)(n.qh,{path:"recently-played-artists",element:(0,g.jsx)(qa.eZ,{pageId:r.$.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(Va,{uri:t})})})}),(0,g.jsx)(n.qh,{path:"following",element:(0,g.jsx)(qa.eZ,{pageId:r.$.PROFILE_FOLLOWING,children:(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(x,{uri:t})})})}),(0,g.jsx)(n.qh,{path:"followers",element:(0,g.jsx)(qa.eZ,{pageId:r.$.PROFILE_FOLLOWERS,children:(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(v,{uri:t})})})}),(0,g.jsx)(n.qh,{path:"/",element:(0,g.jsx)(qa.eZ,{pageId:r.$.PROFILE,children:(0,g.jsx)(Ua,{uri:t,isCurrentUser:a})})})]})})})},43285:(e,t,a)=>{a.d(t,{p:()=>n});var i=a(30758);function n(){const[e,t]=(0,i.useState)(!1);return[e,(0,i.useCallback)(()=>{t(!0),setTimeout(()=>t(!1),0)},[t])]}},46920:(e,t,a)=>{a.d(t,{X:()=>f});var i=a(97500),n=a.n(i),r=a(30758),o=a(91198),s=a(64932),l=a(52498),c=a(70613);const u="s37oNOuxq0sX9JpTtsfI",d="kPmZW2gs2GWhz8NYIm78";var m=a(86070);const g=({isPlaylistMixed:e})=>{const[t,a]=(0,r.useState)(e),[i,o]=(0,r.useState)(e);return(0,r.useLayoutEffect)(()=>{e?(a(!0),requestAnimationFrame(()=>{o(!0)})):o(!1)},[e]),t?(0,m.jsx)("img",{src:(0,s.bj)("images/lens-flare.webp"),alt:"",className:n()(u,{[d]:i})}):null},p=({isPlaylistMixed:e})=>{const t=(0,l.p)(),a=(0,o.NC)(c.V6C);return t&&a?(0,m.jsx)(g,{isPlaylistMixed:e}):null};var h=a(91596);const f=({children:e,isPlaylistMixed:t})=>(0,m.jsxs)("div",{className:n()(h.A.imageContainer,h.A.imageContainerNew),children:[e,(0,m.jsx)(p,{isPlaylistMixed:t})]})},49126:(e,t,a)=>{a.d(t,{p:()=>s});var i=a(30758),n=a(85387),r=a(98117),o=a(58248);const s=(e=r.a.AUDIO_QUALITY_STEAMING)=>{const t=(0,o.g)(),a=(0,n.zy)();return(0,i.useCallback)(()=>{t(`/preferences?highlight=${e}`,{replace:"/preferences"===a.pathname})},[e,t,a])}},52753:(e,t,a)=>{a.d(t,{H:()=>s});var i=a(30758),n=a(66917),r=a(47812),o=a(87308);function s(e=null,t=n.l0o){const a=(0,o.z)(e);return(0,i.useEffect)(()=>((0,r.s)(a,!1),()=>{}),[a]),a||t}},82063:(e,t,a)=>{a.d(t,{M:()=>d});var i=a(82226),n=a(83130),r=a(59725),o=a(90970),s=a(34667);const l="profile-editImage-imageContainer",c="profile-editImage-editImageButtonContainer";var u=a(86070);const d=function({onClick:e,name:t,images:a,canEdit:d,placeholderType:m,shape:g=n.u.SQUARE,dragUri:p=""}){const[h,f]=(0,o.P)(a),v=(0,s.b)(h,f)===s.g.loaded,{draggable:y,onDragStart:_}=(0,r.P)({itemUris:[p],dragLabelText:t});return(0,u.jsxs)("div",{className:l,"data-testid":`${m}-image`,draggable:y&&!!p,onDragStart:_,children:[(0,u.jsx)(n.b,{loading:"eager",name:t,images:a,placeholderType:m,shape:g}),d&&(0,u.jsx)("div",{className:c,children:(0,u.jsx)(i.a,{overlay:v,onClick:e,rounded:g===n.u.CIRCLE})})]})}},82226:(e,t,a)=>{a.d(t,{a:()=>h});var i=a(97500),n=a.n(i),r=a(99974),o=a(78717),s=a(54091);const l="main-editImage-buttonContainer",c="main-editImageButton-image",u="main-editImageButton-overlay",d="tLBPPMJQ0qUsL9Zl5xHX",m="main-editImageButton-icon",g="main-editImageButton-copy";var p=a(86070);const h=function({overlay:e=!1,rounded:t=!1,onClick:a}){return(0,p.jsx)("div",{className:l,children:(0,p.jsx)("button",{"data-testid":"edit-image-button",className:n()(c,{[d]:t,[u]:e}),"aria-haspopup":"true",onClick:a,type:"button",children:(0,p.jsxs)("div",{className:n()(m,"icon"),children:[(0,p.jsx)(r.G,{size:"xlarge","aria-hidden":"true"}),(0,p.jsx)(o.E,{variant:"bodyMedium",className:g,children:s.Ru.get("choose_photo")})]})})})}},87308:(e,t,a)=>{a.d(t,{r:()=>c,z:()=>u});var i=a(30758),n=a(66917),r=a(26571),o=a(17500),s=a(794),l=a(1812);function c(e=null){const{request:t}=(0,i.useContext)(s.j),{data:a}=(0,l.I)({queryKey:["extracted-color",e],queryFn:()=>e?(0,o.j)(t,e).then(e=>{const t=e?.[0];return t?{colorDark:t.colorDark.toCSS(r.a.HEX),colorLight:t.colorLight.toCSS(r.a.HEX),colorRaw:t.colorRaw.toCSS(r.a.HEX)}:null}):null,gcTime:864e5,staleTime:216e5,enabled:!!e});return a??void 0}function u(e=null,t=n.l0o,a="colorRaw"){return c(e)?.[a]??t}},96583:(e,t,a)=>{a.d(t,{a:()=>p});var i=a(30758),n=a(76855),r=a(54091),o=a(52782),s=a(63087),l=a(32354),c=a(91899),u=a(88462),d=a(82898),m=a(9092),g=a(86070);const p=i.memo(function({images:e,name:t,uri:a,onClick:p,isHero:h,testId:f,index:v,requestId:y,color:_,variant:x,logCardImpressions:b=!1,role:j}){let C;const k=(0,i.useCallback)(()=>(0,g.jsx)(s.M,{isCircular:!0,isHero:h,images:e,color:_,FallbackComponent:e=>(0,g.jsx)(n.r,{size:"xxxlarge",...e})}),[_,e,h]),E=(0,i.useCallback)(()=>(0,g.jsx)(l.c,{isHero:h,children:h?(0,g.jsx)(u.t,{children:r.Ru.get("card.tag.profile")}):r.Ru.get("card.tag.profile")}),[h]);return C=h?(0,g.jsx)(c.A,{index:v,onClick:p,headerText:t,featureIdentifier:"profile",uri:a,isPlayable:!1,renderCardImage:k,renderSubHeaderContent:E,testId:f,requestId:y,logCardImpressions:b}):(0,g.jsx)(o.Z,{variant:x,index:v,onClick:p,headerText:t,featureIdentifier:"profile",uri:a,role:j,isPlayable:!1,renderCardImage:k,renderSubHeaderContent:E,testId:f,requestId:y,logCardImpressions:b}),(0,g.jsx)(d.h,{menu:(0,g.jsx)(m.B,{uri:a}),children:C})})},98117:(e,t,a)=>{a.d(t,{a:()=>i});let i=function(e){return e.AUDIO_QUALITY_STEAMING="audio_quality_streaming",e.AUDIO_QUALITY_STEAMING_REMOTE="audio_quality_streaming_remote",e.DSA="dsa",e.PUBLISH_LISTENING_ACTIVITY="publish_listening_activity",e.PUBLISH_NEW_PLAYLISTS="publish_new_playlists",e.OUTPUT_DEVICE_SELECTION="output_device_selection",e}({})}}]);
//# sourceMappingURL=xpui-routes-profile.js.map