"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4536],{671:(e,t,r)=>{r.d(t,{F:()=>v});var a=r(30758),s=r(17906),l=r(58252),i=r(1229),n=r(40903);function o(e,t){const r=new Set(t);return e.filter(e=>!r.has(e))}var m=class extends i.Q{#e;#t;#r;#a;#s;#l;#i;#n;#o=[];constructor(e,t,r){super(),this.#e=e,this.#a=r,this.#r=[],this.#s=[],this.#t=[],this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.#s.forEach(e=>{e.subscribe(t=>{this.#m(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#s.forEach(e=>{e.destroy()})}setQueries(e,t){this.#r=e,this.#a=t,s.jG.batch(()=>{const e=this.#s,t=this.#u(this.#r);this.#o=t,t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions));const r=t.map(e=>e.observer),a=r.map(e=>e.getCurrentResult()),s=e.length!==r.length,l=r.some((t,r)=>t!==e[r]),i=s||l,m=!!i||a.some((e,t)=>{const r=this.#t[t];return!r||!(0,n.f8)(e,r)});(i||m)&&(i&&(this.#s=r),this.#t=a,this.hasListeners()&&(i&&(o(e,r).forEach(e=>{e.destroy()}),o(r,e).forEach(e=>{e.subscribe(t=>{this.#m(e,t)})})),this.#b()))})}getCurrentResult(){return this.#t}getQueries(){return this.#s.map(e=>e.getCurrentQuery())}getObservers(){return this.#s}getOptimisticResult(e,t){const r=this.#u(e),a=r.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[a,e=>this.#p(e??a,t),()=>this.#c(a,r)]}#c(e,t){return t.map((r,a)=>{const s=e[a];return r.defaultedQueryOptions.notifyOnChangeProps?s:r.observer.trackResult(s,e=>{t.forEach(t=>{t.observer.trackProp(e)})})})}#p(e,t){return t?(this.#l&&this.#t===this.#n&&t===this.#i||(this.#i=t,this.#n=this.#t,this.#l=(0,n.BH)(this.#l,t(e))),this.#l):e}#u(e){const t=new Map;this.#s.forEach(e=>{const r=e.options.queryHash;if(!r)return;const a=t.get(r);a?a.push(e):t.set(r,[e])});const r=[];return e.forEach(e=>{const a=this.#e.defaultQueryOptions(e),s=t.get(a.queryHash)?.shift(),i=s??new l.$(this.#e,a);r.push({defaultedQueryOptions:a,observer:i})}),r}#m(e,t){const r=this.#s.indexOf(e);-1!==r&&(this.#t=function(e,t,r){const a=e.slice(0);return a[t]=r,a}(this.#t,r,t),this.#b())}#b(){if(this.hasListeners()){const e=this.#l,t=this.#c(this.#t,this.#o);e!==this.#p(t,this.#a?.combine)&&s.jG.batch(()=>{this.listeners.forEach(e=>{e(this.#t)})})}}},u=r(73367),b=r(70413),p=r(95934),c=r(45872),g=r(49869);var h=r(75072);r(26843);const d=Spicetify.GraphQL.Definitions["queryArtistOverview"]=new h.l("queryArtistOverview","query","1ac33ddab5d39a3a9c27802774e6d78b9405cc188c6f75aed007df2a32737c72",null);var y=r(794),f=r(55211);const v=e=>{const{request:t}=(0,a.useContext)(y.j);return function({queries:e,...t},r){const i=(0,u.jE)(r),o=(0,b.w)(),h=(0,p.h)(),d=a.useMemo(()=>e.map(e=>{const t=i.defaultQueryOptions(e);return t._optimisticResults=o?"isRestoring":"optimistic",t}),[e,i,o]);d.forEach(e=>{(0,g.jv)(e),(0,c.LJ)(e,h)}),(0,c.wZ)(h);const[y]=a.useState(()=>new m(i,d,t)),[f,v,A]=y.getOptimisticResult(d,t.combine),T=!o&&!1!==t.subscribed;a.useSyncExternalStore(a.useCallback(e=>T?y.subscribe(s.jG.batchCalls(e)):n.lQ,[y,T]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),a.useEffect(()=>{y.setQueries(d,t)},[d,t,y]);const N=f.some((e,t)=>(0,g.EU)(d[t],e))?f.flatMap((e,t)=>{const r=d[t];if(r){const t=new l.$(i,r);if((0,g.EU)(r,e))return(0,g.iL)(r,t,h);(0,g.nE)(e,o)&&(0,g.iL)(r,t,h)}return[]}):[];if(N.length>0)throw Promise.all(N);const S=f.find((e,t)=>{const r=d[t];return r&&(0,c.$1)({result:e,errorResetBoundary:h,throwOnError:r.throwOnError,query:i.getQueryCache().get(r.queryHash),suspense:r.suspense})});if(S?.error)throw S.error;return v(A())}({queries:e.map(e=>({queryKey:["artistOverview",e],queryFn:()=>(0,f.c)({request:t,document:d,variables:{uri:e,locale:null},parameters:{},headers:[{key:"spotify-app-version",value:"896000000"}]}),staleTime:3e5,gcTime:3e5}))}).map(e=>{const t=e.data?.data?.artistUnion;if("Artist"===t?.__typename){const e=t.visuals?.avatarImage?.sources;return e&&e[0]?.url?e[0].url:null}return null}).filter(e=>Boolean(e))}},7651:(e,t,r)=>{r.d(t,{Qc:()=>a,UU:()=>i});class a extends Error{constructor(e,t,r=null){super(t),this.status=0,this.payload=null,this.status=e,this.message=t,this.payload=r,this.name="RpcError"}static isRpcError(e){return"RpcError"===e.name}}function s(e,t,r,s,l,i){const n=`${t}${r}/${s.name}`;return e.request(n,Object.assign(Object.assign({},i),{method:"POST",responseType:"json",headers:Object.assign(Object.assign({},null==i?void 0:i.headers),{"content-type":"application/json"}),payload:JSON.stringify(s.requestType.toJSON(l))})).then(e=>200!==e.status?Promise.reject(new a(e.status,`RPC request failed with status ${e.status}`,e.body)):e.body?s.responseType.fromJSON(e.body):Promise.reject(new a(e.status,"RPC request returned invalid JSON response",e.body)))}class l{constructor(e){!function(e,t){var r;const l=t.transport.toPublic({requestOptions:null!==(r=t.requestOptions)&&void 0!==r?r:{}});let i=t.baseURL;/\/$/.test(i)||(i=`${i}/`);const{fullName:n,methods:o}=t.definition;for(const t in o){if(!o.hasOwnProperty(t))continue;const r=Object.assign({},o[t]);if(!r.name||!r.requestType||!r.responseType)throw new Error("Invalid descriptor; missing required method properties.");e[t]=(e,t)=>r.requestStream||r.responseStream?Promise.reject(new a(0,"Streaming requests and responses are not supported.")):s(l,i,n,r,e,null==t?void 0:t.requestOptions)}}(this,e)}}function i(e){if(!e.transport)throw new TypeError("createClient(): option `transport` is required.");if(!e.definition)throw new TypeError("createClient(): option `definition` is required.");if("string"!=typeof e.baseURL)throw new TypeError("createClient(): option `baseURL` is required.");return new l(e)}},27485:(e,t,r)=>{r.d(t,{y:()=>i});var a=r(62623),s=r(671),l=r(86070);const i=({artist:e,index:t})=>{const r=(0,s.F)([e.artistUri]);return(0,l.jsx)(a.a,{index:t,name:e.artistName,uri:e.artistUri,images:r.map(e=>({url:e,width:null,height:null}))},e.artistUri)}},33556:(e,t,r)=>{r.d(t,{y:()=>d});var a=r(1812),s=r(30758),l=r(7651);const i={fromJSON:e=>({labelUri:g(e.labelUri)?globalThis.String(e.labelUri):""}),toJSON(e){const t={};return""!==e.labelUri&&(t.labelUri=e.labelUri),t}},n={fromJSON:e=>({artistUri:g(e.artistUri)?globalThis.String(e.artistUri):"",artistName:g(e.artistName)?globalThis.String(e.artistName):""}),toJSON(e){const t={};return""!==e.artistUri&&(t.artistUri=e.artistUri),""!==e.artistName&&(t.artistName=e.artistName),t}},o={fromJSON:e=>({trackUri:g(e.trackUri)?globalThis.String(e.trackUri):"",trackName:g(e.trackName)?globalThis.String(e.trackName):"",trackRank:g(e.trackRank)?globalThis.String(e.trackRank):"0",albumUri:g(e.albumUri)?globalThis.String(e.albumUri):"",albumName:g(e.albumName)?globalThis.String(e.albumName):"",largestCoverArtImageId:g(e.largestCoverArtImageId)?globalThis.String(e.largestCoverArtImageId):"",mainArtists:globalThis.Array.isArray(e?.mainArtists)?e.mainArtists.map(e=>n.fromJSON(e)):[]}),toJSON(e){const t={};return""!==e.trackUri&&(t.trackUri=e.trackUri),""!==e.trackName&&(t.trackName=e.trackName),"0"!==e.trackRank&&(t.trackRank=e.trackRank),""!==e.albumUri&&(t.albumUri=e.albumUri),""!==e.albumName&&(t.albumName=e.albumName),""!==e.largestCoverArtImageId&&(t.largestCoverArtImageId=e.largestCoverArtImageId),e.mainArtists?.length&&(t.mainArtists=e.mainArtists.map(e=>n.toJSON(e))),t}},m={fromJSON:e=>({albumUri:g(e.albumUri)?globalThis.String(e.albumUri):"",albumName:g(e.albumName)?globalThis.String(e.albumName):"",albumType:g(e.albumType)?globalThis.String(e.albumType):"",albumExternalReleaseFullDate:g(e.albumExternalReleaseFullDate)?globalThis.String(e.albumExternalReleaseFullDate):"",mainArtists:globalThis.Array.isArray(e?.mainArtists)?e.mainArtists.map(e=>n.fromJSON(e)):[],largestCoverArtImageId:g(e.largestCoverArtImageId)?globalThis.String(e.largestCoverArtImageId):""}),toJSON(e){const t={};return""!==e.albumUri&&(t.albumUri=e.albumUri),""!==e.albumName&&(t.albumName=e.albumName),""!==e.albumType&&(t.albumType=e.albumType),""!==e.albumExternalReleaseFullDate&&(t.albumExternalReleaseFullDate=e.albumExternalReleaseFullDate),e.mainArtists?.length&&(t.mainArtists=e.mainArtists.map(e=>n.toJSON(e))),""!==e.largestCoverArtImageId&&(t.largestCoverArtImageId=e.largestCoverArtImageId),t}},u={fromJSON:e=>({albumUri:g(e.albumUri)?globalThis.String(e.albumUri):"",albumName:g(e.albumName)?globalThis.String(e.albumName):"",albumType:g(e.albumType)?globalThis.String(e.albumType):"",albumExternalReleaseFullDate:g(e.albumExternalReleaseFullDate)?globalThis.String(e.albumExternalReleaseFullDate):"",mainArtists:globalThis.Array.isArray(e?.mainArtists)?e.mainArtists.map(e=>n.fromJSON(e)):[],largestCoverArtImageId:g(e.largestCoverArtImageId)?globalThis.String(e.largestCoverArtImageId):"",prereleaseEarliestCoverArtRevealTimestamp:g(e.prereleaseEarliestCoverArtRevealTimestamp)?globalThis.String(e.prereleaseEarliestCoverArtRevealTimestamp):"0",prereleaseEarliestRevealTimestamp:g(e.prereleaseEarliestRevealTimestamp)?globalThis.String(e.prereleaseEarliestRevealTimestamp):"0",prereleaseUri:g(e.prereleaseUri)?globalThis.String(e.prereleaseUri):""}),toJSON(e){const t={};return""!==e.albumUri&&(t.albumUri=e.albumUri),""!==e.albumName&&(t.albumName=e.albumName),""!==e.albumType&&(t.albumType=e.albumType),""!==e.albumExternalReleaseFullDate&&(t.albumExternalReleaseFullDate=e.albumExternalReleaseFullDate),e.mainArtists?.length&&(t.mainArtists=e.mainArtists.map(e=>n.toJSON(e))),""!==e.largestCoverArtImageId&&(t.largestCoverArtImageId=e.largestCoverArtImageId),"0"!==e.prereleaseEarliestCoverArtRevealTimestamp&&(t.prereleaseEarliestCoverArtRevealTimestamp=e.prereleaseEarliestCoverArtRevealTimestamp),"0"!==e.prereleaseEarliestRevealTimestamp&&(t.prereleaseEarliestRevealTimestamp=e.prereleaseEarliestRevealTimestamp),""!==e.prereleaseUri&&(t.prereleaseUri=e.prereleaseUri),t}},b={fromJSON:e=>({albumUri:g(e.albumUri)?globalThis.String(e.albumUri):"",albumName:g(e.albumName)?globalThis.String(e.albumName):"",albumRank:g(e.albumRank)?globalThis.String(e.albumRank):"0",albumType:g(e.albumType)?globalThis.String(e.albumType):"",albumExternalReleaseFullDate:g(e.albumExternalReleaseFullDate)?globalThis.String(e.albumExternalReleaseFullDate):"",mainArtists:globalThis.Array.isArray(e?.mainArtists)?e.mainArtists.map(e=>n.fromJSON(e)):[],largestCoverArtImageId:g(e.largestCoverArtImageId)?globalThis.String(e.largestCoverArtImageId):""}),toJSON(e){const t={};return""!==e.albumUri&&(t.albumUri=e.albumUri),""!==e.albumName&&(t.albumName=e.albumName),"0"!==e.albumRank&&(t.albumRank=e.albumRank),""!==e.albumType&&(t.albumType=e.albumType),""!==e.albumExternalReleaseFullDate&&(t.albumExternalReleaseFullDate=e.albumExternalReleaseFullDate),e.mainArtists?.length&&(t.mainArtists=e.mainArtists.map(e=>n.toJSON(e))),""!==e.largestCoverArtImageId&&(t.largestCoverArtImageId=e.largestCoverArtImageId),t}},p={fromJSON:e=>({artistUri:g(e.artistUri)?globalThis.String(e.artistUri):"",artistName:g(e.artistName)?globalThis.String(e.artistName):"",artistRank:g(e.artistRank)?globalThis.String(e.artistRank):"0"}),toJSON(e){const t={};return""!==e.artistUri&&(t.artistUri=e.artistUri),""!==e.artistName&&(t.artistName=e.artistName),"0"!==e.artistRank&&(t.artistRank=e.artistRank),t}},c={name:"LabelPageService",fullName:"spotify.labelpage.v1.LabelPageService",methods:{labelPage:{name:"LabelPage",requestType:i,requestStream:!1,responseType:{fromJSON:e=>({labelUri:g(e.labelUri)?globalThis.String(e.labelUri):"",topTracks:globalThis.Array.isArray(e?.topTracks)?e.topTracks.map(e=>o.fromJSON(e)):[],newAlbums:globalThis.Array.isArray(e?.newAlbums)?e.newAlbums.map(e=>m.fromJSON(e)):[],prereleases:globalThis.Array.isArray(e?.prereleases)?e.prereleases.map(e=>u.fromJSON(e)):[],topAlbums:globalThis.Array.isArray(e?.topAlbums)?e.topAlbums.map(e=>b.fromJSON(e)):[],topArtists:globalThis.Array.isArray(e?.topArtists)?e.topArtists.map(e=>p.fromJSON(e)):[],labelName:g(e.labelName)?globalThis.String(e.labelName):""}),toJSON(e){const t={};return""!==e.labelUri&&(t.labelUri=e.labelUri),e.topTracks?.length&&(t.topTracks=e.topTracks.map(e=>o.toJSON(e))),e.newAlbums?.length&&(t.newAlbums=e.newAlbums.map(e=>m.toJSON(e))),e.prereleases?.length&&(t.prereleases=e.prereleases.map(e=>u.toJSON(e))),e.topAlbums?.length&&(t.topAlbums=e.topAlbums.map(e=>b.toJSON(e))),e.topArtists?.length&&(t.topArtists=e.topArtists.map(e=>p.toJSON(e))),""!==e.labelName&&(t.labelName=e.labelName),t}},responseStream:!1,options:{}}}};function g(e){return null!=e}var h=r(1566);const d=e=>{const t=(0,s.useMemo)(()=>{const e=(0,h.V)();return(0,l.UU)({definition:c,baseURL:"https://label-page-service-hw25.spotify.com/",transport:e})},[]);return(0,a.I)({queryKey:["label-page",e],queryFn:()=>t.labelPage({labelUri:`spotify:label:${e}`}),enabled:Boolean(e),staleTime:3e5})}}}]);
//# sourceMappingURL=4536.js.map