"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{29626:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Rn});var s=n(97500),r=n.n(s),a=n(62411),o=n(85387),i=n(78717),c=n(39329),l=n(75770),d=n(27360),u=n(54091),m=n(13072),g=n(29947),h=n(12552),x=n(95002),p=n(86487),v=n(17422),j=n(29934),C=n(54839),f=n(80128),y=n(96133),N=n(59436),b=n(30758),_=n(96683),S=n(69365),R=n(92585),I=n(76826);const k=({name:e,city:t,region:n,country:s})=>[e,t,n,s].filter(e=>!!e&&"unknown"!==e.toLowerCase()).join(u.Ru.getSeparator());var T=n(96990),E=n(60257);const L="flkfBvVdzjnhjxgblVDa",w="XTsahdreKVfkvptWqguJ",U="IthyZ_Ns47JACh5xX1pE",A="t5ADIL1E84lnvLzYds7G",P="J958fTfL7_IQqApi_hwI",F="JOMFviUfclHBWdZOxiHw",M="rzNPaRQBu9tesGceZWY9",O="voeFyqiKe0uCwEmCVGrg";var B=n(86070);const D=e=>{const{location:t}=e,n=(0,d.o_h)(e.venue?.uri);return e.venue&&n?(0,B.jsx)(I.N,{to:n.toURL(),"data-testid":"venue-link",children:(0,B.jsxs)("div",{className:O,children:[(0,B.jsx)(_.t,{className:A}),(0,B.jsxs)("div",{children:[(0,B.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:t.name}),(0,B.jsx)(i.E,{as:"p",variant:"bodyMedium",children:k({...t,name:""})})]})]})}):(0,B.jsxs)("div",{className:F,"data-testid":"venue-info",children:[(0,B.jsx)(_.t,{className:A}),(0,B.jsxs)("div",{children:[(0,B.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:t.name}),(0,B.jsx)(i.E,{as:"p",variant:"bodyMedium",children:k({...t,name:""})})]})]})},q=(0,b.memo)(e=>{const{pathname:t}=(0,o.zy)(),{location:n,showTime:s,ageRestriction:a,doorsOpenTime:c,spec:l}=e,d=(0,E.s)(),m=n.metroAreaLocation?(0,T.nm)(t,n.metroAreaLocation?.geonameId,n.metroAreaLocation?.fullName):null;return(0,B.jsx)("div",{className:L,children:(0,B.jsxs)("div",{className:w,children:[(0,B.jsx)(i.E,{as:"h3",variant:"titleSmall",className:U,children:u.Ru.get("tracklist.header.venue")}),(0,B.jsx)(D,{...e}),(0,B.jsxs)("div",{className:r()(F,e.venue&&M),children:[(0,B.jsx)(S.p,{className:A}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:[c&&(0,B.jsx)("time",{dateTime:c.toISOString(),children:u.Ru.get("concert.door_time",u.Ru.formatDate(c,{timeStyle:"short"}))}),c&&" • ",(0,B.jsx)("time",{dateTime:s.toISOString(),children:u.Ru.get("concert.show_time",u.Ru.formatDate(s,{timeStyle:"short"}))})]}),a?.trim()&&(0,B.jsx)(i.E,{as:"p",variant:"bodyMedium",children:a})]})]}),m&&(0,B.jsxs)("div",{className:r()(F,M),children:[(0,B.jsx)(R.T,{className:A}),(0,B.jsx)(I.N,{to:m,onClick:()=>(e=>{const t=l.concertLocationLinkFactory().hitUiNavigate({destination:e});d.logInteraction(t)})(m),children:(0,B.jsx)(i.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:u.Ru.get("concert.see_more_events_in_location",n.metroAreaLocation?.fullName)})})]})]})})});var z=n(60749),J=n(91198),V=n(22141),Z=n(75300),W=n(64300),Q=n(49904),$=n(62960),H=n(60940),G=n(70870),K=n(20005),X=n(96219),Y=n(35028),ee=n(59867),te=n(24189),ne=n(88439);const se="MeNf0WrfrbhI4hOfA9uC",re="N5hQJRo99YCcYhJ1DNRW",ae="hkXTzJrYl8YdU02PFG9V",oe="J863xZcZrBdoGxqzjLyu",ie="J2c2uAf4qC_btdgFXigY",ce="oAHI6qJPxrUoAxDNt3h3",le="RS01pvv0Llm1Hp0pO8a9",de="rDYcNnzVB6uLlOt8quQA",ue="NsuSCCZ_fICDZnZVsDYd",me="vVaaOaZ4WBjbaMxTcULf",ge="kzZPv21OsDKArOdZtXYE",he="pXSfNSkDCpWInGaQ_P5g",xe="QHgf5T7ruGhTyltl5lKH",pe="CJTpb3HVRQ0IQhdeAnMK",ve="jtMbqAdr8exd_NFwn4Ji",je="tY5cK80zdvuFZxdpXBFm",Ce="Lz_JuQSv_qix8Fa_XoZs",fe="D3Lw9mGQGbuKO_EqWq3p",ye="mJaF9nzgJWgrgPBXLvdc",Ne="nqxPOfl0hayTRTRyv1PK",be="CJibaOAnDjJOLJcXDgkf",_e="MkvmPwJkDSitS46TS_af",Se="KrKTUKcPt0rKa9VGfVT2",Re="TsvGKENo5DC8lufhhDFz",Ie="_IPWLGzKaacMkv13Bb5C",ke="JVBbHC70CXJW122a45tw",Te="I4uhme3wTeEnlnbwgRJZ",Ee="jjOiPW8L8FEcKB11aTW5",Le="BjaDRfO8oMTItZnZZ_wf",we=(e,t)=>e(X.d,{concertUri:t}),Ue=(e,t)=>e(Y.$,{concertUri:t}),Ae=(0,b.memo)(e=>{const[t,n]=(0,b.useState)(!1),{concertUri:s,entitySpec:r}=e,a=(0,b.useMemo)(()=>r?.interestedButtonFactory(),[r]),{getGraphQLLoader:o}=(0,ee.mv)(),i=o(),{addConcertToLibraryMutation:c=we,removeConcertFromLibraryMutation:l=Ue}=e,d=(0,ne.n)(a?.getAbsoluteLocation(),a),m=(0,E.s)(),{enqueueSnackbar:g}=(0,te.d)();return(0,B.jsx)(K.Zp,{label:u.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,B.jsx)($.n,{ref:d,size:"small",iconLeading:e.saved?H.i:G.u,className:be,"aria-checked":e.saved,disabled:t,onClick:async()=>{n(!0);try{if(e.saved){const t=a?.hitRemoveInterest();t&&m.logInteraction(t),await l(i,s),await e.onSaveConcert(),g(u.Ru.get("concerts.unsaved"))}else{const t=a?.hitAddInterest();t&&m.logInteraction(t),await c(i,s),await e.onSaveConcert(),g(u.Ru.get("concerts.saved"))}}finally{n(!1)}},children:u.Ru.get("concerts.save")})})});var Pe=n(35394),Fe=n(15273),Me=n(75072);const Oe=Spicetify.GraphQL.Definitions["concertNotInterestedSet"]=new Me.l("concertNotInterestedSet","mutation","81c188764fbf5c76d6b10a47c7b3623b46d9d13d69663a3774cfeae89d52e16e",null),Be=(e,t)=>e(Oe,t),De=e=>{const{onSetNotInterested:t=Be}=e,{getGraphQLLoader:n}=(0,ee.mv)(),{enqueueSnackbar:s}=(0,te.d)(),r=(0,E.s)(),a=n(),o=(0,b.useMemo)(()=>e.spec?.notInterestedButtonFactory({uri:e.concertUri}),[e.concertUri,e.spec]);return(0,B.jsx)(K.Zp,{label:u.Ru.get("concerts.not_interested.set.label"),placement:"top-end",children:(0,B.jsx)(Pe.H,{onClick:async()=>{o&&r.logInteraction(o?.hitRemoveInterest());try{const n=await t(a,{artistUri:e.artistUri,concertUri:e.concertUri});return"SetConcertNotInterested"!==n?.data?.setConcertNotInterested.__typename&&s(u.Ru.get("concerts.not_interested.undo.error")),e.onComplete()}catch{return s(u.Ru.get("concerts.not_interested.undo.error")),e.onComplete()}},"aria-label":u.Ru.get("concerts.not_interested.set.label"),iconOnly:()=>(0,B.jsx)(Fe.P,{})})})};var qe=n(15379);const ze=Spicetify.GraphQL.Definitions["concertNotInterestedUndo"]=new Me.l("concertNotInterestedUndo","mutation","6e7189ddd2537fa7f9700324986c1f062790746df9183066077952e5ca13494c",null);var Je=n(72045);const Ve=(e,t)=>e(ze,t),Ze=e=>{const{onUndoNotInterested:t=Ve}=e,{getGraphQLLoader:n}=(0,ee.mv)(),{enqueueSnackbar:s}=(0,te.d)(),r=n(),a=e.reason===Je.JK.Concert?u.Ru.get("concerts.not_interested.undo.concert"):u.Ru.get("concerts.not_interested.undo.artist");return(0,B.jsx)(K.Zp,{label:a,placement:"top-end",children:(0,B.jsx)(Pe.H,{onClick:async()=>{try{const n=await t(r,{artistUri:e.artistUri,concertUri:e.concertUri});if("UndoConcertNotInterested"!==n?.data?.undoConcertNotInterested.__typename)return s(u.Ru.get("concerts.not_interested.undo.error")),e.onSaveConcert();const a=e.reason===Je.JK.Concert?u.Ru.get("concerts.not_interested.undo.concert.success"):u.Ru.get("concerts.not_interested.undo.artist.success");return s(a),e.onSaveConcert()}catch{return s(u.Ru.get("concerts.not_interested.undo.error")),e.onSaveConcert()}},"aria-label":a,iconOnly:()=>(0,B.jsx)(qe.X,{semanticColor:"essentialNegative"})})})},We=e=>e.isNotInterested?(0,B.jsx)(Ze,{...e}):(0,B.jsx)(De,{...e,onComplete:()=>{e.onOpenModal(),e.onSaveConcert()}});var Qe=n(43762),$e=n(37528);const He=Spicetify.GraphQL.Definitions["concertNotInterested"]=new Me.l("concertNotInterested","mutation","cb8dad4fee170ab2266ecf5814914f7b4c8a142f264c26b3ca2722279b54d2d1",null),Ge="gQqdGPdpD7a1BfRbN6Jh",Ke="pdgo4LhXn7ej6qohcNgQ",Xe="FSYsoyMNjqZBE2_YWRFf",Ye="NrQIlzAy8cPXkmprMHZD";var et=function(e){return e[e.CONCERT=0]="CONCERT",e[e.ARTIST=1]="ARTIST",e}(et||{});const tt=[{message:()=>u.Ru.get("concerts.not_interested.reason.location"),type:et.CONCERT,ubi:"location"},{message:()=>u.Ru.get("concerts.not_interested.reason.bought_tickets"),type:et.CONCERT,ubi:"going"},{message:()=>u.Ru.get("concerts.not_interested.reason.date"),type:et.CONCERT,ubi:"date"},{message:()=>u.Ru.get("concerts.not_interested.reason.artist"),type:et.ARTIST,ubi:"artist"},{message:()=>u.Ru.get("concerts.not_interested.reason.other"),type:et.CONCERT,ubi:"other"}],nt={[et.ARTIST]:()=>u.Ru.get("concerts.not_interested.success.artist"),[et.CONCERT]:()=>u.Ru.get("concerts.not_interested.success.concert")},st=(e,t)=>e(He,t),rt=e=>{const{onSetNotInterested:t=st}=e,[n,s]=(0,b.useState)(!1),{enqueueSnackbar:r}=(0,te.d)(),{getGraphQLLoader:a}=(0,ee.mv)(),o=(0,E.s)(),c=(0,b.useMemo)(()=>e.spec?.notInterestedModalFactory(),[e.spec]),l=a(),d=async(n,a)=>{s(!1),c&&o.logInteraction(c?.notInterestedReasonFactory({reason:a,uri:e.concertUri}).hitRemoveInterest());try{const a=await t(l,((e,{artistUri:t,concertUri:n})=>{switch(e){case et.ARTIST:return{artistUri:t,concertUri:null};case et.CONCERT:default:return{artistUri:null,concertUri:n}}})(n,e));return"SetConcertNotInterested"!==a?.data?.setConcertNotInterested.__typename?s(!0):(r(nt[n]()),e.onClose())}catch{return s(!0)}};return(0,B.jsx)($e.A,{contentLabel:u.Ru.get("concerts.not_interested.title"),isOpen:!0,className:Ge,onRequestClose:e.onClose,children:(0,B.jsxs)("section",{className:Ke,children:[(0,B.jsx)(i.E,{variant:"titleSmall",semanticColor:"textBase",children:u.Ru.get("concerts.not_interested.title")}),n&&(0,B.jsx)(Qe.l,{colorSet:"negative",children:u.Ru.get("concerts.not_interested.error")}),(0,B.jsx)("div",{className:Xe,children:tt.map((e,t)=>(0,B.jsx)("button",{className:Ye,onClick:()=>d(e.type,e.ubi),children:e.message()},t))})]})})};var at=n(73136),ot=n(78066);var it=n(87861),ct=n(30920),lt=n(3483);const dt="c0FE7pimfdRANmasANV1",ut="wdNnkCFg3tuo44Pph6VQ",mt="Nonl85WeYtpxCXiWgpME",gt="_2kdEmxtIqbpu4x0paEk",ht=e=>(0,B.jsx)($e.A,{contentLabel:u.Ru.get("concerts.no_codes_title"),isOpen:!0,className:dt,onRequestClose:e.onClose,children:(0,B.jsxs)("section",{className:mt,children:[(0,B.jsx)("div",{className:ut,children:(0,B.jsx)(xt,{"aria-label":u.Ru.get("close"),iconOnly:ct.M,size:"small",onClick:e.onClose})}),(0,B.jsxs)("div",{className:gt,children:[(0,B.jsx)(i.E,{variant:"titleSmall",semanticColor:"textBase",children:u.Ru.get("concerts.no_codes_title")}),(0,B.jsx)("div",{children:(0,B.jsx)(i.E,{children:u.Ru.get("concert.presale.no_codes")})}),(0,B.jsx)("div",{children:(0,B.jsx)(at.$,{href:e.url,target:"_blank",iconTrailing:lt.H,onClick:()=>{window.open(e.url)},children:u.Ru.get("concerts.event.view")})})]})]})});var xt=(0,it.Ay)(Pe.H).withConfig({displayName:"PresaleNoCodesModal___StyledButtonTertiary",componentId:"sc-1yajat8-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const pt=Spicetify.GraphQL.Definitions["requestPromoCode"]=new Me.l("requestPromoCode","mutation","e90e712768b6041ed97f49184289f5fe0d8841134dd715f1f79c704994cd0ac7",null),vt=(e,t)=>e&&e(pt,{accessCode:t}),jt=e=>{const[t,n]=(0,b.useState)(!1),[s,r]=(0,b.useState)(!1),{requestPromoCode:a=vt}=e,{getGraphQLLoader:o}=(0,ee.mv)(),i=o(),c=(0,E.s)(),l=(0,b.useMemo)(()=>e.spec?.ticketRestrictedAccessCodeButtonFactory({uri:e.concertUri}),[e.spec,e.concertUri]),d=e.hasPromoCodes?u.Ru.get("concerts.claim_code"):u.Ru.get("concerts.event.view");return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(at.$,{className:_e,size:"small",onClick:async()=>{n(!0),l&&c.logInteraction(l?.hitUiReveal());try{const o=await a(i,e.accessCode);s=o?.data?.requestEventOfferPromoCode,void 0!==s&&"code"in s&&e.onComplete(o.data.requestEventOfferPromoCode.code),t=o?.data?.requestEventOfferPromoCode,void 0!==t&&"message"in t&&r(!0),n(!1)}catch{r(!0),n(!1)}var t,s},children:t?(0,B.jsx)(ot.U,{}):d}),s&&(0,B.jsx)(ht,{onClose:()=>r(!1),url:e.url})]})};var Ct=n(40696),ft=n(41156),yt=n(46150),Nt=n(35274);const bt=(0,b.lazy)(()=>n.e(7933).then(n.bind(n,67933))),_t=(0,b.memo)(e=>{const t=(0,ft.V)(),[n,s]=(0,b.useState)(""),{concertUri:r,offer:a,position:o,spec:c,concertSpec:l,isCancelled:d=!1}=e,m=a.currency?new Intl.NumberFormat(u.Ru.getLocaleForFormatting(),{style:"currency",currency:a.currency}):void 0,g=a.availability===Je.sg.SoldOut,h="Spotify"===a.providerName,x=a.url,p=(0,E.s)(),v=(0,b.useMemo)(()=>c.ticketProviderCellFactory({identifier:a.providerName,position:o,uri:a.url}),[c,a.providerName,o,a.url]),j=(0,ne.n)(v.getAbsoluteLocation(),v),C=(0,b.useMemo)(()=>{if(d)return(0,B.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:ke,children:u.Ru.get("concerts.cancelled")});if(g)return(0,B.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:ke,children:u.Ru.get("concerts.soldout")});if(a.availability===Je.sg.FewLeft)return(0,B.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Re,children:u.Ru.get("concerts.few_left")});if(a.urlType===Je.I2.EventPage)return null;const e={"on-sale":u.Ru.get("concerts.on_sale"),presale:u.Ru.get("concerts.presale")};return(0,B.jsxs)(B.Fragment,{children:[e[a.saleType]&&(0,B.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Re,children:e[a.saleType]}),h&&a.minPrice&&(0,B.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Se,children:u.Ru.get("concerts.ticket_price",a.minPrice)})]})},[d,g,a.availability,a.urlType,a.saleType,a.minPrice,h]),f=(0,b.useMemo)(()=>a.urlType===Je.I2.EventPage||g||d||"presale"===a.saleType&&(0,Ct.m7)(a.dates.endDateIsoString)||"presale"===a.saleType&&t?(0,B.jsx)(at.$,{className:_e,iconTrailing:yt.p,size:"small",children:u.Ru.get("concerts.event.view")}):"presale"===a.saleType&&a.accessCode?(0,B.jsx)(jt,{onComplete:e=>s(e),accessCode:a.accessCode,url:a.url,hasPromoCodes:a.hasPromoCodes,concertUri:r,spec:c}):(0,B.jsx)(at.$,{className:_e,iconTrailing:yt.p,size:"small",children:h?u.Ru.get("concert_buy_tickets"):u.Ru.get("concert_find_tickets")}),[r,t,d,h,g,a.accessCode,a.dates.endDateIsoString,a.hasPromoCodes,a.saleType,a.url,a.urlType,c]),y=Number(a.minPrice);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("a",{href:x,className:ge,target:"_blank",ref:j,onClick:e=>{"presale"===a.saleType&&!(0,Ct.m7)(a.dates.endDateIsoString)||"presale"===a.saleType&&!t?e.preventDefault():(()=>{const e=v.hitNavigateToExternalUri({destination:a.url});e&&p.logInteraction(e)})()},children:[(0,B.jsx)("div",{className:he,children:(0,B.jsx)(Nt._,{loading:"eager",src:a.providerImageUrl,height:"100%",width:"100%",className:xe,children:(0,B.jsx)(R.T,{className:pe,size:"medium"})})}),(0,B.jsxs)("div",{className:ve,children:[(0,B.jsxs)("div",{dir:"auto",className:Ie,children:[C,!!y&&(0,B.jsx)(i.E,{as:"p",semanticColor:"textPositive",variant:"bodySmallBold",children:u.Ru.get("concerts.offer.price",m?.format(y))}),(0,B.jsx)(i.E,{as:"p",semanticColor:"textSubdued",children:a.providerName})]}),f]})]}),n&&(0,B.jsx)(bt,{url:x,dates:{start:a.dates.startDateIsoString,end:a.dates.endDateIsoString},code:n,onClose:()=>s(""),spec:l})]})}),St=(0,b.memo)(e=>{const{concertUri:t,offers:n,entitySpec:s,isCancelled:r}=e,a=(0,b.useMemo)(()=>s.ticketProviderListFactory(),[s]),o=(0,ne.n)(a.getAbsoluteLocation(),a),c=!n.find(e=>e.urlType===Je.I2.TicketPage),l=!n.find(e=>e.availability!==Je.sg.SoldOut),d=!c&&!l&&!r;return(0,B.jsxs)(B.Fragment,{children:[d&&(0,B.jsx)(i.E,{as:"h2",variant:"titleSmall",children:u.Ru.get("concert.header.tickets_available_on")}),(0,B.jsx)("div",{ref:o,className:me,children:n.map((e,n)=>(0,B.jsx)(_t,{concertUri:t,offer:e,position:n,onRemindMe:()=>{},spec:a,concertSpec:s,isCancelled:r},e.url))})]})});var Rt=n(79442),It=n(29592);const kt="MlCVji3nwbsfTA3q0LBj",Tt="pJWmrXWv6txGSScQNTTW",Et="rXnxs8WGnPFSRrRH3A8N",Lt="_32O6e_YPWqo9HPHeLiyY",wt="Ereb8fW9wdiTeV3P62Vg",Ut="BrL4ajlIDGx6Ag3d55WD",At=[{message:()=>u.Ru.get("concerts.flag_issue.lineup"),issue:"lineup"},{message:()=>u.Ru.get("concerts.flag_issue.event"),issue:"event_details"},{message:()=>u.Ru.get("concerts.flag_issue.soldout"),issue:"sold_out"}],Pt=e=>{const{useEventSenderFn:t=ee.vh}=e,n=(0,It.o_)(e.concertUri),[s,r]=(0,b.useState)(),a=t(),{enqueueSnackbar:o}=(0,te.d)();return(0,B.jsx)($e.A,{contentLabel:u.Ru.get("concerts.flag_issue.title"),isOpen:!0,className:kt,onRequestClose:e.onClose,children:(0,B.jsxs)("section",{className:Tt,children:[(0,B.jsx)(i.E,{variant:"titleSmall",semanticColor:"textBase",children:u.Ru.get("concerts.flag_issue.title")}),(0,B.jsx)("div",{className:Et,children:At.map((e,t)=>(0,B.jsx)("button",{className:s===e.issue?wt:Lt,onClick:()=>r(e.issue),children:e.message()},t))}),(0,B.jsxs)("div",{className:Ut,children:[(0,B.jsx)(Pe.H,{onClick:e.onClose,size:"small",children:u.Ru.get("concerts.flag_issue.cancel")}),(0,B.jsx)(Pe.H,{condensed:!0,semanticColor:"textBrightAccent",onClick:()=>{a.send((0,Rt.D)({concert_id:n?.id,issue:s})),o(u.Ru.get("concerts.flag_issue.success_message")),e.onClose()},size:"small",children:u.Ru.get("concerts.flag_issue.confirm")})]})]})})},Ft=e=>{const{locationName:t,latitude:n,longitude:s,onClick:r}=e,a=new URL("https://maps.google.com/");return a.searchParams.set("q",t),n&&s&&a.searchParams.set("ll",`${n},${s}`),(0,B.jsx)("a",{href:a.href,target:"_blank",onClick:()=>r?.(a.href),children:(0,B.jsx)(i.E,{as:"h2",variant:"titleSmall",children:t})})},Mt=(0,b.memo)(e=>{if((t=e.venue)&&Object.keys(t.data).includes("uri")){const t=e.venue.data.uri;return(0,B.jsx)(I.N,{to:t,onClick:()=>e.onClick?.(t),children:(0,B.jsx)(i.E,{as:"h2",variant:"titleSmall",children:e.locationName})})}var t;return(0,B.jsx)(Ft,{...e})});var Ot=n(58248),Bt=n(70613);const Dt="notInterested",qt=(0,b.memo)(e=>{const{concert:t,entitySpec:n}=e,[s,r]=(0,b.useState)(!1),[a]=(0,z.ok)(),o=(0,Ot.g)(),c=(0,J.NC)(Bt.Lbd),l=(0,J.NC)(Bt.yXF),d=!!a.get(Dt),m=(0,E.s)(),g=(0,ft.V)(),h=(0,Ct.l4)(t.startDateIsoString),x=e.concert.status===Je.TA.Cancelled;if((0,Ct.m7)(t.startDateIsoString))return(0,B.jsxs)("div",{className:ue,children:[(0,B.jsx)(i.E,{as:"h2",variant:"titleSmall",children:u.Ru.get("concert_event_ended")}),(0,B.jsx)(i.E,{variant:"bodyMedium",children:(0,B.jsx)(I.N,{to:"spotify:concerts",children:u.Ru.get("concert_past_message")})})]});const p=()=>{a.set(Dt,"1"),o(`?${a.toString()}`,{replace:!0})},[v]=t.artists.items,j=!!t.notInterested;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:ue,children:[(0,B.jsx)(Mt,{venue:t.venue,locationName:k(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude}),(0,B.jsx)(i.E,{as:"h2",variant:"bodySmall",className:ye,children:(0,B.jsx)("time",{dateTime:t.startDateIsoString,children:[(0,Ct.Y)(h),(0,Ct.WB)(h)].join(" • ")})}),(0,B.jsxs)("div",{className:re,children:[!g&&(0,B.jsx)(Ae,{concertUri:t.uri,entitySpec:n,saved:t.saved,onSaveConcert:e.onSaveConcert}),c&&!g&&v&&(0,B.jsx)(We,{spec:n,isNotInterested:!!t.notInterested,concertUri:t.uri,artistUri:v._uri,reason:t.notInterested?.reason??void 0,onSaveConcert:e.onSaveConcert,onOpenModal:()=>p()}),(0,B.jsx)(Z.w,{uri:t.uri,sharingInfo:null,onClick:()=>{const e=n.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&m.logInteraction(e)},ariaLabel:u.Ru.get("context-menu.copy-concert-link")}),(0,B.jsx)(W.b,{menu:(0,B.jsx)(Q.u,{uri:t.uri,onClickReport:l?()=>r(!0):void 0,onClickNotInterested:c&&!j?()=>p():void 0}),onShow:()=>{const e=n.contextMenuButtonFactory().hitUiReveal();e&&m.logInteraction(e)},children:(0,B.jsx)(V.e,{size:"large"})})]}),(0,B.jsx)(St,{concertUri:t.uri,offers:t.offers.items,entitySpec:n,isCancelled:x})]}),c&&d&&v&&(0,B.jsx)(rt,{spec:n,artistUri:v._uri,concertUri:t.uri,onClose:()=>{a.delete(Dt),o(`?${a.toString()}`,{replace:!0}),e.onSaveConcert()}}),s&&(0,B.jsx)(Pt,{concertUri:t.uri,onClose:()=>r(!1)})]})}),zt="jsFjvjvu43gIIHgoe7k5",Jt=()=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(i.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:zt,children:u.Ru.get("events_page.disclaimer")}),(0,B.jsx)(i.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",children:u.Ru.get("events_page.timezone_hint")})]});var Vt=n(96811),Zt=n(11183),Wt=n(95097),Qt=n(94162);const $t="C5jlr_2qzlheEKgUUYYn",Ht="Roj48JahYu941rAhcynV",Gt="lVY2eOp4FxcfGXJKnDVE",Kt="ep0JTEgbIJ6AbULeBQ3B",Xt="nupgnpPwK7MA79zhUPum",Yt=(0,b.memo)(e=>{const{imageUri:t,name:n,uri:s,onClick:r}=e,a=(0,B.jsxs)(I.N,{to:s,className:Ht,onClick:r,children:[t?(0,B.jsx)(Qt.b,{children:(0,B.jsx)("div",{"data-testid":"image-container",className:Xt,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,B.jsx)("div",{className:Gt,children:(0,B.jsx)(i.E,{as:"h3",variant:"titleMedium",className:Kt,children:n})})]});return(0,B.jsx)("div",{className:$t,children:a})}),en=Yt;var tn=n(31656);const nn=e=>!!e&&Object.keys(e).includes("uri"),sn=({artist:e,spec:t,userLocation:n})=>{const{concertId:s}=(0,o.g)(),r=(0,E.s)(),a=e.localConcerts.items.filter(e=>!!nn(e.data)&&e.data.uri!==`spotify:concert:${s}`).shift()?.data,i=nn(a)?a:void 0,c=i&&(e=>{const t=u.Ru.formatDate((0,Ct.l4)(e?.startDateIsoString),{day:"numeric",month:"short"});return e.location.city?`${t}, ${e.location.city}`:t})(i),l=n??i?.location.city,d=`${e.uri}:concerts`;return(0,B.jsxs)("div",{className:Ee,children:[i&&l&&(0,B.jsxs)("div",{className:Le,children:[(0,B.jsx)(tn.Z,{children:u.Ru.get("concerts.next_concert_near_location_colon",l)}),(0,B.jsx)(I.N,{to:i.uri,onClick:()=>(e=>{const n=t.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e});r.logInteraction(n)})(i.uri),children:(0,B.jsx)(tn.Z,{semanticColor:"textSubdued",children:c})})]}),(0,B.jsxs)("div",{className:Le,children:[(0,B.jsx)(tn.Z,{children:u.Ru.get("concerts.on_tour_colon")}),(0,B.jsx)(I.N,{to:d,onClick:()=>{const e=t.artistEventsLinkFactory({uri:d}).hitUiNavigate({destination:d});r.logInteraction(e)},children:(0,B.jsx)(tn.Z,{semanticColor:"textSubdued",children:u.Ru.get("concerts.view_all_upcoming_concerts_count",e.goods.concerts.totalCount)})})]})]})},rn=(0,b.memo)(e=>{const{artist:t,position:n,lineupSpec:s}=e,r=(0,b.useMemo)(()=>s.artistRowFactory({position:n,uri:t.uri}),[s,n,t.uri]),a=(0,E.s)(),o=t.relatedContent.featuringV2.items.flatMap(e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]}),i=t.discography.popularReleasesAlbums.items,c=t.visuals.avatarImage?.sources?.[0],l=(0,B.jsx)(en,{uri:t.uri,name:t.profile.name,imageUri:c?.url,onClick:()=>{const e=r?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&a.logInteraction(e)}},t.uri),d=o.map((e,t)=>{const n="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,B.jsx)(Zt.B,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources??[],description:e.description||"",authorName:n},e.uri)}),m=i.map((e,t)=>{const n=e.artists.items.map(e=>({uri:e.uri,name:e.profile.name}));return(0,B.jsx)(Vt.a,{uri:e.uri,index:t,artists:n,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Wt.R,{title:0===n?u.Ru.get("concert.lineup"):"",seeAllUri:t.uri,seeAllLabel:u.Ru.get("view.see-all"),showSeeAll:!0,alwaysShowSeeAll:!0,children:[l,...d,...m],className:Te,withEncoreCards:!1,index:n,id:t.uri}),(0,B.jsx)(sn,{artist:t,spec:r,userLocation:e.userLocation})]})}),an=(0,b.memo)(e=>{const{artists:t,entitySpec:n,userLocation:s}=e,r=(0,b.useMemo)(()=>n.lineupArtistsFactory(),[n]),a=(0,ne.n)(r.getAbsoluteLocation(),r);return(0,B.jsx)("div",{ref:a,className:je,children:t.flatMap((e,t)=>{if("Artist"!==e.data.__typename)return[];const n=e.data;return[(0,B.jsx)(rn,{artist:n,position:t,lineupSpec:r,userLocation:s},n.uri)]})})});var on=n(10812),cn=n(82589);const ln="HWRBsBGjQW_0jdEGiknB",dn="DIhR7HxtOhHnrX3BTGCU",un="hfmZEzSfdXpGRVWr4cdA",mn=(0,b.memo)(e=>(0,B.jsxs)(I.N,{to:"spotify:concerts",className:ln,onClick:e.onClick,children:[(0,B.jsx)(Qt.b,{children:(0,B.jsx)("div",{className:un,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,B.jsx)("div",{className:dn,children:(0,B.jsx)(i.E,{as:"h3",variant:"titleSmall",children:u.Ru.get("concerts_browse_more")})})]})),gn=(0,b.memo)(e=>{const{concert:t,position:n,recommendedSpec:s}=e,r=(0,E.s)(),a=t.artists.items.flatMap(e=>"Artist"===e.data.__typename?[e.data]:[]),o=a[0]?.visuals.avatarImage?.sources[0];return(0,B.jsx)(cn.A,{uri:t.uri,title:t.title,date:t.startDateIsoString,subTitle:k(t.location),imageUrl:o?.url,firstParty:t.firstParty,onClick:()=>{const e=s?.concertCardFactory({position:n,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&r.logInteraction(e)}})}),hn=(0,b.memo)(e=>{const{relatedConcerts:t,entitySpec:n}=e,s=(0,b.useMemo)(()=>n.recommendedConcertsFactory(),[n]),r=(0,E.s)(),a=(0,ne.n)(s.getAbsoluteLocation(),s),o=t.items.flatMap(e=>"ConcertV2"===e.data.__typename?[e.data]:[]);if(0===o.length)return null;return(0,B.jsx)("div",{ref:a,className:fe,"data-testid":"concert-recommendations",children:(0,B.jsxs)(on.$,{title:u.Ru.get("concert.similar_events"),total:t.totalCount,className:Ne,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:u.Ru.get("view.see-all"),withEncoreCards:!1,children:[(0,B.jsx)(mn,{onClick:()=>{const e=s?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&r.logInteraction(e)}},"browse"),o.map((e,t)=>(0,B.jsx)(gn,{position:t,concert:e,recommendedSpec:s},e.uri))]})})});var xn=n(26843);const pn=Spicetify.GraphQL.Definitions["concert"]=new Me.l("concert","query","6313561b79fa89c9cd2f0f1c1392a5de6b0c6ab475648ecb176ecb8dc9b43d3a",null);var vn=n(1910),jn=n(51629),Cn=n(29930),fn=n(26571),yn=n(85003),Nn=n(13796),bn=n(34649),_n=n(91645);const Sn=e=>{const{concert:t,userLocation:n}=e,{spec:s}=(0,_n.r)(l.b,{data:{identifier:(0,d.o_h)(t.uri)?.id,uri:t.uri}}),a=t.artists.items.flatMap(e=>"Artist"===e.data.__typename?[e.data]:[])[0],o=(0,yn.V)(a.visualIdentity?.wideFullBleedImage?.extractedColorSet),c="ImageV2"===a.headerImage?.data.__typename?a.headerImage.data.sources.map(e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})):null,f=o?.higherContrast.backgroundBase.toCSS(fn.a.HEX);(0,y.q)(null,f);const b=(0,Ct.l4)(t.startDateIsoString),_=t.concepts.items.filter(vn.V5).sort((e,t)=>e.weight-t.weight),S=(0,Cn.K9)(t.title,t.location.city,t.location.name,b,u.Ru);return(0,B.jsxs)("section",{className:r()(se,ce),children:[(0,B.jsx)(g.Q,{children:S}),(0,B.jsxs)(h.z,{backgroundImages:c??[],children:[(0,B.jsxs)(p.Y,{children:[(0,B.jsx)(x.Z,{children:(0,B.jsx)("div",{className:ae,children:(0,B.jsx)(i.E,{as:"h1",variant:"titleSmall",className:oe,children:(0,B.jsx)("time",{dateTime:t.startDateIsoString,children:(0,Ct.Fn)(b)})})})}),(0,B.jsx)(C.mm,{className:le,children:t.title}),(0,B.jsx)(x.Z,{children:(0,B.jsx)(N.I,{concepts:_,spec:s.concertConceptsFactory()})})]}),(0,B.jsx)(v.h,{children:(0,B.jsx)("div",{className:Ce,children:(0,B.jsx)(j.X,{text:t.title})})})]}),(0,B.jsxs)("div",{className:ie,children:[(0,B.jsx)(m.K,{backgroundColor:f}),(0,B.jsxs)("div",{className:de,children:[(0,B.jsx)(qt,{concert:t,entitySpec:s,onSaveConcert:e.onSaveConcert}),(0,B.jsx)(Jt,{}),(0,B.jsx)(an,{artists:t.artists.items,entitySpec:s,userLocation:n}),(0,B.jsx)(q,{venue:(R=t.venue,R&&Object.keys(R.data).includes("uri")?t.venue.data:void 0),location:t.location,showTime:b,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,Ct.l4)(t.doorsOpenTimeIsoString):null,spec:s}),(0,B.jsx)(hn,{relatedConcerts:t.relatedConcerts,entitySpec:s})]})]})]});var R},Rn=()=>{const{concertId:e}=(0,o.g)(),{isAnonymous:t}=(0,a.d4)(jn.Ht),n=`spotify:concert:${e}`,{loading:s,error:r,data:i,invalidate:l}=(d={uri:n,authenticated:!t},(0,xn.I)(pn,d,m));var d,m;if(s||r||"ConcertV2"!==i?.concert.__typename){const e=null!==r||(0,Nn.V)(i?.concert?.__typename);return(0,B.jsx)(f.LoadingPage,{hasError:e,errorMessage:u.Ru.get("concert.error.concert_not_found_title")})}return(0,B.jsx)(bn.eZ,{pageId:c.$.CONCERTS_CONCERT,entityUri:n,children:(0,B.jsx)(Sn,{concert:i.concert,onSaveConcert:l,userLocation:i.me?.profile?.location?.name??i.concert.location.city})})}},35028:(e,t,n)=>{n.d(t,{$:()=>s});const s=new(n(75072).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},49904:(e,t,n)=>{n.d(t,{u:()=>v});var s=n(30758),r=n(27932),a=n(15273),o=n(54091),i=n(74690),c=n(48564),l=n(1041),d=n(26849),u=n(28937),m=n(97378),g=n(39233),h=n(710),x=n(89307),p=n(86070);const v=s.memo(function({uri:e,onClickNotInterested:t,onClickReport:n,canPin:s=g.oT.NO,isPinned:v=!1}){const{spec:j}=(0,h.o)(e);return(0,p.jsxs)(i.W,{children:[!!t&&(0,p.jsx)(c.D,{role:"menuitem",leadingIcon:(0,p.jsx)(a.P,{semanticColor:"textSubdued",size:"small"}),onClick:t,children:o.Ru.get("concerts.not_interested.title")}),s!==g.oT.NO&&(0,p.jsx)(u.k,{uri:e,canPin:s,isPinned:v,type:x.c.CONCERT,spec:j}),(0,p.jsx)(m.h,{children:(0,p.jsx)(l.m,{spec:j,uri:e,displayText:o.Ru.get("context-menu.copy-concert-link")})}),!!n&&(0,p.jsx)(c.D,{role:"menuitem",leadingIcon:(0,p.jsx)(r.W,{semanticColor:"textSubdued",size:"small"}),onClick:n,children:o.Ru.get("concerts.flag_issue.title")}),(0,p.jsx)(d.q,{spec:j,uri:e})]})})},59436:(e,t,n)=>{n.d(t,{I:()=>g});var s=n(40539),r=n(78723),a=n(91198),o=n(27360),i=n(54091),c=n(1910),l=n(58248),d=n(60257),u=n(47537),m=n(86070);const g=({concepts:e,spec:t})=>{const n=(0,l.g)(),g=(0,a.NC)(u.P7),h=e.filter(c.V5),x=(0,d.s)();return(0,m.jsx)("div",{style:{"--background-base":"transparent"},children:(0,m.jsx)(r.I,{mode:"navigation","aria-label":i.Ru.get("card.tag.genre"),children:h.map((e,r)=>{const a=(0,o.o_h)(e.data.uri)?.id,i=g?`/concerts/genre?conceptId=${a}`:`/concerts/genre/${a}-${e.data.name.replaceAll(" ","-")}`;return(0,m.jsx)(s.v,{onClick:s=>{((e,s,r,a)=>{e.preventDefault(),n(s);const i=(0,o.o_h)(r)?.id;if(!i||!t)return;const c=t.conceptButtonFactory({uri:r,position:a}).hitUiNavigate({destination:`spotify:concerts:genre:${i}`});x.logInteraction(c)})(s,i,e.data.uri,r+1)},href:i,children:e.data.name},e.data.uri)})})})}},82589:(e,t,n)=>{n.d(t,{A:()=>f});var s=n(30758),r=n(76855),a=n(78717),o=n(97351),i=n(76826),c=n(40696),l=n(94162);const d="u0vQPAQa7gZSof0nJQnQ",u="IHipxfxvb3jLvK6FJubh",m="yzh4JJgNvDAyPmJSqjVl",g="PaLPvVjVaUf1Arglzvgv",h="O6ByNK8cAIJ7drb6_9Li",x="tii_P5ZZ6iSPmDnS5V4f",p="ve5oQ5oDiqTa6D2LCIIw",v="AQFMMlLLsRzJ0q1BgQ4Z",j="xB_GhzjYTNq8eHqqpWNT";var C=n(86070);const f=(0,s.memo)(e=>{const{uri:t,title:n,imageUrl:s,date:f,subTitle:y,firstParty:N,onClick:b}=e,_=f?(0,c.l4)(f):void 0;return(0,C.jsx)(i.N,{to:t,className:d,"data-testid":"concert-card",onClick:b,children:(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)(l.b,{children:(0,C.jsx)("div",{role:"img",className:j,style:{backgroundImage:`url(${s})`},children:!s&&(0,C.jsx)(r.r,{role:"img",size:"xxxlarge",semanticColor:"textSubdued"})})}),_&&(0,C.jsxs)("time",{className:m,dateTime:f,children:[(0,C.jsx)(a.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(_)}),(0,C.jsx)(a.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(_)})]}),(0,C.jsxs)("div",{className:g,dir:"auto",children:[(0,C.jsx)(a.E,{as:"h3",variant:"bodyMedium",className:h,children:n}),(0,C.jsxs)("div",{className:x,children:[N&&(0,C.jsx)("span",{className:v,children:(0,C.jsx)(o.D,{size:"small"})}),(0,C.jsx)(a.E,{as:"span",className:p,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:y})]})]})]})})})},96219:(e,t,n)=>{n.d(t,{d:()=>s});const s=new(n(75072).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},96990:(e,t,n)=>{n.d(t,{DL:()=>i,Qe:()=>c,bU:()=>l,nm:()=>o});var s=n(42534);const r=(e,t)=>{if(!e.includes(t))return;const n=e.split("/"),s=n.findIndex(e=>e===t);return n[s+1]},a=(e,t)=>{const n=["/concerts"];return(t.location||e.includes("location")&&null!==t.location)&&(n.push("location"),n.push(String(t.location??r(e,"location")))),(t.genre||e.includes("genre")&&null!==t.genre)&&(n.push("genre"),n.push(String(t.genre??r(e,"genre")))),n.join("/")},o=(e,t,n)=>{if(!t)return a(e,{location:null});const s=n?.normalize().replaceAll(/\W+/g,"-");return a(e,s?{location:`${t}-${s}`}:{location:t})},i=(e,t,n)=>{if(!t)return a(e,{genre:null});const s=n?.normalize().replaceAll(/\W+/g,"-");return a(e,s?{genre:`${t}-${s}`}:{genre:t})},c=e=>{if(!e)return;const t=e.split("-"),[n]=t;return{id:`spotify:concept:${n}`,name:t.reduce((e,t,n)=>0===n?e:`${e} ${t}`,"").trim()}},l=e=>(0,s.x)(e,{representation:"date"})}}]);
//# sourceMappingURL=xpui-routes-concert.js.map