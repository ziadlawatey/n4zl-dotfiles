"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4064],{1099:(e,t,r)=>{r.d(t,{g:()=>n.g});var n=r(6414)},6414:(e,t,r)=>{r.d(t,{H:()=>a,g:()=>i});var n=r(30758),l=r(86070);const o=(0,n.createContext)(null);function a({children:e,playlist:t,metadataOptions:r,contentsOptions:a}){return(0,l.jsx)(o.Provider,{value:(0,n.useMemo)(()=>({playlist:t,metadataOptions:r,contentsOptions:a}),[a,r,t]),children:e})}function i(){const e=(0,n.useContext)(o);if(null===e)throw new Error("Trying to use 'ListPlatformDataContext' without 'ListPlatformDataProvider'!");return e}},11942:(e,t,r)=>{r.d(t,{w:()=>a});var n=r(30758),l=r(54091),o=r(78146);const a=e=>{const t=(0,o.m)(),r=(0,n.useRef)(()=>{}),[a,i]=(0,n.useState)([]),s=(0,n.useCallback)(n=>{r.current(),t.remove(e.metadata.uri,n)},[t,e.metadata.uri]);return{handleRemove:(0,n.useCallback)((t,n,l=!1)=>{e.metadata.canRemove&&(r.current=n,t.length>1&&!l?i(t):s(t))},[e.metadata.canRemove,s]),removeDialogProps:(0,n.useMemo)(()=>({title:l.Ru.get("playlist.remove_from_playlist",e.metadata.name),isOpen:a.length>0,tracks:a,onClose:e=>{e.stopPropagation(),i([])},onRemove:s}),[a,s,e.metadata.name])}}},73778:(e,t,r)=>{r.d(t,{K_:()=>c,ll:()=>u});var n=r(30758),l=r(6414),o=r(88127),a=r(78146),i=r(21737),s=r(86070);const d=(0,n.createContext)(null);function u({children:e}){const{playlist:t,contentsOptions:r}=(0,l.g)(),u=(0,a.m)(),c=(0,n.useCallback)(async(e,n)=>await u.getContents(t.metadata.uri,{...r,offset:e,limit:n}),[u,r,t.metadata.uri]),C=(0,o.E)({nrItems:t.contents.totalLength,fetch:c,limit:50,initialItems:t.contents.items});return(0,i.H)(t.metadata.uri,C.invalidateCache),(0,s.jsx)(d.Provider,{value:C,children:e})}function c(){const e=(0,n.useContext)(d);if(null===e)throw new Error("Trying to use 'ListPlatformItemsContext' without 'ListPlatformItemsProvider'!");return e}},74668:(e,t,r)=>{r.d(t,{Ap:()=>S,Qi:()=>C,Wc:()=>d,g6:()=>E,hK:()=>f,kA:()=>u,nw:()=>c,rE:()=>D});var n=r(54091),l=r(16666),o=r(30091);const a=[o.nw.ADDED_AT,o.nw.PUBLISH_DATE],i=e=>a.includes(e)?o.xB.DESC:o.xB.ASC,s={[o.xB.ASC]:o.xB.DESC,[o.xB.DESC]:o.xB.ASC},d=(e,t,r)=>null===e?null:null===t&&"custom-order"!==r&&e===r?{field:e,order:s[i(e)]}:t?.field!==e?{field:e,order:i(e)}:{field:e,order:s[t.order]},u={[o.nw.TITLE]:{key:"title",get value(){return n.Ru.get("sort.title")}},[o.nw.ARTIST]:{key:"artist",get value(){return n.Ru.get("sort.artist")}},[o.nw.ALBUM]:{key:"album",get value(){return n.Ru.get("sort.album")}},[o.nw.ADDED_BY]:{key:"added-by",get value(){return n.Ru.get("sort.added-by")}},[o.nw.ADDED_AT]:{key:"added-at",get value(){return n.Ru.get("collection.sort.recently-added")}},[o.nw.DURATION]:{key:"duration",get value(){return n.Ru.get("sort.duration")}},[o.nw.SHOW_NAME]:{key:"show-name",get value(){return n.Ru.get("collection.sort.creator")}},[o.nw.PUBLISH_DATE]:{key:"publish-date",get value(){return n.Ru.get("tracklist.header.release-date")}},"custom-order":{key:"custom-order",get value(){return n.Ru.get("sort.custom-order")}}},c={title:o.nw.TITLE,artist:o.nw.ARTIST,album:o.nw.ALBUM,"added-by":o.nw.ADDED_BY,"added-at":o.nw.ADDED_AT,duration:o.nw.DURATION,"show-name":o.nw.SHOW_NAME,"publish-date":o.nw.PUBLISH_DATE,"custom-order":null};function C(e,t){return null===e?"custom-order"===t?l.Ht.NONE:i(t)===o.xB.ASC?l.Ht.ASC:l.Ht.DESC:e===o.xB.ASC?l.Ht.ASC:l.Ht.DESC}const A={[l.$C.TITLE_AND_ARTIST]:[o.nw.TITLE,o.nw.ARTIST],[l.$C.TITLE]:[o.nw.TITLE],[l.$C.ADDED_BY]:[o.nw.ADDED_BY],[l.$C.ADDED_AT]:[o.nw.ADDED_AT],[l.$C.DURATION]:[o.nw.DURATION],[l.$C.ARTIST]:[o.nw.ARTIST],[l.$C.ALBUM]:[o.nw.ALBUM],[l.$C.ALBUM_OR_PODCAST]:[o.nw.ALBUM,o.nw.SHOW_NAME],[l.$C.ALBUM_OR_SHOW]:[o.nw.ALBUM,o.nw.SHOW_NAME],[l.$C.ACTIONS]:[],[l.$C.RELEASE_DATE]:[o.nw.PUBLISH_DATE],[l.$C.INDEX]:[],[l.$C.PLAYS]:[],[l.$C.ADD]:[],[l.$C.EVENT_DATE]:[],[l.$C.EVENT_INFO]:[],[l.$C.CONCERT]:[],[l.$C.CONCERT_VENUE]:[],[l.$C.TITLE_AND_AUTHOR]:[o.nw.TITLE],[l.$C.AUTHOR]:[],[l.$C.BPM]:[],[l.$C.KEY]:[],[l.$C.REASONING]:[]},m={[l.Ht.NONE]:null,[l.Ht.DESC]:o.xB.DESC,[l.Ht.ASC]:o.xB.ASC,[l.Ht.SECONDARY_DESC]:o.xB.DESC,[l.Ht.SECONDARY_ASC]:o.xB.ASC},E=(e,t)=>e.filter(e=>A[e].length>0&&!1!==t?.(e).canSortExplicit),S=(e,t)=>{const r=e.find(e=>t?.field&&A[e].includes(t.field));if(!r||!t?.field)return{column:null,order:l.Ht.ASC};return A[r].indexOf(t.field)>0?{column:r,order:t.order===o.xB.ASC?l.Ht.SECONDARY_ASC:l.Ht.SECONDARY_DESC}:{column:r,order:t.order===o.xB.ASC?l.Ht.ASC:l.Ht.DESC}},f=(e,t,r)=>{const n=A[e].length>1?5:3;let o=null,a=null;if(e===t.column){let i=(t.order+1)%n;i!==l.Ht.NONE||r||(i+=1);const s=[l.Ht.SECONDARY_ASC,l.Ht.SECONDARY_DESC].includes(i)?1:0;o=A[e][s]??null,a=m[i]}else o=A[e][0]??null,a=m[l.Ht.ASC];return null===o||null===a?null:{field:o,order:a}},D=(e,t)=>{const r=(e=>{const t=Array.from(e);return[...new Set(t.flatMap(e=>A[e]))]})(e);return r.map(e=>({field:e,disabled:t}))}},76560:(e,t,r)=>{r.d(t,{W:()=>b});var n=r(91198),l=r(54091),o=r(30758),a=r(37899),i=r(78717),s=r(73136),d=r(58248),u=r(43114);const c="HU5ID6vW0yReqvG0d_0r",C="zApz6YDCKtPSk0i2AEie";var A=r(86070);const m=({uri:e})=>{const[t,r]=(0,u.A)(e),n=(0,d.g)(),m=(0,o.useCallback)(()=>{r(!1),n("/",{replace:!0})},[n,r]);return(0,A.jsxs)("div",{className:c,children:[(0,A.jsx)(a.b,{size:"xxxlarge"}),(0,A.jsxs)("div",{className:C,children:[(0,A.jsx)(i.E,{as:"p",variant:"titleSmall",children:l.Ru.get("forbidden-page.title")}),(0,A.jsx)(i.E,{as:"p",variant:"bodySmall",children:l.Ru.get("forbidden-page.description")})]}),t&&(0,A.jsx)(s.$,{colorSet:"invertedLight",onClick:m,children:l.Ru.get("remove_from_your_library")})]})};var E=r(80128),S=r(66147),f=r(99046),D=r(6414),g=r(63778),p=r(73778),w=r(87242),T=r(16032),R=r(78146);var x=r(68781),h=r(70613),v=r(94596),O=r(89307);const _=({children:e,uri:t,descriptorFilter:r})=>{const a=(0,R.m)().getCapabilities();(e=>{const t=(0,T.j)(),r=(0,R.m)(),n=(0,o.useRef)(!1);(0,o.useEffect)(()=>{t&&n.current&&r.resync(e,{maybe:!0}),t||(n.current=!0)},[t,r,e])})(t);const i=(0,n.NC)(h.W0Y),{metadataOptions:s,contentsOptions:d}=(0,x.I)(r,i?[O.c.PODCAST_CHAPTER]:[]),{data:u,isLoading:c,isError:C}=(0,v.W)(t,s,d);return!u||c?(0,A.jsx)(E.LoadingPage,{hasError:C,errorMessage:l.Ru.get("error.not_found.title.playlist"),loadOffline:a.canModifyOffline}):u.metadata.permissions&&!u.metadata.permissions.canView?(0,A.jsx)(m,{uri:t}):(0,A.jsx)(D.H,{playlist:u,metadataOptions:s,contentsOptions:d,children:e})},b=({children:e,uri:t,descriptorFilter:r})=>(0,A.jsx)(S.s,{uri:t,children:(0,A.jsx)(f.S,{children:(0,A.jsx)(g.d,{children:(0,A.jsx)(w.Z,{uri:t,children:(0,A.jsx)(_,{uri:t,descriptorFilter:r,children:(0,A.jsx)(p.ll,{children:e})})})})})})},99148:(e,t,r)=>{r.d(t,{d:()=>f});var n=r(30758),l=r(97500),o=r.n(l),a=r(98338),i=r(74134),s=r(54091),d=r(52460),u=r(87242),c=r(74668),C=r(78146),A=r(86070);const m=n.memo(function({sortOptions:e,defaultSortField:t,enableViewModeMenu:r}){const l=(0,C.m)(),{canSort:o}=l.getCapabilities(),{sortState:a,setSortState:i}=(0,u.k)(),m=(0,n.useCallback)(e=>{const r=c.nw[e]??null;i((0,c.Wc)(r,a,t))},[i,a,t]),E=e.map(e=>{const t="string"==typeof e,r=!t&&(e.disabled??!1);return{...c.kA[t?e:e.field],disabled:r,tooltip:r?s.Ru.get("web-player.tuna.custom-sort-order-tooltip.turn-off-mixing"):void 0}});"custom-order"===t&&E.unshift({key:"custom-order",value:s.Ru.get("sort.custom-order"),disabled:!1,tooltip:void 0});const S=c.kA[a?.field??t];return o?(0,A.jsx)(d.g,{options:E,onSelect:m,selected:S,sortOrder:(0,c.Qi)(a?.order??null,t),heading:s.Ru.get("drop_down.sort_by"),enableViewModeMenu:r}):null});var E=r(44451);const S="AxpwP8HQvk3dZq9rdOk4",f=n.memo(function({filterPlaceholder:e,sortOptions:t,defaultSortField:r,enableViewModeMenu:l=!1,className:s,elementRef:d,sortBoxRef:u}){const c=(0,C.m)(),{canSort:f,canFilter:D}=c.getCapabilities(),{spec:g,logger:p}=(0,E.D)(a.E,{}),w=(0,n.useCallback)(()=>{p.logInteraction(g.filterFieldFactory().keyStrokeFilter())},[p,g]),T=(0,n.useCallback)(()=>{p.logInteraction(g.filterFieldFactory().hitClearFilter())},[p,g]);return(0,A.jsxs)("div",{className:o()(S,s),children:[D?(0,A.jsx)(n.Suspense,{fallback:null,children:(0,A.jsx)(i.S,{placeholder:e,onFilter:w,onClear:T,clearOnEscapeInElementRef:d})}):null,f?(0,A.jsx)("div",{ref:u,children:(0,A.jsx)(m,{sortOptions:t,defaultSortField:r,enableViewModeMenu:l})}):null]})})}}]);
//# sourceMappingURL=4064.js.map