"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2630,3569],{674:(e,a,s)=>{s.d(a,{A:()=>r});const r={offline:"G8qPzPeRE7nlG3vd4CHg",emptyStateContainer:"HXvPVF6L7_B50er_fNER",icon:"eJlWLlGNtdOur2HI1FWP",info:"ebhm52d5xzpsb8wOcmfU"}},3043:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var r=s(97500),n=s.n(r),t=s(54091),i=s(30575),l=s(10812),o=s(30758),c=s(89408),d=s(52782),u=s(63087),m=s(32354),g=s(83994),x=s(74777),h=s(66891),f=s(56046),p=s(51632),y=s(11085),b=s(83307),j=s(49060),I=s(96500),C=s(86070);const v=function({uri:e,name:a,images:s,index:r}){const n=(0,b.o)(),i=(0,o.useRef)(null),l=(0,o.useRef)(!0),x=(0,y.A)(),{isPlaying:v}=(0,I.l_)(f.bV),{togglePlay:P}=(0,j.P)({uri:f.bV,pages:[{items:i.current?.map(e=>({...e,provider:null}))||[]}]},{featureIdentifier:"local_files"});(0,o.useEffect)(()=>(l.current=!0,()=>{l.current=!1}),[]);const S=(0,p.P)(),A=(0,c.YQ)(async(e,a)=>{if(!i.current){const e=await x.getTracks();i.current=e}l&&P({loggingParams:a},{uri:f.bV,pages:[{items:i.current?.map(e=>({...e,provider:null}))||[]}]})},h.d,{leading:!0,trailing:!1});return n.canFetchAllTracks&&S?(0,C.jsx)(d.Z,{index:r,delegatePlayback:!0,isPlaying:v,onPlay:A,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,C.jsx)(u.M,{images:s,FallbackComponent:g.e}),renderSubHeaderContent:()=>(0,C.jsx)(m.c,{children:t.Ru.get("local-files.description")})}):null},P=({index:e})=>{const a=(0,x.Iu)();return(0,C.jsx)(o.Suspense,{fallback:null,children:(0,C.jsx)(v,{index:e,name:a.name,uri:a.uri,images:a.images})})};var S=s(35706),A=s(4728),k=s(674);const w=function(){const{hasError:e,items:a}=(0,A.l)(),s=(0,p.P)();return e?null:(0,C.jsx)("div",{className:n()(k.A.offline,"contentSpacing"),children:a.length>0||s?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.$,{title:t.Ru.get("music_downloads"),total:a.length,seeAllUri:"/music-downloads",alwaysShowSeeAll:!0,children:a.map((e,a)=>(0,i.T)(e,a))}),s&&(0,C.jsx)(l.$,{title:t.Ru.get("local-files"),total:1,showAll:!0,children:(0,C.jsx)(P,{index:0})})]}):(0,C.jsx)(S.OfflineEmptyState,{showDownloadInformation:!0})})}},4728:(e,a,s)=>{s.d(a,{l:()=>t});var r=s(30758),n=s(40908);function t(){const e=(0,n.B)(),[a,s]=(0,r.useState)(!0),[t,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{try{const a=await e.getDownloads();o(a)}catch(e){i(!0)}finally{s(!1)}})()},[e]),{isLoading:a,hasError:t,items:l}}},26142:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var r=s(97500),n=s.n(r),t=s(54091),i=s(30575),l=s(80128),o=s(10812),c=s(4728),d=s(674),u=s(86070);const m=()=>{const{hasError:e,isLoading:a,items:s}=(0,c.l)();return e||a?(0,u.jsx)(l.LoadingPage,{hasError:e,errorMessage:t.Ru.get("error.request-collection-music-downloads-failure"),loadOffline:!0}):(0,u.jsx)("div",{className:n()(d.A.offline,"contentSpacing"),children:(0,u.jsx)(o.$,{title:t.Ru.get("music_downloads"),total:s.length,showAll:!0,children:s.map((e,a)=>(0,i.T)(e,a))})})}},30575:(e,a,s)=>{s.d(a,{T:()=>u});var r=s(96811),n=s(62623),t=s(97858),i=s(11183),l=s(76919),o=s(89307),c=s(6917),d=s(86070);function u(e,a){switch(e.type){case o.c.ALBUM:return(0,d.jsx)(r.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case o.c.ARTIST:return(0,d.jsx)(n.a,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case o.c.SHOW:return(0,d.jsx)(l.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:c.Q.UNKNOWN,index:a},e.uri);case o.c.AUDIOBOOK:return(0,d.jsx)(t.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,authors:e.authors,index:a},e.uri);case o.c.PLAYLIST:return(0,d.jsx)(i.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}},35706:(e,a,s)=>{s.d(a,{OfflineEmptyState:()=>c});var r=s(78717),n=s(64398),t=s(88677),i=s(54091),l=s(674),o=s(86070);const c=({showDownloadInformation:e})=>(0,o.jsxs)("div",{className:l.A.emptyStateContainer,children:[e?(0,o.jsx)(n.i,{size:"xxxlarge",className:l.A.icon}):(0,o.jsx)(t.P,{size:"xxxlarge",className:l.A.icon}),(0,o.jsx)(r.E,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:i.Ru.get("web-player.offline.empty-state.title")}),(0,o.jsx)(r.E,{as:"h2",variant:"bodyMedium",semanticColor:"textSubdued",dir:"auto",className:l.A.info,children:e?i.Ru.get("web-player.offline.empty-state.subtitle"):i.Ru.get("offline.callout-disconnected")})]})},51632:(e,a,s)=>{s.d(a,{P:()=>n});var r=s(68467);function n(){return(0,r.y)()[0]}},62936:(e,a,s)=>{s.d(a,{E:()=>t});var r=s(30758),n=s(28487);function t(e){var a,s,t,i,l,o=e.size?n.$Z[e.size]:e.iconSize,c=(0,n._C)([{size:16,svgContent:"<path d='M1.75 1A1.75 1.75 0 0 0 0 2.75v11.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0 0 16 14.25v-9.5A1.75 1.75 0 0 0 14.25 3H7.82l-.65-1.125A1.75 1.75 0 0 0 5.655 1z'/>"},{size:24,svgContent:"<path d='M1 4a2 2 0 0 1 2-2h5.155a3 3 0 0 1 2.598 1.5l.866 1.5H21a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2z'/>"}],o||24),d=null!==(a=e.autoMirror)&&void 0!==a&&a;return r.createElement(n.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((i=e.title,l=e.titleId,i?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(i,"</title>"):"")).concat((s=e.desc,t=e.descId,s?"<desc ".concat(t?'id="'.concat(t,'"'):"",">").concat(s,"</desc>"):"")).concat(c.svgContent)}}))}},68467:(e,a,s)=>{s.d(a,{y:()=>t});var r=s(30758),n=s(11085);function t(){const e=(0,n.A)(),[a,s]=(0,r.useState)(e.getIsEnabled());(0,r.useEffect)(()=>{const a=e.subscribeIsEnabled(s);return()=>a()},[e]);return[a,(0,r.useCallback)(a=>e.setIsEnabled(a),[e])]}},76919:(e,a,s)=>{s.d(a,{o:()=>g});var r=s(54091),n=s(52782),t=s(63087),i=s(32354),l=s(91899),o=s(88462),c=s(82898),d=s(19397),u=s(6917),m=s(86070);const g=({images:e,name:a,uri:s,publisher:g,sharingInfo:x,mediaType:h,isHero:f=!1,onClick:p,onPlay:y,testId:b,index:j,requestId:I,color:C,variant:v,logCardImpressions:P=!1,role:S})=>{let A;const k=h===u.Q.MIXED?r.Ru.get("type.show"):r.Ru.get("card.tag.show");return A=f?(0,m.jsx)(l.A,{index:j,onClick:p,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,isPlayable:!1,onPlay:y,renderCardImage:()=>(0,m.jsx)(t.M,{isHero:!0,images:e,color:C}),renderSubHeaderContent:()=>(0,m.jsxs)(i.c,{isHero:!0,children:[(0,m.jsx)(o.t,{children:k}),g&&(0,m.jsx)("span",{children:g})]}),testId:b,requestId:I,logCardImpressions:P}):(0,m.jsx)(n.Z,{variant:v,onClick:p,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,role:S,index:j,onPlay:y,renderCardImage:()=>(0,m.jsx)(t.M,{isHero:f,images:e,color:C}),renderSubHeaderContent:()=>(0,m.jsx)(i.c,{children:g&&(0,m.jsx)("span",{children:g})}),testId:b,requestId:I,logCardImpressions:P}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:s,sharingInfo:x}),children:A})}},80330:(e,a,s)=>{s.d(a,{O:()=>d});var r=s(30758),n=s(54091),t=s(76826),i=s(20133);const l="R0KNfVuPmSYXtczbiQf3";var o=s(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:s=c})=>(0,i.H)()&&a?.length?a.map(({uri:e,name:a},i)=>(0,o.jsxs)(r.Fragment,{children:[i?n.Ru.getSeparator():null,e?(0,o.jsx)(t.N,{to:e,className:l,children:s(a)},i):s(a)]},i)):s(e)},83994:(e,a,s)=>{s.d(a,{e:()=>i});var r=s(62936);const n="R2QAD3ySx4eplaszeU4r";var t=s(86070);const i=({iconSize:e=64,...a})=>(0,t.jsx)("div",{className:n,children:(0,t.jsx)(r.E,{iconSize:e,...a,semanticColor:"textBrightAccent","aria-hidden":!0})})},97858:(e,a,s)=>{s.d(a,{M:()=>N});var r=s(30758),n=s(97500),t=s.n(n),i=s(62411),l=s(78717),o=s(461),c=s(79444),d=s(91198),u=s(54091),m=s(19717),g=s(52782),x=s(63087),h=s(32354),f=s(91899),p=s(88462),y=s(82898),b=s(21943),j=s(62507),I=s(80330),C=s(68514),v=s(70613),P=s(44265);const S="WZ5pjFIq7LXFc00mMXze",A="rKYvPrubyOX1qAHaZPA_";var k=s(86070);const w=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,k.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,k.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,P.ad)(a.toISOString()),(0,P.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,R=({signifierText:e})=>e?(0,k.jsx)(l.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,N=({name:e,uri:a,images:s,authorName:n,authors:P,isHero:N,className:E,onClick:H,onPlay:O,testId:T,index:z,requestId:M,isLocked:L=!1,isPlayable:_=!1,color:D,signifierText:F,isPreRelease:B=!1,publishDate:U,variant:q,consumptionCapExplanation:K,logCardImpressions:X=!1,role:Z})=>{const{playUri:Q,playOptions:V}=(0,C.J)(a),W=(0,i.wA)(),Y=(0,d.NC)(v.HJU),$=!!K,G=(0,k.jsx)(I.O,{authorName:n,authors:P}),J=(0,r.useCallback)(()=>{O?.(),$&&W((0,m._3)())},[W,$,O]);let ee;return ee=N?(0,k.jsx)(f.A,{className:E,index:z,onClick:H,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:V,onPlay:$?J:O,delegatePlayback:$,isPlayable:(_||$)&&Y,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,n),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,n),dragMimeType:j.fl.AUDIOBOOKS,renderCardImage:()=>(0,k.jsx)(x.M,{isHero:!0,images:s,color:D,FallbackComponent:e=>(0,k.jsx)(o.l,{size:"xxxlarge",...e})}),renderSubHeaderContent:()=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.t,{children:u.Ru.get("card.tag.audiobook")}),(0,k.jsx)(l.E,{variant:"bodySmall",children:G})]}),getSignifierContent:()=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(w,{isPreRelease:B,publishDate:U}),(0,k.jsx)(R,{signifierText:F})]}),testId:T,requestId:M,logCardImpressions:X}):(0,k.jsx)(g.Z,{className:E,variant:q,index:z,onClick:H,headerText:e,featureIdentifier:"audiobook",uri:a,role:Z,playUri:Q,onPlay:$?J:O,delegatePlayback:$,playOptions:V,isPlayable:(_||$)&&Y,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,n),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,n),dragMimeType:j.fl.AUDIOBOOKS,renderCardImage:()=>(0,k.jsx)(x.M,{images:s,color:D,FallbackComponent:e=>(0,k.jsx)(o.l,{size:"xxxlarge",...e})}),renderSubHeaderContent:()=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(h.c,{lineClamp:F?1:2,children:[L&&(0,k.jsx)(c.y,{size:"small",className:S}),(0,k.jsx)(w,{isPreRelease:B,publishDate:U}),(0,k.jsx)(l.E,{as:"span",variant:"bodySmall",className:t()({[A]:B&&n}),children:G})]}),(0,k.jsx)(R,{signifierText:F})]}),testId:T,requestId:M,logCardImpressions:X}),(0,k.jsx)(y.h,{menu:(0,k.jsx)(b.p,{uri:a}),children:ee})}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map