"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5663],{6525:(e,a,r)=>{r.d(a,{b:()=>n});var i=r(82388),s=r(97533),t=r(86070);const n=()=>(0,t.jsx)("div",{className:s.A.coverContainer,children:(0,t.jsx)(i.P,{iconSize:"xxxlarge",className:s.A.coverIcon})})},27799:(e,a,r)=>{r.d(a,{u:()=>n});var i=r(54091),s=r(7100),t=r(85093);function n(){const e=(0,t.J)(s.H3);return null===e?null:{uri:s.H3,name:i.Ru.get("sidebar.your_episodes"),images:[],totalLength:e.totalLength,owner:e.owner}}},33527:(e,a,r)=>{r.r(a),r.d(a,{RecentlyPlayedHomeCarouselShelf:()=>R,default:()=>A});var i=r(30758),s=r(97500),t=r.n(s),n=r(14336),l=r(54091),o=r(96811),d=r(62623),c=r(97858),u=r(52782),m=r(11183),g=r(76919),x=r(55986),h=r(95097),p=r(31808),y=r(82880),j=r(3705),I=r(42417),b=r(61954),f=r(69040),v=r(88505);function C(e=!0){const a=(0,v.j)(),[r,s]=(0,i.useState)(()=>a.getContexts());return(0,i.useEffect)(()=>{if(!e)return;return a.getEvents().addListener(f.m5.UPDATE,({data:e})=>{s(e)})},[a,e]),r}var P=r(13059);const k="L7FhAjlq9QSzOko4hzjm";var S=r(86070);function w(e){const a=new Set;return e.filter(e=>{if(e.type===f.d2.LIKED_SONGS){if(a.has(e.type))return!1;a.add(e.type)}return!0})}const N=(e,a,r,i=!1,s)=>{const t=e.uri;switch(e.type){case f.d2.LIKED_SONGS:return(0,S.jsx)(y.o,{index:a,variant:r,role:s},t);case f.d2.YOUR_EPISODES:return(0,S.jsx)(I.e,{index:a,variant:r,role:s},t);case f.d2.ALBUM:return(0,S.jsx)(o.a,{index:a,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null,variant:r,logCardImpressions:i,role:s},t);case f.d2.ARTIST:return(0,S.jsx)(d.a,{index:a,name:e.name,uri:e.uri,images:e.images,variant:r,logCardImpressions:i,role:s},t);case f.d2.PLAYLIST:return(0,S.jsx)(m.B,{index:a,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,authorUri:e.owner.uri,isPlayable:!(0,b.p)(e.attributes),variant:r,logCardImpressions:i,leaveTitleVisible:!0,role:s},t);case f.d2.SHOW:return(0,S.jsx)(g.o,{index:a,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,variant:r,logCardImpressions:i,role:s},t);case f.d2.AUDIOBOOK:return(0,S.jsx)(c.M,{index:a,name:e.name,uri:e.uri,images:e.images,authorName:e.authors.at(0)?.name??"",authors:e.authors,signifierText:e.signifierText,variant:r,logCardImpressions:i,consumptionCapExplanation:e.consumptionCapExplanation,isPlayable:e.isPlayable,role:s},t);case f.d2.TRACK:return(0,S.jsx)(x.w,{index:a,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null,variant:r,logCardImpressions:i,role:s},t);default:return(0,P.k)(e),null}},R=({title:e,className:a,index:r,id:s})=>{const t=C(!0),n=(0,i.useMemo)(()=>{if(!t)return[];return w(t).map((e,a)=>N(e,a,u._.Compact,!1,"listitem"))},[t]);return 0===n.length?null:(0,S.jsx)(h.R,{index:r,id:s,title:e,seeAllUri:`/genre/${j.r}`,className:a,children:n})},A=()=>{const e=C(!0);if(!e)return[];const a=w(e);return null===e?null:(0,S.jsx)("section",{className:t()("contentSpacing",k),children:(0,S.jsx)(p.p,{id:"recently-played",title:l.Ru.get("view.recently-played"),showAll:!0,index:0,rowGap:n.lT,fullPage:!0,children:a.map((e,a)=>N(e,a,u._.Default))})})}},41341:(e,a,r)=>{r.d(a,{G:()=>n});var i=r(78717),s=r(54091),t=r(86070);const n=()=>(0,t.jsxs)(t.Fragment,{children:[" • ",(0,t.jsx)(i.E,{variant:"bodySmall",semanticColor:"textBase",dir:"auto",as:"span",children:s.Ru.get("search.lyrics-match")})]})},42176:(e,a,r)=>{r.d(a,{E:()=>t});var i=r(30758),s=r(28487);function t(e){var a,r,t,n,l,o=e.size?s.$Z[e.size]:e.iconSize,d=(0,s._C)([{size:16,svgContent:"<path d='M3.75 0A1.75 1.75 0 0 0 2 1.75v12.952c0 1.051 1.22 1.633 2.037.972l3.962-3.208 3.943 3.204c.817.663 2.038.082 2.038-.97V1.75A1.75 1.75 0 0 0 12.23 0z'/>"},{size:24,svgContent:"<path d='M7 1a3 3 0 0 0-3 3v17.167c0 1.448 1.657 2.27 2.81 1.393L12 18.612l5.19 3.948c1.153.876 2.81.055 2.81-1.393V4a3 3 0 0 0-3-3z'/>"}],o||24),c=null!==(a=e.autoMirror)&&void 0!==a&&a;return i.createElement(s.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(d.size," ").concat(d.size),dangerouslySetInnerHTML:{__html:"".concat((n=e.title,l=e.titleId,n?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(n,"</title>"):"")).concat((r=e.desc,t=e.descId,r?"<desc ".concat(t?'id="'.concat(t,'"'):"",">").concat(r,"</desc>"):"")).concat(d.svgContent)}}))}},42417:(e,a,r)=>{r.d(a,{e:()=>x});var i=r(54091),s=r(52782),t=r(63087),n=r(32354),l=r(37647),o=r(6525),d=r(27799),c=r(49060),u=r(97533),m=r(86070);const g=({metadata:e,index:a,variant:r,role:l})=>{const{isPlaying:d,togglePlay:g}=(0,c.P)({uri:e.uri},{featureIdentifier:"your_library"}),{name:x,images:h}=e;return(0,m.jsx)(s.Z,{variant:r,index:a,delegatePlayback:!0,isPlaying:d,featureIdentifier:"your_library",onPlay:(e,a)=>g({loggingParams:a}),headerText:x,uri:e.uri,role:l,renderCardImage:()=>(0,m.jsx)(t.M,{images:h,FallbackComponent:o.b}),renderSubHeaderContent:()=>(0,m.jsx)(n.c,{children:i.Ru.get("tracklist-header.episodes-counter",e.totalLength)}),className:u.A.yourEpisodesCard})},x=({index:e,variant:a,role:r})=>{const i=(0,d.u)();return i?(0,m.jsx)(g,{metadata:i,index:e,variant:a,role:r}):(0,m.jsx)(l.u,{cardImage:(0,m.jsx)(t.M,{FallbackComponent:o.b}),isLoading:!0,variant:a})}},55986:(e,a,r)=>{r.d(a,{w:()=>C});var i=r(54091),s=r(52782),t=r(63087),n=r(32354),l=r(91899),o=r(88462),d=r(82898),c=r(21017),u=r(35313),m=r(70675),g=r(69869),x=r(18204),h=r(41341),p=r(67793),y=r(54635),j=r(72045),I=r(24238);const b="zQrPD8WI53TbUS3hngGf",f="aYt6brelfaS_o2cqU7ow";var v=r(86070);const C=({name:e,uri:a,images:r,album:C,artists:P,isExplicit:k,is19PlusOnly:S,isHero:w=!1,onClick:N,onPlay:R,testId:A,index:T,requestId:E,isLyricsMatch:H,color:O,hasAssociatedVideo:M,hasAssociatedAudio:L,mediaType:z,variant:U,logCardImpressions:_=!1,role:D})=>{let q;const{badges:F,hasBadges:G}=(0,I.b)({isExplicit:k,isMOGEFRestricted:S,isVideo:M}),B=!1===M&&!1===L&&z===j.IX.Video,Z=(0,g.o)(k,B);return q=w?(0,v.jsx)(l.A,{index:T,onClick:N,headerText:e,featureIdentifier:"track",uri:a,albumURI:C?.uri,onPlay:R,renderCardImage:()=>(0,v.jsx)(t.M,{isHero:!0,images:Z?[]:r,color:O}),renderSubHeaderContent:()=>(0,v.jsxs)(n.c,{isHero:!0,children:[G&&(0,v.jsxs)(m.P,{children:[F.explicit&&(0,v.jsx)(p.U,{}),F.nineteen&&(0,v.jsx)(y.q,{className:b,size:16}),F.isVideo&&(0,v.jsx)(x.l,{})]}),(0,v.jsx)(o.t,{children:i.Ru.get("card.tag.track")}),(0,v.jsx)(u.l,{artists:P,className:f}),H&&(0,v.jsx)(h.G,{})]}),testId:A,requestId:E,logCardImpressions:_}):(0,v.jsx)(s.Z,{variant:U,index:T,onClick:N,headerText:e,featureIdentifier:"track",role:D,uri:a,albumURI:C?.uri,onPlay:R,renderCardImage:()=>(0,v.jsx)(t.M,{images:Z?[]:r,color:O}),renderSubHeaderContent:()=>(0,v.jsxs)(n.c,{children:[k&&!S&&(0,v.jsx)(p.U,{className:b}),S&&(0,v.jsx)(y.q,{size:16,className:b}),(0,v.jsx)(u.l,{artists:P,className:f}),H&&(0,v.jsx)(h.G,{})]}),testId:A,requestId:E,logCardImpressions:_}),(0,v.jsx)(d.h,{menu:(0,v.jsx)(c.P,{uri:a,artists:P,albumUri:C?.uri}),children:q})}},58521:(e,a,r)=>{r.d(a,{w:()=>t});var i=r(89307);function s(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}function t(e){return{type:i.c.USER,uri:e.uri,username:e.id,displayName:e?.display_name||null,images:e?.images?.map(s)||[]}}},61954:(e,a,r)=>{function i(e){return!!e&&(Array.isArray(e)?e.some(e=>"is-editorial-booklist"===e.key&&"true"===e.value):"true"===e["is-editorial-booklist"])}r.d(a,{p:()=>i})},76919:(e,a,r)=>{r.d(a,{o:()=>g});var i=r(54091),s=r(52782),t=r(63087),n=r(32354),l=r(91899),o=r(88462),d=r(82898),c=r(19397),u=r(6917),m=r(86070);const g=({images:e,name:a,uri:r,publisher:g,sharingInfo:x,mediaType:h,isHero:p=!1,onClick:y,onPlay:j,testId:I,index:b,requestId:f,color:v,variant:C,logCardImpressions:P=!1,role:k})=>{let S;const w=h===u.Q.MIXED?i.Ru.get("type.show"):i.Ru.get("card.tag.show");return S=p?(0,m.jsx)(l.A,{index:b,onClick:y,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:r,isPlayable:!1,onPlay:j,renderCardImage:()=>(0,m.jsx)(t.M,{isHero:!0,images:e,color:v}),renderSubHeaderContent:()=>(0,m.jsxs)(n.c,{isHero:!0,children:[(0,m.jsx)(o.t,{children:w}),g&&(0,m.jsx)("span",{children:g})]}),testId:I,requestId:f,logCardImpressions:P}):(0,m.jsx)(s.Z,{variant:C,onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:r,role:k,index:b,onPlay:j,renderCardImage:()=>(0,m.jsx)(t.M,{isHero:p,images:e,color:v}),renderSubHeaderContent:()=>(0,m.jsx)(n.c,{children:g&&(0,m.jsx)("span",{children:g})}),testId:I,requestId:f,logCardImpressions:P}),(0,m.jsx)(d.h,{menu:(0,m.jsx)(c.H,{uri:r,sharingInfo:x}),children:S})}},80330:(e,a,r)=>{r.d(a,{O:()=>c});var i=r(30758),s=r(54091),t=r(76826),n=r(20133);const l="R0KNfVuPmSYXtczbiQf3";var o=r(86070);const d=e=>e,c=({authorName:e="",authors:a,nameHighlighter:r=d})=>(0,n.H)()&&a?.length?a.map(({uri:e,name:a},n)=>(0,o.jsxs)(i.Fragment,{children:[n?s.Ru.getSeparator():null,e?(0,o.jsx)(t.N,{to:e,className:l,children:r(a)},n):r(a)]},n)):r(e)},82388:(e,a,r)=>{r.d(a,{P:()=>t});var i=r(42176),s=r(86070);const t=({iconSize:e,className:a})=>(0,s.jsx)("div",{className:a,children:(0,s.jsx)(i.E,{size:e,"aria-hidden":!0})})},82880:(e,a,r)=>{r.d(a,{o:()=>j});var i=r(54091),s=r(52782),t=r(63087),n=r(32354),l=r(37647),o=r(62411),d=r(41667),c=r(74777),u=r(51629),m=r(87524),g=r(58521);var x=r(7100),h=r(49060),p=r(86070);const y=({metadata:e,index:a,variant:r,role:l})=>{const{isPlaying:o,togglePlay:d}=(0,h.P)({uri:e.uri},{featureIdentifier:"your_library"}),{name:c,images:u}=e;return(0,p.jsx)(s.Z,{variant:r,index:a,delegatePlayback:!0,isPlaying:o,featureIdentifier:"your_library",onPlay:(e,a)=>d({loggingParams:a}),headerText:c,uri:e.uri,role:l,renderCardImage:()=>(0,p.jsx)(t.M,{images:u}),renderSubHeaderContent:()=>(0,p.jsx)(n.c,{children:i.Ru.get("tracklist-header.songs-counter",e.totalLength)})})},j=({index:e,variant:a,role:r})=>{const i=function(){const e=(0,m.d)({offset:0,limit:1}),{user:a}=(0,o.d4)(u.Ht),r=(0,d.Z)();if(null===e||null===a)return null;const i=(0,c.$R)(r);return i?{uri:i.uri,name:i.name,images:i.images,totalLength:e?.totalLength,unfilteredTotalLength:e.unfilteredTotalLength,owner:(0,g.w)(a)}:null}();return i?(0,p.jsx)(y,{metadata:i,index:e,variant:a,role:r}):(0,p.jsx)(l.u,{cardImage:(0,p.jsx)(t.M,{images:x.Wd}),isLoading:!0,variant:a})}},88505:(e,a,r)=>{r.d(a,{j:()=>t});var i=r(69040),s=r(94209);function t(){return(0,s.N)(i.X6)}},97533:(e,a,r)=>{r.d(a,{A:()=>i});const i={coverContainer:"xwmHcoGFMXA0G2iBT3jO",yourEpisodesCard:"CUZw29ncqG8glCwpFiG1",coverIcon:"dID9GW63ey3cbi7fIE6p"}},97858:(e,a,r)=>{r.d(a,{M:()=>A});var i=r(30758),s=r(97500),t=r.n(s),n=r(62411),l=r(78717),o=r(461),d=r(79444),c=r(91198),u=r(54091),m=r(19717),g=r(52782),x=r(63087),h=r(32354),p=r(91899),y=r(88462),j=r(82898),I=r(21943),b=r(62507),f=r(80330),v=r(68514),C=r(70613),P=r(44265);const k="WZ5pjFIq7LXFc00mMXze",S="rKYvPrubyOX1qAHaZPA_";var w=r(86070);const N=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,w.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,w.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,P.ad)(a.toISOString()),(0,P.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,R=({signifierText:e})=>e?(0,w.jsx)(l.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,A=({name:e,uri:a,images:r,authorName:s,authors:P,isHero:A,className:T,onClick:E,onPlay:H,testId:O,index:M,requestId:L,isLocked:z=!1,isPlayable:U=!1,color:_,signifierText:D,isPreRelease:q=!1,publishDate:F,variant:G,consumptionCapExplanation:B,logCardImpressions:Z=!1,role:K})=>{const{playUri:V,playOptions:X}=(0,v.J)(a),W=(0,n.wA)(),Y=(0,c.NC)(C.HJU),Q=!!B,J=(0,w.jsx)(f.O,{authorName:s,authors:P}),$=(0,i.useCallback)(()=>{H?.(),Q&&W((0,m._3)())},[W,Q,H]);let ee;return ee=A?(0,w.jsx)(p.A,{className:T,index:M,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:X,onPlay:Q?$:H,delegatePlayback:Q,isPlayable:(U||Q)&&Y,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,s),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,s),dragMimeType:b.fl.AUDIOBOOKS,renderCardImage:()=>(0,w.jsx)(x.M,{isHero:!0,images:r,color:_,FallbackComponent:e=>(0,w.jsx)(o.l,{size:"xxxlarge",...e})}),renderSubHeaderContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.t,{children:u.Ru.get("card.tag.audiobook")}),(0,w.jsx)(l.E,{variant:"bodySmall",children:J})]}),getSignifierContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(N,{isPreRelease:q,publishDate:F}),(0,w.jsx)(R,{signifierText:D})]}),testId:O,requestId:L,logCardImpressions:Z}):(0,w.jsx)(g.Z,{className:T,variant:G,index:M,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,role:K,playUri:V,onPlay:Q?$:H,delegatePlayback:Q,playOptions:X,isPlayable:(U||Q)&&Y,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,s),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,s),dragMimeType:b.fl.AUDIOBOOKS,renderCardImage:()=>(0,w.jsx)(x.M,{images:r,color:_,FallbackComponent:e=>(0,w.jsx)(o.l,{size:"xxxlarge",...e})}),renderSubHeaderContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(h.c,{lineClamp:D?1:2,children:[z&&(0,w.jsx)(d.y,{size:"small",className:k}),(0,w.jsx)(N,{isPreRelease:q,publishDate:F}),(0,w.jsx)(l.E,{as:"span",variant:"bodySmall",className:t()({[S]:q&&s}),children:J})]}),(0,w.jsx)(R,{signifierText:D})]}),testId:O,requestId:L,logCardImpressions:Z}),(0,w.jsx)(j.h,{menu:(0,w.jsx)(I.p,{uri:a}),children:ee})}}}]);
//# sourceMappingURL=xpui-routes-recently-played.js.map