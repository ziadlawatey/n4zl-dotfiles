"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1602,5094],{20722:(e,t,r)=>{r.d(t,{TopBar:()=>k});var n=r(30758),s=r(97500),a=r.n(s),o=r(54091),i=r(47812),c=r(4347),l=r(17616),u=r(86070);const d=()=>{const e=(0,n.useRef)(null),{setElementRef:t}=(0,n.useContext)(c.J);return(0,n.useEffect)(()=>{t&&e.current&&t(e.current)},[t]),(0,u.jsx)("div",{"data-testid":"topbar-content-wrapper",className:l.A.topbarContentWrapper,ref:e})};var p=r(21013),m=r(30339),h=r(54390);const f=["","/","/home/","/content-feed/","/lyrics","/search","/search/:query","/search/:query/:category","/recent-searches","/section/:id","/genre/:id","/user/:username/:subpage","/user/:username/top/artists","/user/:username/top/tracks","/preferences","/artist/:id/featuring","/artist/:id/playlists","/artist/:id/appears-on","/artist/:id/discovered-on","/artist/:id/related","/artist/:id/saved-releases","/download","/premium"];var b=r(59057),v=r(58760),A=r(12586),y=r(77639);const N={[v.E.SMALL]:0,[v.E.MEDIUM]:600,[v.E.LARGE]:1024},k=()=>{const e=(0,b.lr)(),t=(0,h._)(e=>{const t=e.pathname.replace(/^\/intl-[A-Za-z]{2}/i,"");return f.every(e=>e!==t&&null===(0,m.B6)(e,t))}),r=(0,n.useRef)(null),{breakpoint:s}=(0,y.x)(N,r),{color:c,isDynamic:v}=(0,i.X)();return t?(0,u.jsx)(A.o.Provider,{value:s,children:(0,u.jsxs)("header",{"data-testid":"topbar","aria-label":o.Ru.get("topBar.label"),className:a()(l.A.container,{[l.A.withBackgroundBlur]:e}),children:[(0,u.jsx)(p.A,{ref:r,className:l.A.background,style:{...c?{"--background-base":c}:{}},children:!v&&(0,u.jsx)("div",{className:l.A.overlay})}),(0,u.jsx)("div",{className:a()(l.A.contentContainer,"contentSpacing"),children:(0,u.jsx)(d,{})})]})}):null}},21013:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(30758),s=r(59057),a=r(29369),o=r(49915),i=r(34697),c=r(48861),l=r(78030),u=r(79232),d=r(91596),p=r(86070);const m=parseInt(d.A.MINIMUM_HEADER_HEIGHT,10),h=(0,n.forwardRef)(function(e,t){const r=(0,s.lr)(),d=(0,s.Nx)(),h=(0,o.W)(),f=(0,c.A)(),{isActive:b}=(0,i.$)(),v=(0,n.useRef)(-1),A=(0,n.useRef)(null),y=t??A,N=(0,n.useCallback)(e=>{const t=e.target.scrollTop;let n;if(n=r||d?(0,s.q8)(t,h):void 0===f?(0,u.i)(t,a.uC):b?0:(0,u.i)(t,m,76),"function"==typeof y)throw new Error("Callback refs are not supported");Number(v.current).toPrecision(2)!==Number(n).toPrecision(2)&&requestAnimationFrame(()=>{y.current&&y.current.style.setProperty("opacity",`${Number(n).toPrecision(2)}`)}),v.current=n},[r,d,f,b,h,y]);return(0,l.i)(N,{executeOnceOnStart:!0}),(0,p.jsx)("div",{ref:y,...e,children:e.children})})},34697:(e,t,r)=>{r.d(t,{$:()=>a});var n=r(85387);const s="/lyrics",a=()=>{const e=(0,n.zy)(),t=e.pathname === s;return{isActive:t,isActiveNotCinemaMode:t&&(!e.state.cinemaState||"closed"===e.state.cinemaState),routeDestination:s}}},41751:(e,t,r)=>{r.d(t,{$F:()=>o,Dr:()=>c,KI:()=>d,V0:()=>u,YO:()=>p,nC:()=>h,t$:()=>m,uW:()=>l,ye:()=>f});var n=r(42551),s=r(91728);const a=[s.Gm.NATIVE,s.Gm.IMAGE,s.Gm.HTML],o=e=>e.ads.hpto?.template||null,i=e=>e.ads.root.isHptoHidden,c=e=>e.ads.hpto?.hptoIsStable||null,l=e=>e.ads.root.isPremium,u=e=>"1"===e.session.productState?.["has-audiobooks-subscription"],d=e=>e.ads.hpto?.creativeFetchingState||null,p=(0,n.Mz)(e=>e.ads.hpto?.creative||null,e=>e.ads.hpto?.preview||null,(e,t)=>t||e),m=(0,n.Mz)(p,l,i,(e,t,r)=>{if(!e)return!1;return!(!a.includes(e.bannerMode)||t&&r)}),h=(0,n.Mz)(l,i,(e,t)=>!e||!t),f=(0,n.Mz)(p,e=>!!e&&a.includes(e.bannerMode))},48861:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(47812);function s(e){const{color:t}=(0,n.X)();return t||e}},49915:(e,t,r)=>{r.d(t,{HomeHeader:()=>b,W:()=>f});var n=r(30758),s=r(97500),a=r.n(s),o=r(62411),i=r(66917),c=r(41751),l=r(81694),u=r(48861);const d="main-home-homeHeader",p="uznseQmgVkYDV6bq3xkD",m="XS0VX6KcPs_07hsREvN5";var h=r(86070);const f=()=>(0,o.d4)(c.t$),b=(0,n.memo)(function(){const e=(0,u.A)(i.l0o),t=!(0,l.n)(),r=f();return(0,h.jsx)("div",{className:a()(d,{[m]:t,[p]:r}),style:{backgroundColor:e}})})},59057:(e,t,r)=>{r.d(t,{Nx:()=>o,lr:()=>a,q8:()=>i});var n=r(54390),s=r(79232);const a=()=>(0,n._)(e=>"/"===e.pathname),o=()=>(0,n._)(e=>"/home"===e.pathname),i=(e,t)=>{const r=t?350:80;return(0,s.i)(e,r,10)}},79232:(e,t,r)=>{function n(e,t=1,r=0){if(r>t)return 1;let n=(e-r)/(t-r);return Number.isNaN(n)&&(n=1),Math.min(Math.max(n,0),1)}r.d(t,{i:()=>n})}}]);
//# sourceMappingURL=dwp-top-bar.js.map