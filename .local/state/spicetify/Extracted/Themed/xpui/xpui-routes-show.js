"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8606],{10795:(e,a,t)=>{t.d(a,{v:()=>n});var s=t(75072),i=t(26843);const r=Spicetify.GraphQL.Definitions["internalLinkRecommenderShow"]=new s.l("internalLinkRecommenderShow","query","6c369ff272a666b31fef1629c169925a1bd80f372195396c82304142cacd89e8",null),n=(e,a)=>(0,i.I)(r,e,a)},17066:(e,a,t)=>{t.d(a,{h:()=>u});var s=t(30758),i=t(68453),r=t(29503),n=t(41156),o=t(26908),l=t(94209);var c=t(52632),d=t(86070);const u=({children:e,action:a,uri:t})=>{const u=(0,n.V)(),m=(0,l.N)(o.JD);let h;const g=()=>{const e={triggerId:r.Z,triggerAction:{type:a}};i.h.set(a=>({...a,...e})),m.storeAction(o.j8,{operation:c.tS.ADD,uris:[t]})};try{h=s.Children.only(e)}catch(a){return(0,d.jsx)(d.Fragment,{children:e})}return u?s.cloneElement(h,{onClick:g}):(0,d.jsx)(d.Fragment,{children:e})}},22222:(e,a,t)=>{t.d(a,{r:()=>n});var s=t(75072),i=t(26843);const r=Spicetify.GraphQL.Definitions["similarAudiobooks"]=new s.l("similarAudiobooks","query","d62da1bbf5859e5a156da1f52ce21a73a642f925db717a179fd89626b27a80b8",null),n=(e,a)=>(0,i.I)(r,e,a)},27567:(e,a,t)=>{t.d(a,{K:()=>s});const s=e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Podcast"===e.__typename;var a}},27722:(e,a,t)=>{t.d(a,{B:()=>E,q:()=>T});var s=t(30758),i=t(62411),r=t(7151),n=t(27360),o=t(48289),l=t(83760),c=t(82898),d=t(10817),u=t(10993),m=t(68453),h=t(95264),g=t(87274),p=t(66147),x=t(38324),y=t(68930),j=t(36664),b=t(59725),v=t(41156),C=t(5256),f=t(91816),k=t(12586),P=t(85059),w=t(94639),R=t(44451),S=t(88439),I=t(72045),N=t(24238),A=t(86070);function E(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const D=e=>`activation-trigger-mme-${e}`,T=s.memo(function({index:e=-1,showMetadata:a,episode:t,usePlayContextItem:T}){const{isWeb:F}=(0,f.V)(),B=t.playedState.playPositionMilliseconds,U=t.uri,M=(0,s.useRef)(null),L=(0,j.N)(a.uri),{draggable:_,onDragStart:O}=(0,b.P)(),H=(0,v.V)(),z=(0,k.y)(),K=(0,i.wA)(),V=(0,x.H)(),{UBIFragment:W,spec:q,logger:Z}=(0,R.D)(r.d,{data:{uri:U,reason:t.requestId||"",position:e}}),$=(0,S.n)(q.getAbsoluteLocation(),q),{isActive:X,isPlaying:G,togglePlay:Q}=T({uri:U}),[Y]=(0,P.S9)(1e4,e=>e?.item?.uri===U),{isFullyPlayed:J,setIsFullyPlayed:ee}=(0,w.e)({uri:U,durationMs:t.duration.milliseconds,episodePlaybackState:t.playedState?.state,isPlaying:G});(0,s.useEffect)(()=>{G&&(M.current=Y)},[G,Y]),(0,s.useEffect)(()=>{!G&&M.current&&t.duration.milliseconds<=M.current&&ee(!0)},[G,t.duration.milliseconds,ee]);const ae=(0,s.useCallback)(e=>{e||(M.current=0),ee(e)},[ee]),te=E(a),se=(0,C.C)({...t,coverArt:{sources:t.coverArt}},te),ie=(0,s.useCallback)(()=>{if(V({uri:U}),t.episodeType===I.I_.Episode&&F)m.h.set(()=>({triggerId:D(t.uri),triggerAction:null}));else if(H)se();else{let e;e=G?q.playButtonFactory().hitPause({itemToBePaused:U}):X?q.playButtonFactory().hitResume({itemToBeResumed:U}):q.playButtonFactory().hitPlay({itemToBePlayed:U});const a=Z.logInteraction(e);Q({loggingParams:a})}},[X,se,Q,U,G,H,t,F,Z,q,V]),re=(0,s.useCallback)(()=>{V({uri:U}),Z.logInteraction(q.hitUiNavigate({destination:U}))},[U,Z,q,V]),ne=t.podcastSubscription?.isPaywalled??!1,oe=t.podcastSubscription?.isUserSubscribed??!1,le=ne&&!oe,ce=ne&&H,{badges:de}=(0,N.b)({contentRating:t.contentRating?.label,isPaywalled:ne}),ue=(0,s.useCallback)(()=>K((0,o.Tf)(a.uri)),[a.uri,K]),me=(0,s.useCallback)(e=>{let s=e;return(le||ce)&&(s=(0,A.jsx)(g.N,{enabled:!0,showUri:t.podcast?.uri||a.uri,renderInline:!1,children:s})),!t.playability.playable&&de.nineteen&&(s=(0,A.jsx)("div",{onClick:e=>{e.stopPropagation(),ue()},children:e})),s=(0,A.jsx)(l.k,{id:D(U),targetURI:(0,n.o_h)(U),children:s}),s},[U,le,ce,a.uri,de.nineteen,t.playability.playable,ue,t.podcast?.uri]),{filter:he}=(0,s.useContext)(p.g),ge=(0,s.useCallback)(e=>"string"!=typeof he?e:(0,A.jsx)(h.M,{searchWords:[he],textToHighlight:e}),[he]);return(0,A.jsx)(W,{spec:q,children:(0,A.jsx)(c.h,{onShow:()=>{Z.logInteraction(q.secondaryHitUiReveal())},menu:(0,A.jsx)(d.b,{uri:U,showUri:a.uri,sharingInfo:t.sharingInfo,isPlayed:J,onMarkAsPlayed:ae}),children:(0,A.jsx)(u.k,{ref:$,requestId:t.requestId,index:e,uri:U,size:z,images:t.coverArt||[],name:t.name,showName:t.podcast?.name||a.name,description:t.description,isPlayable:t.playability.playable||le,fullyPlayed:J,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate,resumePositionMs:M.current??B,draggable:_,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const s=`${t.name} • ${a.name}`;O(e,{itemUris:[U],dragLabelText:s,contextUri:a.uri})},handlePlaybackClick:ie,handleClick:re,isCurrentlyPlaying:X,isPaywalled:ne,isUserSubscribed:oe,isCourseLesson:L,isPlaying:G,position:G?Y:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:ae,contentInformation:t.contentInformation,showUri:t.podcast?.uri||a.uri,mediaTypes:t.mediaTypes??void 0,badges:(0,A.jsx)(y.P,{episode:t}),playButtonWrapper:me,onMoreButtonClick:()=>{Z.logInteraction(q.moreButtonFactory().hitUiReveal())},sixteenByNineCoverImages:t.sixteenByNineCoverImages??void 0,dynamicColors:t.dynamicColors??void 0,highlightText:ge})})})})},29492:(e,a,t)=>{t.r(a),t.d(a,{default:()=>si});var s=t(30758),i=t(85387),r=t(39329),n=t(18237),o=t(27360),l=t(54091),c=t(29947),d=t(80128),u=t(66147),m=t(97500),h=t.n(m),g=t(62411),p=t(78717),x=t(91198),y=t(22373),j=t(50595),b=t(19717),v=t(22141),C=t(64300),f=t(71464),k=t(97701),P=t(97858),w=t(67012),R=t(54720),S=t(10812),I=t(22222),N=t(34920),A=t(89307),E=t(86070);const D=({className:e,title:a,uri:t})=>{const{data:s}=(0,I.r)({uri:t}),i=s?.seoRecommendedAudiobook.items,r=s?.seoRecommendedAudiobook.totalCount,n=(0,N.a)(i);if(0===r)return null;const c=(0,o.o_h)(t)?.id;return(0,E.jsx)(S.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:i?.length,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${c}:more-like-this`,children:n?.map(({data:e},a)=>{return(0,E.jsx)(P.M,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],authorName:(t=e.authorsV2,t.map(e=>e?.name).join(l.Ru.getSeparator())??""),authors:e.authorsV2,index:a},e.name);var t})})},T=e=>{const a=(0,R.D)({entityType:A.c.AUDIOBOOK,componentType:"shelf",uri:e.uri});return(0,E.jsx)(w.s,{onError:a,children:(0,E.jsx)(D,{...e})})};var F=t(40539),B=t(76826);const U="iopJnq6ouq7xaQ6Dx5Dw",M="SBaKXIpGfdDMmyqHVDvT",L="JCO709m7jB1C6Yp1vSH2",_=({title:e,uri:a,className:t,onClick:i,position:r})=>{const n=(0,s.useCallback)(e=>{i?.(e,{uri:a,position:r})},[i,r,a]);return(0,E.jsx)(B.N,{"aria-label":e,className:h()(M,L,t),to:a,onClick:n,children:(0,E.jsx)(F.v,{as:"span",children:e})})};function O(e){return!!e.uri&&!!e.title}const H=({topics:e,className:a,onClick:t})=>(0,E.jsx)("div",{className:h()(U,a),children:e.filter(O).map((e,a)=>{const s=`${e.uri}-${a}`;return(0,E.jsx)(_,{title:e.title,uri:e.uri,position:a,onClick:t},s)})});var z=t(31656),K=t(76056),V=t(87625),W=t(67793),q=t(34503),Z=t(65992),$=t(54635),X=t(51490),G=t(24238);const Q="LhcWvY6PV7Ias42x53Ho",Y="hNTLlvWzKDHLHe278hl0",J="jOinnCz1EUVzcsyEyHd3",ee="tqbaXIVmgZXdc53XX6mf",ae="UKMQwDRYcvspV166Fwso",te="Dk23ckeUXFkC4suEHkLJ",se="_DkkBJVcHZawjorfrSRN",ie="K58LfdQFk9jc5RkAgoiP",re="uJo886EmfPfC4osXKnNX",ne="DPFrXslQiICWTlPFGCVj",oe="Kf4Z3kJMGhq86i6nxBxS";let le=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ce=({images:e,title:a,contentRating:t,duration:s,moreButton:i,onClick:r,onContextMenu:n,onTouchStart:o,onTouchEnd:l,isPlaying:c,isActive:d,size:u,className:m,label:g,isPlayable:p=!0})=>{const x=u===le.LARGE?"medium":"small",{badges:y}=(0,G.b)({contentRating:t});return(0,E.jsxs)("div",{"data-testid":"trailer-component",className:h()(Q,m,{[Y]:d}),onContextMenu:n,onTouchStart:o,onTouchEnd:l,children:[(0,E.jsxs)("div",{className:ee,children:[(0,E.jsxs)("div",{className:ie,children:[(0,E.jsx)(q.b,{type:A.c.EPISODE,title:a,className:h()(se,{[oe]:u===le.SMALL,[ne]:u===le.LARGE}),size:Z.Qe.SIZE_56,images:e,shape:q.u.ROUNDED_CORNERS}),(0,E.jsx)("div",{className:re,children:(0,E.jsx)(K.D,{"data-testid":"trailer-play-button",version:K.H.transparent,size:x,isPlaying:c,onClick:r,disabled:!p})})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:ae,children:(0,E.jsx)(z.Z,{dir:"auto",className:J,variant:"balladBold",children:a})}),(0,E.jsxs)("div",{className:te,children:[(0,E.jsx)(V.E,{text:g}),y.explicit&&(0,E.jsx)(W.U,{}),y.nineteen&&(0,E.jsx)($.q,{}),(0,E.jsx)(z.Z,{dir:"auto",variant:"mesto",children:(0,E.jsx)(X.d,{durationMs:s})})]})]})]}),i]})};var de=t(93978),ue=t(60257);const me=({htmlDescription:e,narrators:a,spec:t,isPreRelease:i})=>{const r=(0,ue.s)(),n=(0,s.useCallback)(e=>{const a=t.seeMoreButtonFactory();r.logInteraction(e?a.hitUiReveal():a.hitUiHide())},[r,t]);return(0,E.jsxs)(E.Fragment,{children:[a.length?(0,E.jsx)(p.E,{as:"p",variant:"bodyMedium",children:l.Ru.get("web-player.audiobooks.narratedByX",a.join(l.Ru.getSeparator()))}):null,e&&(0,E.jsx)(de.N,{maxLines:4,content:e,htmlContent:e,onExpanded:n,isOpen:i||null})]})};var he=t(47556),ge=t(40948),pe=t(17686),xe=t(86825),ye=t(65624),je=t(21943),be=t(31407),ve=t(54485),Ce=t(63918),fe=t(33552);const ke="jwCEHngye5KQDAApkajz",Pe="DMZ9WNVIgLfnTVemP5l0",we="vZcaSAWvbgFhs5u792gz",Re="mbfIrP4hc2cavyTMP5xv",Se="n2sJVFv5ySHEOxTOlAg5",Ie="fyX0h4z1Wx49gCYYDJGu",Ne="eZlt72DQbofUooBgWJbm",Ae="HDJbBi1UCuPscc5nc_Eu",Ee="wxP3oJEHYv2JcWMppiE9",De="JqOwywWi7RbwEZlA0sDW",Te="yJGEoFLsC2mFmDxd21KW",Fe="a1UdwzEYJGZc8LiTZccp",Be="b8U1NKQs4TssHPVKP3s2",Ue="fisyMIoRnCswgFhp80vu",Me="eEeTbGSrjsYST3nntmdC",Le=({explicit:e,durationMs:a,publishDate:t,preReleaseEndDateTime:s,isPreRelease:i,uri:r,isPlaying:n})=>{const o=(0,Ce.p)(r),{isMarkedAsFinished:c}=(0,ve.z)(r);let d;return i&&s?d=l.Ru.get("web-player.prerelease.releases_on",{date:l.Ru.formatDate(s)}):!i&&t&&(d=l.Ru.formatDate(t)),(0,E.jsxs)("div",{className:Te,children:[e&&(0,E.jsx)(W.U,{className:Ue}),(0,E.jsxs)("div",{className:Fe,children:[d&&(0,E.jsx)(p.E,{variant:"bodySmall",className:Be,children:d}),a?(0,E.jsxs)(E.Fragment,{children:[o?.playPositionMilliseconds?(0,E.jsx)(p.E,{variant:"bodySmall",className:Be,children:(0,E.jsx)(X.d,{durationMs:a})}):null,(0,E.jsx)(fe.j,{isPlaying:n,fullyPlayed:c,durationMs:a,position:o?.playPositionMilliseconds})]}):null]})]})};var _e=t(73136),Oe=t(92560);const He=(0,s.createContext)(null),ze=({children:e,isPreRelease:a})=>{const[t,i]=(0,s.useState)(!a),r=(0,s.useMemo)(()=>({isPreRelease:a,isCountdownFinished:t,setCountdownFinished:()=>i(!0)}),[a,t,i]);return(0,E.jsx)(He.Provider,{value:r,children:e})};function Ke(){const e=(0,s.useContext)(He);if(null===e)throw new Error("Trying to use 'PreRealeaseCountdownContext' without 'PreRealeaseCountdownProvider'!");return e}var Ve=t(84787);const We="YRQmRcnbBZHvn9fKveIj",qe=({uri:e})=>{const{isCountdownFinished:a}=Ke(),{invalidateCache:t}=(0,Ve.W)(e);return(0,E.jsx)("div",{className:We,children:a?(0,E.jsx)(_e.$,{onClick:t,children:l.Ru.get("web-player.audiobooks.goToAudiobook")}):(0,E.jsx)(Oe.v,{uri:e,isBook:!0})})};var Ze=t(89408),$e=t(48509),Xe=t(24189),Ge=t(41156),Qe=t(51629);const Ye="ewJ8sWKRdi6yUDz0trKH";function Je({uri:e,price:a,size:t,spec:s,logger:i,onPlayback:r}){const{enqueueSnackbar:n}=(0,Xe.d)(),{navigateToBookCheckoutUrl:o}=(0,$e.u)(),c=(0,Ge.V)(),d=(0,g.d4)(Qe.Ly),u=0===a?.finalPrice?.amount,m=u?s.getButtonFactory({uri:e}):s.buyButtonFactory({uri:e}),h=(0,Ze.YQ)(async()=>{if(i.logInteraction(m.hitShowPaywall({paywalledItem:e})),c)r();else{try{a?.finalPrice?await o({show_uri:e,currency:a.finalPrice.currency,price:a.finalPrice.amount}):n(l.Ru.get("error.generic"))}catch(e){n(l.Ru.get("error.generic"))}r()}},2e3,{leading:!0,trailing:!1}),p=d?l.Ru.get("web-player.audiobooks.unlock"):l.Ru.get("web-player.audiobooks.buy");return(0,E.jsx)(_e.$,{size:t,className:Ye,style:{flexShrink:0},onClick:h,children:u?l.Ru.get("web-player.audiobooks.buyFree"):p})}var ea=t(91816);const aa=({uri:e,isLocked:a,price:t,isPlaying:s,isConsumptionCapped:i,onPlayback:r,logger:n,spec:o,size:l="large"})=>{const{inAppPurchasesPolicy:c}=(0,ea.V)();return a&&!i?"notAllowed"===c?(0,E.jsx)(K.D,{locked:!0,isPlaying:s,onClick:r}):(0,E.jsx)(Je,{size:l,uri:e,price:t,logger:n,spec:o,onPlayback:r}):(0,E.jsx)(K.D,{size:l,isPlaying:s,onClick:r})};var ta=t(42264),sa=t(13992),ia=t(81694),ra=t(43114),na=t(32619),oa=t(91645);const la="8px",ca=s.memo(function({backgroundColor:e,uri:a,name:t,isPlaying:i,togglePlay:r,isLocked:n,hasUnlimitedAccess:o,isSaved:c,isConsumptionCapped:d,price:u,spec:m,isExplicit:h,publishDate:p,preReleaseEndDateTime:x,duration:y}){const[j,f]=(0,ra.A)(a,c),k=!(0,ia.n)(),{isPreRelease:P}=Ke(),w=(0,g.wA)(),R=(0,ue.s)(),S=(0,ta.d$)(),{spec:I,logger:N}=(0,oa.r)(he.e,{data:{uri:a}});(0,s.useEffect)(()=>{S&&N.logImpression(I.impression())},[S,N,I]);const A=(0,s.useCallback)(()=>{const e=m.saveToLibraryButtonFactory();j?R.logInteraction(e.hitUnfollow({itemToBeUnfollowed:a})):(R.logInteraction(e.hitFollow({itemToBeFollowed:a})),S&&N.logInteraction(I.hitFollow({itemToBeFollowed:a}))),f(!j)},[a,j,m,f,R,S,N,I]),D=(0,s.useCallback)((e,t)=>{const s=m.downloadButtonFactory();d?w((0,b._3)()):t===na.NV.ADD?R.logInteraction(s.hitDownload({itemToDownload:a})):t===na.NV.REMOVE?R.logInteraction(s.hitRemoveDownload({itemToRemoveFromDownloads:a})):t!==na.NV.NO_PERMISSION&&t!==na.NV.NO_CAPABILITY||R.logInteraction(s.hitUiReveal())},[d,w,R,m,a]),T=(0,s.useCallback)(()=>{const e=m.contextButtonFactory().hitUiReveal();R.logInteraction(e)},[R,m]),F=(0,sa.j)(),B=!!d,U=!n&&!B;return(0,E.jsxs)(ge.E,{backgroundColor:e,style:{"--action-bar-padding-bottom":la},children:[(0,E.jsx)(pe.S,{testId:"book-action-bar-metadata",children:(0,E.jsx)(Le,{explicit:h,publishDate:p,preReleaseEndDateTime:x,durationMs:y,isPreRelease:P,uri:a,isPlaying:i})}),(0,E.jsxs)(pe.S,{children:[P&&(0,E.jsx)(qe,{uri:a}),!P&&(0,E.jsx)(aa,{uri:a,isLocked:n,isConsumptionCapped:B,price:u,isPlaying:i,onPlayback:r,logger:R,spec:m,size:F}),!P&&(0,E.jsx)(be.e,{children:(0,E.jsx)(xe.M,{isAdded:j,onClick:A,disabled:k,size:F,condensed:!0})},"follow-button"),(0,E.jsx)(ye.I,{uri:a,onClick:D,size:F,canDownload:U}),(0,E.jsx)(C.b,{menu:(0,E.jsx)(je.p,{uri:a,isPreRelease:P,price:u,isLocked:n,isCapped:B,hasUnlimitedAccess:o}),children:(0,E.jsx)(v.e,{label:l.Ru.get("more.label.context",t),onClick:T,size:F})})]})]})});var da=t(82898),ua=t(96108),ma=t(62507),ha=t(12552),ga=t(68131),pa=t(86487),xa=t(17422),ya=t(29934),ja=t(85778),ba=t(8134),va=t(52251),Ca=t(54839),fa=t(80330),ka=t(69415),Pa=t(54218),wa=t(58760),Ra=t(12586);const Sa="CTTaRYDid5Lh3Mf_1Xf8",Ia=s.memo(function({coverArt:e,name:a,authorName:t,authors:s,uri:i,backgroundColor:r,isPlaying:n,togglePlay:o,isLocked:c,hasUnlimitedAccess:d,price:u,isConsumptionCapped:m,logger:h,spec:g,preReleaseEndDateTime:x}){const y=(0,Ra.y)(),j=y===wa.E.SMALL||y===wa.E.XSMALL,{isOpen:b,openModal:v,closeModal:C}=(0,Pa.W)(),{isPreRelease:f,setCountdownFinished:k}=Ke(),P=f&&j,w=(0,E.jsx)(je.p,{uri:i,price:u,isLocked:c,isCapped:m,hasUnlimitedAccess:d}),R=(0,E.jsx)(fa.O,{authorName:t,authors:s});return(0,E.jsxs)(ha.z,{backgroundColor:r,size:f?ha.K.XLARGE:ha.K.DEFAULT,children:[(0,E.jsxs)(xa.h,{children:[f&&(0,E.jsx)(qe,{uri:i}),!f&&(0,E.jsx)(aa,{uri:i,isLocked:c,price:u,isPlaying:n,isConsumptionCapped:m,onPlayback:o,logger:h,spec:g,size:"medium"}),(0,E.jsx)(da.h,{menu:w,children:(0,E.jsx)(ya.X,{text:a,dragUri:i,dragLabel:a})})]}),!P&&(0,E.jsx)(da.h,{menu:w,children:(0,E.jsx)(ga.K,{images:e,name:a,dragUri:i,dragMimeType:ma.fl.AUDIOBOOKS,shape:q.u.SQUARE,onClick:v,ariaLabel:l.Ru.get("web-player.audiobooks.open_cover_modal")})}),(0,E.jsxs)(pa.Y,{children:[(0,E.jsx)(ba.B,{children:l.Ru.get("web-player.audiobooks.audiobook")}),(0,E.jsx)(da.h,{menu:w,children:(0,E.jsx)(Ca.mm,{canEdit:!1,onClick:()=>{},scaleAtMinWidth:Ca.tw,dragUri:i,dragMimeType:ma.fl.AUDIOBOOKS,dragLabel:a,children:a})}),f?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(ja.X,{children:(0,E.jsx)(p.E,{className:Sa,variant:"bodySmallBold","data-testid":"entityAuthor",children:R})}),x&&(0,E.jsx)(ua.G,{targetDate:x,images:P?e:[],imageTitle:a,onComplete:k})]}):(0,E.jsx)(va.g,{children:R})]}),(0,E.jsx)(ka.K,{images:e,isOpen:b,onClose:C,title:a})]})}),Na="xK5LUL7L7NUGVucf4pbB",Aa=s.memo(({price:e})=>e.finalPrice&&e.finalListPrice?0===e.finalPrice.amount&&0===e.finalListPrice.amount?(0,E.jsxs)("div",{className:Na,children:[(0,E.jsx)(p.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:l.Ru.get("audiobook.freePriceDescription")}),(0,E.jsx)(p.E,{variant:"bodySmall",children:l.Ru.get("audiobook.freePriceExplanation")})]}):(0,E.jsxs)("div",{className:Na,children:[(0,E.jsx)(p.E,{variant:"titleSmall",semanticColor:"textBase",children:e.finalPrice.formattedPrice}),e.finalPrice.amount<e.finalListPrice.amount&&(0,E.jsx)(p.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:l.Ru.get("web-player.audiobooks.retailPrice",(0,E.jsx)("span",{style:{textDecoration:"line-through"},children:e.finalListPrice.formattedPrice}))})]}):null);var Ea=t(21903),Da=t(79898),Ta=t(70796),Fa=t(67885),Ba=t(50253),Ua=t(49820);const Ma="vz7U3rwOWk5ld8SRcmUG",La="BqriNRLIDzIAbsMiuJv5",_a="NRbNqF1nCsrUc70xpi78",Oa="e5xuuIn2nb9_aWrymyDA",Ha="HQQd85Fhgj2Xum1_xICs",za="rPonYZXz1XfiQtuLRp4g",Ka="ukkQmiX5VD8kMc6Z7A7z",Va="JXhVNegrUztEzgIH7ZnR",Wa="LZ1T0jksGoXHwBxqlVew",qa="UWg2KvH6M9iqTtY17jK4",Za="DiPVF72Y_jDV0L6BVOkm",$a=s.memo(function({name:e,duration:a,uri:t,bookName:i,usePlayContextItem:r,isChapterLocked:n,isPlayable:o,resumePositionMs:c,isFullyPlayed:d,isExplicit:u,is19PlusOnly:m,spec:x,index:y,isConsumptionCapped:j}){const k=(0,s.useRef)(c),{isPlaying:P,togglePlay:w,isActive:R}=r({uri:t}),S=(0,ue.s)(),I=(0,g.wA)(),N=(0,Ba.o)(e=>{if(e?.item?.uri===t){const a=(0,Ua.s)(e)??0;return k.current=a,a}return 0}),A=(0,s.useCallback)(e=>{e.stopPropagation(),e.preventDefault()},[]),D=(0,s.useCallback)(e=>{if(A(e),j)return void I((0,b._3)());const a=x.chapterBlockFactory({position:y,uri:t}).playButtonFactory();if(n)S.logInteraction(a.hitShowPaywall({paywalledItem:t}));else{const e=(0,Fa.$I)({isPlaying:P,isActive:R,spec:a,logger:S,uri:t});w({loggingParams:e})}},[j,I,y,R,n,P,S,x,A,w,t]),T=(0,s.useCallback)(()=>{const e=x.chapterBlockFactory({position:y,uri:t}).secondaryHitUiReveal();S.logInteraction(e)},[y,S,x,t]),F=(0,s.useCallback)(e=>{A(e);const a=x.chapterBlockFactory({position:y,uri:t}).contextMenuFactory().hitUiReveal();S.logInteraction(a)},[y,S,x,A,t]),B=!(n||j),U=(0,E.jsx)(Da.d,{className:h()({[La]:R}),children:e}),M=(0,E.jsxs)("div",{className:za,children:[u&&(0,E.jsx)(W.U,{fullText:!0}),m&&(0,E.jsx)($.q,{size:16}),(0,E.jsxs)("div",{className:Ka,children:[k.current?(0,E.jsx)(p.E,{variant:"bodySmall",className:Za,children:(0,E.jsx)(X.d,{durationMs:a.milliseconds})}):null,(0,E.jsx)(fe.j,{isPlaying:P,fullyPlayed:d,durationMs:a.milliseconds,resumePositionMs:k.current,position:P?N:void 0})]})]}),L=(0,E.jsxs)("div",{className:Wa,"data-testid":`chapter-${y}`,children:[(0,E.jsx)("div",{className:qa,children:B?(0,E.jsx)(C.b,{menu:(0,E.jsx)(f.r,{uri:t}),children:(0,E.jsx)(v.e,{className:Ha,size:v.M.xs,label:l.Ru.get("more.label.context",e),onClick:F})}):null}),(0,E.jsx)("div",{className:Va,children:(0,E.jsx)(K.D,{size:"small",version:K.H.secondary,onClick:D,isPlaying:P,ariaPlayLabel:l.Ru.get("tracklist.a11y.play",e,i),ariaPauseLabel:l.Ru.get("tracklist.a11y.pause",e,i),locked:n&&!j,disabled:!o&&!(n||j)})})]}),_=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("hr",{className:_a,"aria-hidden":!0}),(0,E.jsx)(Ta.v,{id:`chapter-${y}`,title:U,body:M,footer:L,onDoubleClick:e=>{D(e)},className:Ma})]});return B?(0,E.jsx)(da.h,{menu:(0,E.jsx)(f.r,{uri:t}),onShow:T,children:(0,E.jsx)("div",{className:Oa,children:_})}):(0,E.jsx)("div",{className:Oa,children:_})});var Xa=t(30504),Ga=t(88127),Qa=t(99022);var Ya=t(39140);const Ja="LkxZlo0dzAClrKfHsgUy",et="R7TrIllMMhOoJpWJgj1T",at=({bookUri:e,bookName:a,sampleUri:t,isFinishedUnlockingJourney:i,usePlayContextItem:r,spec:n,isConsumptionCapped:o})=>{const c=function(e,a){const t=(0,Qa.T)();return(0,s.useCallback)(async(s,i)=>t.getBookContents(e,{offset:s,limit:i,doRefreshSubscription:a}),[a,t,e])}(e,i),{isMarkedAsFinished:d}=(0,ve.z)(e),{isWeb:u}=(0,ea.V)(),m=u?6:50,[h,g]=(0,s.useState)(m),x=(0,s.useCallback)(e=>e?.uri===t,[t]),y=(0,s.useCallback)(e=>(e=>null!==e)(e)&&!x(e),[x]),j=(0,s.useCallback)(async(e,a)=>{const t=await c(e,a);return{items:t.items,totalLength:t.totalCount}},[c]),{getItems:b,nrValidItems:v}=(0,Ga.E)({fetch:j,nrItems:m,limit:50}),C=(0,s.useCallback)(()=>{g(e=>e+m)},[m]),f=u&&v>h,k=h-1;return(0,E.jsxs)("ul",{children:[(0,E.jsx)(Xa._,{onReachBottom:u?void 0:C,triggerOnInitialLoad:!0,children:b(0,k).map((e,t)=>{if(!e||!y(e))return null;const{name:s,duration:i,uri:l,playability:{playable:c},playedState:{playPositionMilliseconds:u,state:m},isExplicit:h,is19PlusOnly:g}=e,p=m===Ya._w.Completed||d,x=function(e){return!e.playability?.playable&&(e.playability?.reason===Ya.Uk.PaymentRequired||e.playability?.reason===Ya.Uk.Anonymous)}(e);return(0,E.jsx)($a,{name:s,duration:i,uri:l,bookName:a,usePlayContextItem:r,isPlayable:c,isChapterLocked:x,isConsumptionCapped:!!o,resumePositionMs:u,isFullyPlayed:p,isExplicit:h,is19PlusOnly:g,spec:n,index:t},`${l}/${t}`)})}),f&&(0,E.jsx)("div",{className:Ja,children:(0,E.jsxs)(F.v,{onClick:()=>{C()},className:et,children:[(0,E.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("similar-audiobooks.load-more-chapters")}),(0,E.jsx)(Ea.V,{size:"xsmall"})]})})]})};var tt=t(14745),st=t(52753),it=t(70613),rt=t(44364),nt=t(7333),ot=t(2854);const lt="b9Kcg1EhPM183QfPHEAg",ct="WUqyvBcxUrGXOyyFYakp",dt="WDA1QZXs4fTj9g7kv0tx",ut=({rating:e,className:a,onClick:t})=>{if(!e)return null;const s=Boolean(e.rating?.rating),i=l.Ru.formatNumber(e.averageRating?.average??0,{maximumFractionDigits:1}),r=l.Ru.formatNumberCompact(Number(e.averageRating?.totalRatings??0)),n=e.averageRating?.showAverage?l.Ru.get("web-player.audiobooks.rating.ratingButton",{averageStars:l.Ru.get("web-player.audiobooks.rating.ratingButtonStars",i),totalRatings:l.Ru.get("web-player.audiobooks.rating.ratingButtonRatings",r)}):l.Ru.get("web-player.audiobooks.noRating");return(0,E.jsxs)("button",{className:h()(lt,a),onClick:t,"aria-label":n,children:[(0,E.jsx)(p.E,{dir:"auto",variant:"bodySmallBold",children:e.averageRating?.showAverage?i:l.Ru.get("web-player.audiobooks.noRating")}),s?(0,E.jsx)(nt.j,{size:"small",className:h()(ct)}):(0,E.jsx)(ot.a,{size:"small",className:h()(ct)}),e.averageRating?.showAverage&&(0,E.jsx)(p.E,{variant:"bodySmall",className:h()(dt),children:`(${r})`})]})};var mt=t(26334),ht=t(49060),gt=t(53565),pt=t(95488);const xt={shuffle:!1,repeat:gt.p.REPEAT_NONE},yt=s.memo(function({metadata:e}){const{uri:a,coverArt:t,name:n,htmlDescriptionPlain:o,authorName:d,authors:u,sample:m,narrators:P,rating:w,isExplicit:R,duration:S,copyrights:I,publishDate:N,price:D,isLocked:F,hasUnlimitedAccess:B,isSaved:U,isConsumptionCapped:M,signifierText:L,resumeEpisodeLink:_,topics:O,isPreRelease:z,preReleaseEndDateTime:K}=e,{search:V}=(0,i.zy)(),W=!!new URLSearchParams(V).get("isUnlockingAudiobook"),q=!(!(0,mt.Z)(W)||W),Z=(0,Ge.V)(),$=(0,st.H)(t[0]?.url),X=(0,g.wA)(),[G,Q]=(0,s.useState)(!1),{inAppPurchasesPolicy:Y,isWeb:J}=(0,ea.V)(),ee=(0,x.NC)(it.NzS,{loadingValue:!1}),{spec:ae,logger:te}=(0,oa.r)(y.U,{data:{uri:a,identifier:r.$.PODCAST_SHOW_AUDIOBOOK}}),{spec:se,logger:ie}=(0,oa.r)(y.U,{data:{uri:a,identifier:r.$.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),{spec:re,logger:ne}=(0,oa.r)(j.Y,{data:{uri:a}}),oe=(0,s.useMemo)(()=>ae.actionBarFactory(),[ae]),de=(0,s.useMemo)(()=>se.aboutSectionFactory(),[se]),ue=(0,s.useMemo)(()=>ae.chapterListFactory(),[ae]);(0,s.useEffect)(()=>{F&&ne.logImpression(re.impression())},[re,ne,F]);const{isPlaying:he,togglePlay:ge,usePlayContextItem:pe,isActive:xe,triggerPlay:ye}=(0,ht.P)({uri:a},{featureIdentifier:"audiobook"},xt),{togglePlay:je,isPlaying:be,isActive:ve}=(0,ht.P)({uri:m?.uri??"",pages:[{items:[{uri:m?.uri??"",uid:m?.uri??"",type:A.c.CHAPTER,provider:null,metadata:z?{is_pre_release:"true",type:"trailer"}:void 0}]}]},{featureIdentifier:"audiobook"},xt),Ce=he&&!be,fe=xe&&!ve,Te=(0,s.useCallback)(async()=>{const e=ae.actionBarFactory().playButtonFactory();if(M)return te.logInteraction(e.hitShowPaywall({paywalledItem:a})),void X((0,b._3)());if(F&&"notAllowed"===Y)Q(!0);else if(!F||Z)if(Z)ge();else{const t=(0,Fa.$I)({isPlaying:Ce,isActive:fe,spec:e,logger:te,uri:a});fe?ge({loggingParams:t}):ye({skipTo:_?{uri:_}:void 0,loggingParams:t})}},[ae,M,Z,F,te,a,X,ge,Ce,fe,ye,_,Y]),Fe=(0,s.useCallback)(()=>{m?.uri&&je()},[je,m?.uri]),Be=(0,s.useCallback)(()=>{const t=de.ratingButtonFactory().hitUiReveal();ie.logInteraction(t),X((0,b.eH)(a,e))},[de,X,e,ie,a]),Ue=(0,Ra.y)(),Le=F&&!M&&D&&"notAllowed"!==Y;return(0,E.jsxs)("section",{className:ke,children:[(0,E.jsxs)(ze,{isPreRelease:z,children:[(0,E.jsx)(c.Q,{children:(0,pt.hV)({showOrAudiobookName:n,type:"Audiobook"})}),(0,E.jsx)(tt.c,{artistOrShow:d,title:n,uri:a,entityType:z?tt.p.AUDIOBOOK_PRERELEASE:tt.p.AUDIOBOOK}),(0,E.jsx)(Ia,{name:n,authorName:d,authors:u,uri:a,coverArt:t,backgroundColor:$,togglePlay:Te,isPlaying:Ce,isLocked:F,hasUnlimitedAccess:B,price:D,logger:te,spec:ae.actionBarFactory(),preReleaseEndDateTime:K,isConsumptionCapped:M}),(0,E.jsx)(ca,{name:n,backgroundColor:$,uri:a,togglePlay:Te,isPlaying:Ce,isLocked:F,hasUnlimitedAccess:B,isSaved:U,isExplicit:R,duration:S,publishDate:N,preReleaseEndDateTime:K,price:D,spec:oe,isConsumptionCapped:M}),(0,E.jsxs)("div",{className:h()(Pe,"contentSpacing",{[we]:Ue===wa.E.LARGE}),children:[(0,E.jsxs)("div",{className:Re,children:[(L||Le)&&(0,E.jsxs)("div",{className:De,children:[L&&(0,E.jsx)(p.E,{variant:"bodyMedium",as:"p",semanticColor:"textBrightAccent",children:L}),!L&&Le&&(0,E.jsx)(Aa,{price:D})]}),(0,E.jsx)(me,{htmlDescription:o,narrators:P,spec:de,isPreRelease:z??!1})]}),(0,E.jsxs)("div",{className:Se,children:[m?.isPlayable&&(0,E.jsx)(ce,{label:l.Ru.get("audiobook.page.sample"),images:m.coverArt,title:m.name,duration:m.duration.milliseconds,moreButton:F?null:(0,E.jsx)(C.b,{menu:(0,E.jsx)(f.r,{uri:m.uri}),children:(0,E.jsx)(v.e,{})}),onClick:Fe,isPlaying:be,isActive:ve,size:le.LARGE,contentRating:m.contentRating?.label,isPlayable:m.isPlayable}),(0,E.jsxs)("div",{className:Ae,children:[!z&&(0,E.jsx)("div",{className:Ie,children:(0,E.jsx)(ut,{rating:w,onClick:Be})}),O.length>0&&(0,E.jsx)(H,{topics:O,className:Ne})]})]}),(0,E.jsxs)("div",{className:Ee,children:[!z&&(0,E.jsx)(at,{bookUri:a,bookName:n,sampleUri:m?.uri,isFinishedUnlockingJourney:q,usePlayContextItem:pe,spec:ue,isConsumptionCapped:M},`${a}-${F}`),ee&&(0,E.jsx)(rt.Z,{copyrights:I})]}),J&&(0,E.jsx)(T,{title:l.Ru.get("similar-audiobooks.more-audiobooks-like-this"),uri:a,className:Me})]})]}),G&&(0,E.jsx)(k.f,{onClose:()=>{Q(!1)},images:t})]})});var jt=t(28389),bt=t(19397),vt=t(89676);const Ct=({uri:e,name:a,isSaved:t,backgroundColor:i,spec:r})=>{const n=(0,ue.s)(),o=!(0,ia.n)(),[c,d]=(0,ra.A)(e,t),u=(0,ta.d$)(),{spec:m,logger:h}=(0,oa.r)(he.e,{data:{uri:e}});(0,s.useEffect)(()=>{u&&h.logImpression(m.impression())},[u,h,m]);const g=(0,s.useCallback)(()=>{const a=r.followButtonFactory();n.logInteraction(c?a.hitUnfollow({itemToBeUnfollowed:e}):a.hitFollow({itemToBeFollowed:e})),!c&&u&&h.logInteraction(m.hitFollow({itemToBeFollowed:e})),d(!c)},[e,c,r,n,d,u,h,m]),p=(0,s.useCallback)(()=>{n.logInteraction(r.contextButtonFactory().hitUiReveal())},[n,r]),x=(0,sa.j)();return(0,E.jsx)(ge.E,{backgroundColor:i,children:(0,E.jsxs)(pe.S,{children:[(0,E.jsx)(be.e,{children:(0,E.jsx)(vt.W,{isFollowing:c,onClick:g,disabled:o})},"follow-button"),(0,E.jsx)(C.b,{menu:(0,E.jsx)(bt.H,{uri:e}),onShow:p,children:(0,E.jsx)(v.e,{label:l.Ru.get("more.label.context",a),size:x})})]})})};var ft=t(87861),kt=t(74291),Pt=t(281),wt=t(93116),Rt=t(61855),St=t(35833),It=t(1068),Nt=t(59867);const At="FiOcTcpUtAOdjRjyDFNO",Et="qlYxkbyO4jX3Qc_n4DQ8",Dt="40px",Tt=({leavebehinds:e})=>{let a;return 1===e.length&&e[0]&&(a=(0,E.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser})),2===e.length&&e[0]&&e[1]&&(a=l.Ru.get("podcast-ads.recent_ads_just_two",(0,E.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,E.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),e.length>2&&e[0]&&e[1]&&(a=l.Ru.get("podcast-ads.recent_ads_more_than_two",(0,E.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,E.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),(0,E.jsxs)(p.E,{variant:"bodySmall",semanticColor:"textSubdued","data-testid":"show-leavebehinds-text",children:[l.Ru.get("podcast-ads.recent_ads_from"),a]})},Ft=({leavebehinds:e,uri:a,surface:t})=>{const i=(0,Nt.vh)();if((0,s.useEffect)(()=>{a&&e.length>0&&e[0]&&i.send((0,wt.x)({leavebehind_request_id:e[0].requestId,event:"event_viewed",event_reason:`viewed_on_${(0,Rt.Fh)(t).toLowerCase()}`,surface:(0,Rt.Fh)(t),uri:a}))},[i,e,a,t]),0===e.length||!e[0])return null;const r=(0,o.o_h)(a)?.id,n=1===e.length?e[0].clickthroughUrl:(0,St.q)(r),c=It.Qd,d=e.length>c,u=e.length-(c-1),m=e.slice(0,d?c-1:c);return(0,E.jsx)(B.N,{to:n,pathname:e.length>1?n:void 0,state:{uri:a},className:Et,onClick:()=>i.send((0,wt.x)({leavebehind_request_id:e[0]?.requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,Rt.Fh)(t),uri:a})),"data-testid":"show-leavebehinds-container",children:(0,E.jsx)(Ta.v,{layout:"wide",variant:"tinted",size:"xl",id:"show-leavebehinds",title:(0,E.jsxs)("div",{className:At,"data-testid":"show-leavebehinds-logos-container",children:[m.map(e=>(0,E.jsx)(kt.C,{"data-testid":"show-leavebehind-image",src:e.displayImage.src,alt:e.displayImage.alt,imageHeight:Dt,imageWidth:Dt},e.adId)),d?(0,E.jsx)(Bt,{"data-testid":"show-leavebehinds-more-count-indicator",variant:"tinted",minBlockSize:Dt,borderRadius:"4px",padding:"6px",children:(0,E.jsx)(p.E,{variant:"bodyMedium","data-testid":"show-leavebehinds-more-count-indicator-text",children:l.Ru.get("podcast-ads.show_more_indicator",u)})}):null]}),body:(0,E.jsx)(Tt,{leavebehinds:e})})})};var Bt=(0,ft.Ay)(Pt.a).withConfig({displayName:"LeavebehindsPreview___StyledBox",componentId:"sc-qakd80-0"})({backgroundColor:"#121212",width:"40px",display:"flex",alignItems:"center",justifyContent:"center"}),Ut=t(17532);const Mt=Rt.ui.SHOW_PAGE;function Lt({uri:e}){const{data:a,isError:t}=(0,Ut.A)({surface:Mt,uri:e});return t||!a||a.length<1?null:(0,E.jsx)(Ft,{leavebehinds:a,uri:e,surface:Mt})}var _t=t(10817),Ot=t(76919),Ht=t(10795),zt=t(27567),Kt=t(67837);const Vt=({className:e,title:a,uri:t})=>{const{data:s}=(0,Ht.v)({uri:t},{gcTime:9e5,staleTime:3e5}),i=s?.seoRecommendedPodcast.totalCount;if(0===i)return null;const r=s?.seoRecommendedPodcast.items,n=function(e){return(e||[]).filter(e=>(0,zt.K)(e.data))}(r),c=(0,o.o_h)(t)?.id;return(0,E.jsx)(S.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:i,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${c}:more-like-this`,children:n?.map(({data:e},a)=>(0,E.jsx)(Ot.o,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,Kt.w)(e.mediaType),index:a},e.uri))})},Wt=e=>{const a=(0,R.D)({entityType:A.c.SHOW,componentType:"shelf",uri:e.uri});return(0,E.jsx)(w.s,{onError:a,children:(0,E.jsx)(Vt,{...e})})};var qt=t(85121),Zt=t(27722),$t=t(18813),Xt=t(80408),Gt=t(85821);const Qt=(0,s.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),Yt=s.memo(function({uri:e,children:a}){return(0,E.jsx)(Gt.E,{uri:e,defaultState:[],sortContext:Qt,localStorageKey:"showFilterParams-v2",children:a})});var Jt=t(11369);const es={field:Jt.WY.PUBLISH_DATE,order:Jt.AX.DESC},as={field:Jt.WY.PUBLISH_DATE,order:Jt.AX.ASC},ts=as,ss={episodic:es,sequential:as,recent:es};function is(){return new Map([[es,{key:"newest-to-oldest",value:l.Ru.get("shows.sort.newest-to-oldest")}],[as,{key:"oldest-to-newest",value:l.Ru.get("shows.sort.oldest-to-newest")}]])}function rs(e){return ss[e]}const ns=(0,s.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:rs("recent")}),os=e=>{const a=is();return Array.from(a.keys()).some(({field:a})=>a===e?.field)},ls=s.memo(function({uri:e,children:a,defaultSortParam:t}){return(0,E.jsx)(Gt.E,{uri:e,defaultState:t,sortContext:ns,localStorageKey:"showSortParam",validator:os,children:a})});var cs=t(85763);const ds="MiEDV5uaXir2ZjtMvwhV",us="jVGc1jdT9lvmSqzbyVqw",ms="yqPzlpYfDFUZvt2QUTSG",hs="eFwFQjto0P3f7SQoCSFy",gs=s.memo(function({showMetadata:e,usePlayContextItem:a}){const{sortState:t}=(0,s.useContext)(ns),{sortState:i}=(0,s.useContext)(Qt),{filter:r}=(0,s.useContext)(u.g),n=(0,cs.s)(e.uri,t,i,r),{isWeb:o}=(0,ea.V)(),c=o?6:50,[d,m]=(0,s.useState)(c),h=(0,s.useCallback)(async(e,a)=>{const t=await n(e,a);return{items:t.items,totalLength:t.totalCount}},[n]),{getItems:g,nrValidItems:x}=(0,Ga.E)({fetch:h,nrItems:c,limit:50}),y=(0,s.useCallback)(()=>{m(e=>e+c)},[c]),j=o&&x>d;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)($t.R,{"aria-rowcount":x,"aria-colcount":6,firstInteractiveIsWrapper:!0,children:(0,E.jsx)(Xa._,{onReachBottom:o?void 0:y,children:g(0,d-1).map((t,s)=>t&&(0,E.jsx)(Xt.W,{"aria-posinset":s+1,children:(0,E.jsxs)("div",{className:us,children:[(0,E.jsx)("hr",{className:ds,"aria-hidden":!0}),(0,E.jsx)(Zt.q,{index:s,episode:t,showMetadata:e,usePlayContextItem:a},`${t.uri}/${s}`)]})},`${s}${t.uri}`))})}),j&&(0,E.jsx)("div",{className:ms,children:(0,E.jsxs)(F.v,{onClick:()=>{y()},className:hs,children:[(0,E.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("internal-link-recommender.load-more-episodes")}),(0,E.jsx)(Ea.V,{size:"xsmall"})]})})]})});var ps=t(74134),xs=t(52460);const ys={field:Jt.K$.ISPLAYED,operator:Jt.uj.EQUALS,value:!1},js={field:Jt.K$.STARTEDPLAYING,operator:Jt.uj.GREATER_THAN,value:0};const bs="all-episodes",vs=({onFilter:e})=>{const{sortState:a,setSortState:t}=(0,s.useContext)(Qt),i=new Map([[ys,{key:"is-played",value:l.Ru.get("shows.filter.unplayed")}],[js,{key:"started-playing",value:l.Ru.get("shows.filter.in-progress")}]]),r=Array.from(i.values());r.unshift({key:bs,value:l.Ru.get("mwp.podcast.all.episodes")});const n=Array.from(i.keys()),o=(0,s.useCallback)(a=>{if(a===bs)t([]);else{const e=n.find(e=>i.get(e)?.key===a);e&&t([e])}e()},[e,t,n,i]);if(!i.size||!n)return null;let c=r[0];const d=Array.from(i.entries()).filter(e=>a?.some(a=>a.field===e[0].field&&a.operator===e[0].operator));return d[0]&&(c=d[0][1]),(0,E.jsx)(xs.g,{options:r,onSelect:e=>o(e),selected:c,variant:"bodyMediumBold",semanticColor:"textBase",heading:l.Ru.get("drop_down.filter_by")})},Cs=({onSort:e})=>{const{sortState:a,setSortState:t}=(0,s.useContext)(ns),i=is(),r=Array.from(i.values()),n=Array.from(i.keys()),o=(0,s.useCallback)(a=>{const s=n.find(e=>i.get(e)?.key===a);s&&t(s),e()},[n,e,i,t]);if(!i.size||!a)return null;const c=Array.from(i.keys()).find(e=>e.field===a.field&&e.order===a.order);if(!c)return null;const d=i.get(c);return d?(0,E.jsx)(xs.g,{options:r,onSelect:e=>o(e),selected:d,heading:l.Ru.get("drop_down.sort_by")}):null},fs="anEhZWPQqjsf9Wznlum6",ks="UIUsfhHdH1WRhE6yLQ69",Ps="dUwS9egjXCSqwoMqwZsM",ws="pomaqbFY7MCH3QjB4Zpn",Rs="TZaNasvPiZKgzhS7Nkov",Ss="ApjxWj61DwDTejCH8jYh",Is="HemlojCBuPVhV0XUluV4",Ns="iwx05hRNx_pocMkt43TA",As="awAF_MKZ9Q9ZbYobLWH_",Es="yiAx3mhbHNKdkc8kKXyS",Ds="yCrlDAORbd3PFe7wNP2Z",Ts="GDv85d4_w2M4oVqHvpEO",Fs="oDKTMKjXzzQUXNxAw78N",Bs="zjxDjsB0u1MFFFZn75gA",Us="HczymgF6UZD2F_iCkFih",Ms="EsUfOu5wIyz1ajfA70Ih",Ls="Ikei_dybZgUtnuvxyJXA",_s="FgHzPHSAkZtD9h3yFF8K",Os=({spec:e})=>{const a=(0,ue.s)(),{canSort:t,canFilter:i}=(0,Qa.T)().capabilities,r=(0,x.NC)(it.NBO,{loadingValue:!1}),n=(0,s.useCallback)(()=>{a.logInteraction(e.episodeListFactory().filterButtonFactory().hitFilter())},[a,e]),o=(0,s.useCallback)(()=>{a.logInteraction(e.episodeListFactory().sortButtonFactory().hitSort())},[a,e]),c=i&&r;return(0,E.jsxs)("div",{className:As,children:[i&&(0,E.jsx)("div",{className:Ds,children:(0,E.jsx)(vs,{onFilter:n})}),!i&&(0,E.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Ts,children:l.Ru.get("mwp.podcast.all.episodes")}),(t||c)&&(0,E.jsxs)("div",{className:Es,children:[c&&(0,E.jsx)(ps.S,{placeholder:l.Ru.get("web-player.show.filterbox.placeholder")}),t&&(0,E.jsx)(Cs,{onSort:o})]})]})};var Hs=t(36664),zs=t(5256),Ks=t(77639),Vs=t(37883),Ws=t(55247);const qs=({breakpoint:e,metadata:a,spec:t})=>{const{uri:i,trailer:r,topics:o,description:c,htmlDescription:d,rating:u}=a,m=(0,Hs.N)(i),x=(0,ue.s)(),{spec:y,logger:j}=(0,oa.r)(n.R,{data:{uri:i}}),f=(0,s.useMemo)(()=>y.aboutSectionFactory(),[y]),k=(0,s.useMemo)(()=>t.episodeListFactory(),[t]),P=(0,g.wA)(),w=(0,Ge.V)(),{sortState:R}=(0,s.useContext)(Qt),S=(0,Qa.T)(),{isWeb:I}=(0,ea.V)(),{usePlayContextItem:N}=(0,ht.P)({uri:i,metadata:{[Vs.W.SORTING_CRITERIA]:S.getPlayerSort(ts),[Vs.W.FILTERING_PREDICATE]:S.getPlayerFilter(R)}},{featureIdentifier:"show"}),{isActive:A,isPlaying:D,togglePlay:T}=N({uri:r?.uri||""}),F=(0,s.useCallback)(e=>{const a=t.aboutSectionFactory().seeMoreButtonFactory(),s=e?a.hitUiReveal():a.hitUiHide();x.logInteraction(s)},[x,t]),B=(0,s.useCallback)((e,a)=>{const s=t.aboutSectionFactory().topicFactory(a).hitUiNavigate({destination:a.uri});x.logInteraction(s)},[x,t]),U=r?{name:r.name,uri:r.uri,audio:{items:r.audio.items.map(e=>({url:e.url}))}}:null,M=(0,Zt.B)(a),L=(0,zs.C)(U,M),_=(0,s.useCallback)(()=>{r?.uri&&(w?L():T())},[L,w,T,r?.uri]),{ref:O,breakpoint:z}=(0,Ks.x)({[wa.E.MEDIUM]:0,[wa.E.LARGE]:600}),K=o.length>0,V=c||d,W=V||K;return(0,E.jsxs)("div",{className:h()(ks,"contentSpacing",{[ws]:e===wa.E.LARGE}),ref:O,children:[(0,E.jsx)(qt.q,{className:Ps,gatedEntityCoverArt:a.gatedEntityCoverArt,gatedEntityRelations:a.gatedEntityRelations,upsellExplanation:a.upsellExplanation,hasAccess:a.hasGatedEntityRelationAccess,showCoverArt:!0}),(0,E.jsxs)("div",{className:Rs,children:[W&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Ts,children:l.Ru.get("artist.about")}),V&&(0,E.jsx)(de.N,{maxLines:4,content:(c||"").trim(),onExpanded:F,htmlContent:d||void 0}),r&&(0,E.jsx)(da.h,{menu:(0,E.jsx)(_t.b,{uri:r.uri,showUri:i,sharingInfo:r.sharingInfo}),children:(0,E.jsx)(ce,{label:l.Ru.get("track-trailer"),className:Fs,images:r.coverArt,title:r.name,duration:r.duration.milliseconds,moreButton:(0,E.jsx)(C.b,{menu:(0,E.jsx)(_t.b,{uri:r.uri,sharingInfo:r.sharingInfo,showUri:i}),children:(0,E.jsx)(v.e,{})}),onClick:_,isPlaying:D,isActive:A,size:le.LARGE,contentRating:r.contentRating?.label})}),(0,E.jsxs)("div",{className:Us,children:[u&&!m&&(0,E.jsx)("div",{className:Ms,children:(0,E.jsx)(ut,{rating:u,onClick:()=>{const e=f.ratingButtonFactory().hitUiReveal();j.logInteraction(e),P((0,b.eH)(i,a))}})}),K&&(0,E.jsx)(H,{topics:o,className:Ls,onClick:B})]})]}),(0,E.jsx)(Lt,{uri:i})]}),(0,E.jsx)(Ra.o.Provider,{value:z,children:(0,E.jsxs)("div",{className:h()(Is,{[Ns]:I}),"data-testid":"show-all-episode-list",children:[(0,E.jsx)(Os,{spec:t}),(0,E.jsx)(Ws.r,{spec:k,children:(0,E.jsx)(gs,{showMetadata:a,usePlayContextItem:N})})]})}),(0,E.jsx)(rt.Z,{copyrights:[]}),(0,E.jsx)("div",{className:Ss,children:I&&(0,E.jsx)(Wt,{title:l.Ru.get("internal-link-recommender.more-podcasts-like-this"),uri:i,className:_s})})]})},Zs=s.memo(qs);var $s=t(46920),Xs=t(83130);const Gs=({reason:e})=>{const a=function(e){switch(e){case"OTP":return l.Ru.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return l.Ru.get("podcasts.subscriber-indicator.subscription");default:return""}}(e);return a?(0,E.jsx)(p.E,{variant:"bodySmall",semanticColor:"textBase",className:Bs,children:a}):null};const Qs=({metadata:e,backgroundColor:a})=>{const{uri:t,coverArt:s,name:i,podcastType:r,publisherName:n,gatedContentAccessReason:o}=e,c=(0,E.jsx)(bt.H,{uri:t});return(0,E.jsxs)(ha.z,{backgroundColor:a,children:[(0,E.jsx)(xa.h,{children:(0,E.jsx)(da.h,{menu:c,children:(0,E.jsx)(ya.X,{text:i,dragUri:t,dragLabel:i})})}),(0,E.jsx)($s.X,{children:(0,E.jsx)(da.h,{menu:c,children:(0,E.jsx)(Xs.b,{loading:"eager",name:i,images:s,placeholderType:"show",shape:Xs.u.SQUARE})})}),(0,E.jsxs)(pa.Y,{children:[(0,E.jsxs)(ba.B,{children:["SHOW"===r?l.Ru.get("type.show"):l.Ru.get("type.podcast"),o&&(0,E.jsx)(Gs,{reason:o})]}),(0,E.jsx)(da.h,{menu:c,children:(0,E.jsx)(Ca.mm,{dragUri:t,dragLabel:i,scaleAtMinWidth:Ca.tw,children:(0,E.jsx)("span",{"data-testid":"show-title",children:i})})}),(0,E.jsx)(va.g,{children:n})]})]})};var Ys=t(7577),Js=t(69043),ei=t(34649);const ai=({metadata:e,showId:a})=>{const{coverArt:t,name:i,uri:r,isSaved:o}=e,{spec:l}=(0,oa.r)(n.R,{data:{uri:r}}),d=(0,s.useMemo)(()=>l.actionBarFactory(),[l]),u=(0,st.H)(t[0]?.url||null),m=(0,Ra.y)();return(0,E.jsxs)("section",{className:fs,children:[(0,E.jsx)(c.Q,{children:(0,pt.hV)({showOrAudiobookName:i,type:"Podcast"})}),(0,E.jsx)(tt.c,{artistOrShow:i,uri:r,entityType:tt.p.PODCAST}),(0,E.jsx)(Qs,{metadata:e,backgroundColor:u}),(0,E.jsx)(Ct,{uri:r,name:i,isSaved:o,backgroundColor:u,spec:d}),(0,E.jsx)(Zs,{breakpoint:m,metadata:e,showId:a,spec:l})]})},ti=(0,s.memo)(function({uri:e,showId:a}){const{data:t,error:i,redirectUri:n}=(0,Ve.W)(e);if(n){const e=(0,o.Lce)(n);return(0,E.jsx)(jt.$,{to:e.toURLPath(!0)})}const c=t&&(0,Ya.Go)(t);if(!t||i){if(i instanceof Js.W)return(0,E.jsx)(d.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error-page.not-available-in-region.title")});const e=Boolean(i);return(0,E.jsx)(d.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return c?(0,E.jsx)(s.Suspense,{fallback:null,children:(0,E.jsx)(ei.eZ,{pageId:r.$.PODCAST_SHOW_AUDIOBOOK,entityUri:e,children:(0,E.jsx)(Ys.d,{dynamicColors:t.dynamicColors,children:(0,E.jsx)(yt,{metadata:t},`${!!t.isConsumptionCapped}`)})})}):(0,E.jsx)(s.Suspense,{fallback:null,children:(0,E.jsx)(ei.eZ,{pageId:r.$.PODCAST,entityUri:e,children:(0,E.jsx)(Yt,{uri:t.uri,children:(0,E.jsx)(ls,{uri:t.uri,defaultSortParam:rs(t.consumptionOrder),children:(0,E.jsx)(Ys.d,{dynamicColors:t.dynamicColors,children:(0,E.jsx)(ai,{showId:a,metadata:t})})})})})})}),si=(0,s.memo)(function(){const{showId:e=""}=(0,i.g)(),a=`spotify:show:${e}`;return(0,E.jsx)(u.s,{uri:a,children:(0,E.jsx)(ti,{uri:a,showId:e})})})},34920:(e,a,t)=>{t.d(a,{a:()=>s});const s=e=>(e||[]).filter(e=>(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Audiobook"===e.__typename;var a})(e.data))},38324:(e,a,t)=>{t.d(a,{H:()=>s.H6});var s=t(52066)},44364:(e,a,t)=>{t.d(a,{Z:()=>n});var s=t(31656);const i="kphFOs0nW4yaFE_2DJr2";var r=t(86070);const n=({copyrights:e,courtesyLine:a})=>{const t=(e||[]).map((e,a)=>{if(e.untyped)return(0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},a);const t=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${t}`},a)});return a&&t.unshift((0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:a},t.length)),(0,r.jsx)("div",{className:i,children:t})}},52066:(e,a,t)=>{t.d(a,{$A:()=>n,H6:()=>o,Lt:()=>r});var s=t(30758);const i=(0,s.createContext)(null),r=i.Provider;function n(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}function o(){const e=(0,s.useContext)(i);return e?e.onSearchResultInteraction:()=>{}}},54218:(e,a,t)=>{t.d(a,{W:()=>i});var s=t(30758);const i=()=>{const[e,a]=(0,s.useState)(!1);return{isOpen:e,openModal:(0,s.useCallback)(()=>a(!0),[]),closeModal:(0,s.useCallback)(()=>a(!1),[])}}},69415:(e,a,t)=>{t.d(a,{K:()=>v});var s=t(30758),i=t(35394),r=t(91198),n=t(54091),o=t(37528),l=t(18930),c=t(70613),d=t(35274),u=t(76392);const m="cnJjN7KVChV1_XwO8itM",h="Lmaznaa0NlKKqhv_9Bem",g="PzkeRprwMqPpgrCKNMk8",p="KgCPtwPdeUI8LlYEwYLi",x="SGwNGaW1GRh54x5DKkWr",y="nIdwo35wK0IkSyCmjlkb",j="KwNL3OBuT3MK3lYgIp5P";var b=t(86070);const v=s.memo(function(e){const{images:a,title:t,isOpen:v,onClose:C}=e,f=(0,r.NC)(c.c22),k=(0,s.useMemo)(()=>(0,u.g)(a,{desiredSize:1e4}),[a]);return k?(0,b.jsx)(o.A,{className:m,overlayClassName:f?j:"",isOpen:v,onRequestClose:C,animation:{modal:{base:p,afterOpen:x,beforeClose:y}},animated:!0,children:(0,b.jsxs)("div",{style:{"--image-width":`${k.width}px`,"--image-height":`${k.height}px`},className:h,children:[f?(0,b.jsx)(l.F,{src:k.url,alt:t,className:g,width:`min(${k.width}px, 100%)`,height:`min(${k.height}px, 100%)`,borderRadius:0,glare:!0}):(0,b.jsx)(d._,{loading:"eager",alt:t,src:k.url,className:g}),(0,b.jsx)(i.H,{onClick:C,semanticColor:"textBase",children:n.Ru.get("web-player.cover-art-modal.close")})]})}):null})},71252:(e,a,t)=>{function s(e){const a=new Date;return(e instanceof Date?e:new Date(e)).getTime()-a.getTime()}t.d(a,{u:()=>s})},76919:(e,a,t)=>{t.d(a,{o:()=>h});var s=t(54091),i=t(52782),r=t(63087),n=t(32354),o=t(91899),l=t(88462),c=t(82898),d=t(19397),u=t(6917),m=t(86070);const h=({images:e,name:a,uri:t,publisher:h,sharingInfo:g,mediaType:p,isHero:x=!1,onClick:y,onPlay:j,testId:b,index:v,requestId:C,color:f,variant:k,logCardImpressions:P=!1,role:w})=>{let R;const S=p===u.Q.MIXED?s.Ru.get("type.show"):s.Ru.get("card.tag.show");return R=x?(0,m.jsx)(o.A,{index:v,onClick:y,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:t,isPlayable:!1,onPlay:j,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:!0,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsxs)(n.c,{isHero:!0,children:[(0,m.jsx)(l.t,{children:S}),h&&(0,m.jsx)("span",{children:h})]}),testId:b,requestId:C,logCardImpressions:P}):(0,m.jsx)(i.Z,{variant:k,onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:t,role:w,index:v,onPlay:j,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:x,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsx)(n.c,{children:h&&(0,m.jsx)("span",{children:h})}),testId:b,requestId:C,logCardImpressions:P}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:t,sharingInfo:g}),children:R})}},80330:(e,a,t)=>{t.d(a,{O:()=>d});var s=t(30758),i=t(54091),r=t(76826),n=t(20133);const o="R0KNfVuPmSYXtczbiQf3";var l=t(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:t=c})=>(0,n.H)()&&a?.length?a.map(({uri:e,name:a},n)=>(0,l.jsxs)(s.Fragment,{children:[n?i.Ru.getSeparator():null,e?(0,l.jsx)(r.N,{to:e,className:o,children:t(a)},n):t(a)]},n)):t(e)},85763:(e,a,t)=>{t.d(a,{s:()=>o});var s=t(11369),i=t(99022),r=t(88308);const n=(e,a)=>a?[...e,{field:s.K$.TEXT,operator:s.uj.CONTAINS,value:a}]:e;function o(e,a,t,s){const o=(0,i.T)(),{canSort:l}=o.capabilities,c=(0,r.U0)(async(i,r)=>o.getContents(e,{offset:i,limit:r,sort:a,filters:n(t,s)}),[o,e,a,t,s]),d=(0,r.U0)(async(a,t)=>o.getContents(e,{offset:a,limit:t}),[o,e]);return l?c:d}},92560:(e,a,t)=>{t.d(a,{v:()=>m});var s=t(73136),i=t(62960),r=t(10700),n=t(39125),o=t(54091),l=t(17066),c=t(75333),d=t(80095),u=t(86070);const m=({uri:e,isBook:a=!1})=>{const{isPreSaved:t,addPresave:m,removePresave:h}=(0,c.w)({uri:e,isBook:a});return t?(0,u.jsx)(i.n,{onClick:h,iconTrailing:r.k,children:o.Ru.get("web-player.prerelease.presaved")}):(0,u.jsx)(l.h,{uri:e,action:d.no.SAVE_PRERELEASE,children:(0,u.jsx)(s.$,{disabled:void 0===t,onClick:m,iconTrailing:n.P,children:o.Ru.get("web-player.prerelease.presave")})})}},96108:(e,a,t)=>{t.d(a,{G:()=>w});var s=t(97500),i=t.n(s),r=t(54091),n=t(78717);const o="B2dPgt0TngdxmxrefpP4",l="Ci3mK_vmYvLUToAhhjjM",c="yQIfGB_hmhvxh3VWmUYf",d="VWbX2LSypiiuEmixzAuN",u="jDW9iyim5R4MbX_BxIG4",m="r4WxI24APam1LPrrGwgU";var h=t(86070);const g=({value:e,label:a,hasDivider:t=!1})=>(0,h.jsxs)("div",{className:c,"aria-hidden":"true",children:[(0,h.jsx)(n.E,{variant:"titleSmall",className:i()({[u]:t}),children:e}),(0,h.jsx)(n.E,{variant:"marginal",semanticColor:"textSubdued",children:a})]});var p=t(30758);const x=6e4,y=36e5,j=864e5;var b=t(71252),v=t(6510);const C={days:0,hours:0,minutes:0,seconds:0};function f(e){return e>0?function(e){const a=Math.abs(e);return{days:Math.floor(a/j),hours:Math.floor(a%j/y),minutes:Math.floor(a%y/x),seconds:Math.floor(a%x/1e3)}}(e):C}var k=t(34503),P=t(89307);const w=({targetDate:e,className:a,onComplete:t,images:s,imageTitle:n})=>{const{days:c,hours:u,minutes:x,seconds:y}=((e,a)=>{const t=(0,p.useRef)(a);t.current=a;const[s,i]=(0,p.useState)(()=>f((0,b.u)(e)));return(0,v.$)(a=>{const s=(0,b.u)(e),r=f(s);i(r),s<=0&&(a(),t.current?.())},1e3),s})(e,t),j=void 0!==s&&s.length>0&&n,C=r.Ru.get("web-player.prerelease.countdown_label",{days:c,hours:u,minutes:x,seconds:y});return(0,h.jsxs)("div",{className:i()(o,a,{[l]:j}),role:"timer","data-testid":"countdown",children:[(0,h.jsx)("span",{className:m,children:C}),j&&(0,h.jsx)(k.b,{images:s,type:P.c.ALBUM,shape:k.u.ROUNDED_CORNERS,className:d,title:n}),(0,h.jsx)(g,{value:c,label:r.Ru.get("web-player.prerelease.days",c),hasDivider:!0}),(0,h.jsx)(g,{value:u,label:r.Ru.get("web-player.prerelease.hours",u),hasDivider:!0}),(0,h.jsx)(g,{value:x,label:r.Ru.get("web-player.prerelease.minutes",x),hasDivider:!0}),(0,h.jsx)(g,{value:y,label:r.Ru.get("web-player.prerelease.seconds",y)})]})}},97858:(e,a,t)=>{t.d(a,{M:()=>A});var s=t(30758),i=t(97500),r=t.n(i),n=t(62411),o=t(78717),l=t(461),c=t(79444),d=t(91198),u=t(54091),m=t(19717),h=t(52782),g=t(63087),p=t(32354),x=t(91899),y=t(88462),j=t(82898),b=t(21943),v=t(62507),C=t(80330),f=t(68514),k=t(70613),P=t(44265);const w="WZ5pjFIq7LXFc00mMXze",R="rKYvPrubyOX1qAHaZPA_";var S=t(86070);const I=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,S.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,S.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,P.ad)(a.toISOString()),(0,P.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,N=({signifierText:e})=>e?(0,S.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,A=({name:e,uri:a,images:t,authorName:i,authors:P,isHero:A,className:E,onClick:D,onPlay:T,testId:F,index:B,requestId:U,isLocked:M=!1,isPlayable:L=!1,color:_,signifierText:O,isPreRelease:H=!1,publishDate:z,variant:K,consumptionCapExplanation:V,logCardImpressions:W=!1,role:q})=>{const{playUri:Z,playOptions:$}=(0,f.J)(a),X=(0,n.wA)(),G=(0,d.NC)(k.HJU),Q=!!V,Y=(0,S.jsx)(C.O,{authorName:i,authors:P}),J=(0,s.useCallback)(()=>{T?.(),Q&&X((0,m._3)())},[X,Q,T]);let ee;return ee=A?(0,S.jsx)(x.A,{className:E,index:B,onClick:D,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:$,onPlay:Q?J:T,delegatePlayback:Q,isPlayable:(L||Q)&&G,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,S.jsx)(g.M,{isHero:!0,images:t,color:_,FallbackComponent:e=>(0,S.jsx)(l.l,{size:"xxxlarge",...e})}),renderSubHeaderContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.t,{children:u.Ru.get("card.tag.audiobook")}),(0,S.jsx)(o.E,{variant:"bodySmall",children:Y})]}),getSignifierContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I,{isPreRelease:H,publishDate:z}),(0,S.jsx)(N,{signifierText:O})]}),testId:F,requestId:U,logCardImpressions:W}):(0,S.jsx)(h.Z,{className:E,variant:K,index:B,onClick:D,headerText:e,featureIdentifier:"audiobook",uri:a,role:q,playUri:Z,onPlay:Q?J:T,delegatePlayback:Q,playOptions:$,isPlayable:(L||Q)&&G,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,S.jsx)(g.M,{images:t,color:_,FallbackComponent:e=>(0,S.jsx)(l.l,{size:"xxxlarge",...e})}),renderSubHeaderContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(p.c,{lineClamp:O?1:2,children:[M&&(0,S.jsx)(c.y,{size:"small",className:w}),(0,S.jsx)(I,{isPreRelease:H,publishDate:z}),(0,S.jsx)(o.E,{as:"span",variant:"bodySmall",className:r()({[R]:H&&i}),children:Y})]}),(0,S.jsx)(N,{signifierText:O})]}),testId:F,requestId:U,logCardImpressions:W}),(0,S.jsx)(j.h,{menu:(0,S.jsx)(b.p,{uri:a}),children:ee})}}}]);
//# sourceMappingURL=xpui-routes-show.js.map