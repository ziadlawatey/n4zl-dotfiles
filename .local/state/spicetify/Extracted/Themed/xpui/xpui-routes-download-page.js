"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3779],{2996:(t,o,n)=>{n.r(o),n.d(o,{default:()=>I});var a=n(30758),e=n(97500),i=n.n(e),r=n(62411),s=n(58075),c=n(78717);const l="music",p="1.2.0",d="default",u="16.0.1";function h(t){return new g(t)}class g{constructor(t){this._path=[{name:"web-player-download-page"}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}downloadButtonFactory(){return new g.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}directDownloadButtonMacLinuxFactory(){return new g.DirectDownloadButtonMacLinuxEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}directDownloadButtonWindowsFactory(){return new g.DirectDownloadButtonWindowsEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}windowsStoreButtonFactory(){return new g.WindowsStoreButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}retryDownloadNotificationFactory(){return new g.RetryDownloadNotificationEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.DownloadButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:o,data:n}){this._path=t.concat({name:"download_button"}),o&&(this._parentAbsoluteLocation=o)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitNavigateToExternalUri({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"navigate_to_external_uri",actionVersion:1,app:l,generatorVersion:u,interactionType:"hit",specificationMode:d,specificationVersion:p,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(g||(g={})),function(t){t.DirectDownloadButtonMacLinuxEventFactory=class{constructor({path:t,parentAbsoluteLocation:o,data:n}){this._path=t.concat({name:"direct_download_button_mac_linux"}),o&&(this._parentAbsoluteLocation=o)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitDownloadFile(){return{actionName:"download_file",actionVersion:1,app:l,generatorVersion:u,interactionType:"hit",specificationMode:d,specificationVersion:p,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(g||(g={})),function(t){t.DirectDownloadButtonWindowsEventFactory=class{constructor({path:t,parentAbsoluteLocation:o,data:n}){this._path=t.concat({name:"direct_download_button_windows"}),o&&(this._parentAbsoluteLocation=o)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitDownloadFile(){return{actionName:"download_file",actionVersion:1,app:l,generatorVersion:u,interactionType:"hit",specificationMode:d,specificationVersion:p,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(g||(g={})),function(t){t.WindowsStoreButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:o,data:n}){this._path=t.concat({name:"windows_store_button"}),o&&(this._parentAbsoluteLocation=o)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitNavigateToExternalUri({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"navigate_to_external_uri",actionVersion:1,app:l,generatorVersion:u,interactionType:"hit",specificationMode:d,specificationVersion:p,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(g||(g={})),function(t){t.RetryDownloadNotificationEventFactory=class{constructor({path:t,parentAbsoluteLocation:o,data:n}){this._path=t.concat({name:"retry_download_notification"}),o&&(this._parentAbsoluteLocation=o)}downloadButtonFactory(){return new t.RetryDownloadNotificationEventFactory.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}closeButtonFactory(){return new t.RetryDownloadNotificationEventFactory.CloseButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(g||(g={})),function(t){!function(t){t.DownloadButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:o,data:n}){this._path=t.concat({name:"download_button"}),o&&(this._parentAbsoluteLocation=o)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitDownloadFile(){return{actionName:"download_file",actionVersion:1,app:l,generatorVersion:u,interactionType:"hit",specificationMode:d,specificationVersion:p,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.RetryDownloadNotificationEventFactory||(t.RetryDownloadNotificationEventFactory={}))}(g||(g={})),function(t){!function(t){t.CloseButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:o,data:n}){this._path=t.concat({name:"close_button"}),o&&(this._parentAbsoluteLocation=o)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[d,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[p,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:l,generatorVersion:u,interactionType:"hit",specificationMode:d,specificationVersion:p,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.RetryDownloadNotificationEventFactory||(t.RetryDownloadNotificationEventFactory={}))}(g||(g={}));var _=n(64932),w=n(54091),m=n(29947),b=n(86070),y=n(60749),A=n(85048),L=n(91645),f=n(87325);const x=()=>{const{spec:t,logger:o}=(0,L.r)(h,{}),n=(0,a.useCallback)(n=>{o.logInteraction(t.downloadButtonFactory().hitNavigateToExternalUri({destination:n}))},[o,t]);return(0,b.jsxs)("div",{className:f.A.otherOperatingSystemsSection,children:[(0,b.jsx)(c.E,{variant:"titleSmall",semanticColor:"textBase",children:w.Ru.get("web-player.download-page.unsupported-platforms-title")}),(0,b.jsx)("ul",{children:A.Bu.map(t=>(0,b.jsx)("li",{className:f.A.downloadItem,children:(0,b.jsxs)(c.E,{variant:"bodySmall",semanticColor:"textBase",children:[t.platform," (",t.versions.map((t,o)=>(0,b.jsxs)(b.Fragment,{children:[o>0&&" | ",(0,b.jsx)(y.N_,{to:t.link,onClick:()=>n(t.link),children:t.text},t.text)]},t.text)),") "]})},t.platform))}),(0,b.jsx)(c.E,{variant:"titleSmall",semanticColor:"textBase",children:w.Ru.get("web-player.download-page.other-platforms-title")}),(0,b.jsx)("ul",{children:A.lT.map(t=>(0,b.jsx)("li",{className:f.A.downloadItem,children:(0,b.jsx)(c.E,{variant:"bodySmall",className:f.A.otherPlatformItemText,semanticColor:"textBase",children:(0,b.jsx)(y.N_,{to:t.link,onClick:()=>n(t.link),children:t.platform})})},t.platform))})]})};var v=n(2599),C=n(73136),N=n(281),F=n(69365),V=n(35394),j=n(30920),D=n(84910),B=n(60257);const E=({onDismiss:t,spec:o})=>{const{downloadUrl:n}=(0,D.z)(),a=(0,B.s)();return(0,b.jsxs)(N.a,{variant:"contrasting",colorSet:"announcement",className:f.A.downloadNotification,"aria-live":"polite",children:[(0,b.jsx)(F.p,{}),(0,b.jsx)(c.E,{variant:"bodySmall",children:w.Ru.get("web-player.download-page.notification-text",(0,b.jsx)("a",{href:n,target:"_blank",download:!0,onClick:()=>{a.logInteraction(o.downloadButtonFactory().hitDownloadFile())},children:w.Ru.get("web-player.download-page.notification-retry")}))}),(0,b.jsx)(V.H,{iconOnly:j.M,onClick:()=>{a.logInteraction(o.closeButtonFactory().hitUiHide()),t()},"aria-label":w.Ru.get("web-player.download-page.notification-hide"),condensedAll:!0})]})};var S=n(49348);const M=({containerRef:t})=>{const[o,n]=(0,a.useState)(!1),{downloadUrl:e}=(0,D.z)(),[i,r]=(0,a.useState)("large");(0,S.w)({refOrElement:t,observeOnly:"width",onResize:({width:t})=>{r(t<900?"medium":"large")}});const{spec:s,logger:c}=(0,L.r)(h,{}),l=(0,a.useMemo)(()=>s.retryDownloadNotificationFactory(),[s]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.$,{onClick:()=>{c.logInteraction(s.directDownloadButtonMacLinuxFactory().hitDownloadFile()),n(!0)},href:e,target:"_blank",download:!0,colorSet:"inverted",size:i,children:w.Ru.get("web-player.download-page.download-button")}),o&&(0,b.jsx)(E,{onDismiss:()=>n(!1),spec:l})]})};var R=n(55824),k=n(59867),T=n(51629),P=n(56317);const I=a.memo(function(){const t=(0,k.mv)(),o=(0,r.d4)(T.Um),n=a.useRef(null),{spec:e,logger:l}=(0,L.r)(h,{}),p=(0,a.useCallback)((t,o)=>{"direct-download"===t?l.logInteraction(e.directDownloadButtonWindowsFactory().hitDownloadFile()):"microsoft-store"===t&&l.logInteraction(e.windowsStoreButtonFactory().hitNavigateToExternalUri({destination:o}))},[l,e]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Q,{children:w.Ru.get("downloadPage.page-title")}),(0,b.jsx)("div",{className:i()(f.A.downloadPage,"encore-inverted-light-set",{[f.A.withAd]:o}),ref:n,children:(0,b.jsxs)("div",{className:f.A.downloadPageContent,children:[(0,b.jsxs)("div",{className:f.A.downloadPageActions,children:[(0,b.jsx)(s.G,{height:27}),(0,b.jsx)(c.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:w.Ru.get("web-player.download-page.title",(0,v.e)(t.operatingSystem))}),(0,b.jsx)(c.E,{as:"div",variant:"bodyMedium",semanticColor:"textBase",className:f.A.downloadPageBodyText,children:t.operatingSystem===P.f.Windows?w.Ru.get("web-player.download-page.body-text-windows"):w.Ru.get("web-player.download-page.body-text-other-supported-platforms")}),(0,b.jsx)("div",{className:f.A.downloadPageButtons,children:(()=>{switch(t.operatingSystem){case P.f.Windows:return(0,b.jsx)(R.x,{campaignId:A.T_,onClick:p});case P.f.macOS:case P.f.Linux:return(0,b.jsx)(M,{containerRef:n});default:return(0,b.jsx)(x,{})}})()})]}),(0,b.jsx)("div",{className:f.A.downloadPageImageContainer,children:(0,b.jsx)("img",{className:f.A.desktopPageImg,alt:"",src:(d=t.operatingSystem,d===P.f.macOS?(0,_.bj)("images/download-page-image-mac.png"):(0,_.bj)("images/download-page-image.png"))})})]})})]});var d})}}]);
//# sourceMappingURL=xpui-routes-download-page.js.map