"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2391],{5730:(e,t,s)=>{s.d(t,{P:()=>i});const i=()=>!1},12536:(e,t,s)=>{s.d(t,{c:()=>o});var i=s(97500),l=s.n(i),n=s(80041);const a="main-playlistEditDetailsModal-characterCounter";var r=s(86070);const o=({className:e,usedCharacters:t,maxCharacters:s,classNameUsedCharacters:i,isVisible:o=!0,iconLeading:c})=>(0,r.jsxs)(n.x,{usedCharacters:t,maxCharacters:s,className:l()(e,a,{"hidden-visually":!o}),children:[c&&c,(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:i,children:t}),"/",(0,r.jsx)("span",{children:s})]})]})},13343:(e,t,s)=>{s.d(t,{y:()=>i});const i="default"},14654:(e,t,s)=>{s.r(t),s.d(t,{default:()=>gn});var i=s(30758),l=s(91198),n=s(62960),a=s(3483),r=s(54091),o=s(9688),c=s(32284);var d=s(90019),u=s(78717),h=s(95264),g=s(66147),x=s(86070);function p({htmlString:e,children:t,htmlFor:s,semanticColor:l="textSubdued",variant:n="bodySmall",className:a,disabled:r,...o}){const{filter:c}=(0,i.useContext)(g.g);if(!t&&!e)return null;let d=t;return e&&(d=(0,x.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})),(0,x.jsx)(u.E,{as:"label",variant:n,semanticColor:l,htmlFor:s,className:a,style:r?{opacity:.8}:void 0,"data-testid":o["data-testid"],children:c.length>0?(0,x.jsx)(h.M,{searchWords:[c],textToHighlight:t||e||""}):d})}var m=s(97500),j=s.n(m),y=s(77733);const f=(e,t)=>"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==(0,y.u)(e,t):"boolean"!=typeof e||e,v=(0,i.createContext)(void 0),b=({children:e})=>{const[t,s]=(0,i.useState)(!1),[l,n]=(0,i.useState)(new Set),a=(0,i.useCallback)((e,t)=>{n(s=>{if(s.has(e)===t)return s;const i=new Set(s);return t?i.add(e):i.delete(e),i})},[]),r=l.size>0,o=(0,i.useMemo)(()=>({sectionMatch:t,setSectionMatch:s,sectionContainsMatch:r,setSectionFilterMatchQueryValue:a}),[r,t,a]);return(0,x.jsx)(v.Provider,{value:o,children:e})},w=()=>{const e=(0,i.useContext)(v);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e},k="x-settings-row",S=({children:e,filterMatchQuery:t,className:s})=>{const{filter:l}=(0,i.useContext)(g.g),{setSectionFilterMatchQueryValue:n,sectionMatch:a}=w(),r=f(l,t);return(0,i.useEffect)(()=>{n(t,r)},[r,t,n]),a||r?(0,x.jsx)("div",{className:j()(k,s),children:e}):null},R="x-settings-secondColumn",C=({children:e})=>(0,x.jsx)("div",{className:R,children:e});var M=s(80317);const E="_26jgYOYo0qmg1LA9kyyA";function N(){const e=(()=>{const e=(0,o.e)(),t=(0,c.$)("age-assurance-enabled-account-settings");return e&&"1"===t})(),t=(0,d.XB)(),{spec:s,logger:i}=(0,M.h)();if(!e)return null;const l=r.Ru.get("web-player.age-assurance.settings.age-check.title");return(0,x.jsxs)(S,{filterMatchQuery:l,children:[(0,x.jsxs)("div",{className:E,children:[(0,x.jsx)(p,{htmlFor:"web-player.settings.check-age-button",children:l}),(0,x.jsx)(p,{htmlFor:"web-player.settings.check-age-button",variant:"marginal",children:r.Ru.get("web-player.age-assurance.settings.content.minor-social-feature-explanation")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(n.n,{id:"web-player.settings.check-age-button",size:"small",onClick:()=>{const e=i.logInteraction(s.ageAssuranceButtonFactory().hitUiReveal()).interactionId;t({interactionId:e})},children:r.Ru.get("web-player.age-assurance.confirm-age-action.title")})})]})}const A="x-settings-firstColumn",F="SriwiHcu3XwvQxkcUrT7",_=({className:e,children:t,canHaveSubtitle:s})=>(0,x.jsx)("div",{className:j()(A,e,{[F]:s}),children:t}),Q="x-settings-section",I="ywu0GdMTACHv9f8VKjhS";function L({children:e,filterMatchQuery:t}){const{filter:s}=(0,i.useContext)(g.g),{setSectionMatch:l,sectionContainsMatch:n}=w(),a=f(s,t);(0,i.useEffect)(()=>{l(a)},[a,l]);const r=!a&&!n;return(0,x.jsx)("div",{className:j()(Q,{[I]:r}),children:e})}function O(e){return(0,x.jsx)(b,{children:(0,x.jsx)(L,{...e})})}function T({children:e,className:t,semanticColor:s="textBase",disabled:l}){const{filter:n}=(0,i.useContext)(g.g);return(0,x.jsx)(u.E,{as:"h2",variant:"bodyMediumBold",semanticColor:s,className:t,style:l?{opacity:.8}:void 0,children:(0,x.jsx)(h.M,{searchWords:[n],textToHighlight:e})})}var D=s(4533),P=s(85969);const z="b6ZWccmOgkfvJOLJiyxC",q=()=>{const{openURLWithSessionTransfer:e}=(0,P.L)();return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("web-player.settings.account"),children:[(0,x.jsx)(T,{children:r.Ru.get("web-player.settings.account")}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("web-player.settings.edit-login-methods"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"web-player.settings.edit-login-methods-button",children:r.Ru.get("web-player.settings.edit-login-methods")})}),(0,x.jsx)(C,{children:(0,x.jsx)(n.n,{id:"web-player.settings.edit-login-methods-button",size:"small",className:z,onClick:()=>{e(D.Oo)},iconTrailing:a.H,children:r.Ru.get("web-player.settings.edit-login-methods-button")})})]}),(0,x.jsx)(N,{})]})};var U=s(62411),B=s(23382),K=s(85387);const H=e=>{const t=(0,K.zy)(),s=(0,i.useRef)(null),[l,n]=(0,i.useState)(!1),a=new URLSearchParams(t.search).get("highlight");return(0,i.useEffect)(()=>{e&&a&&a===e&&s.current&&(s.current.focus(),s.current.scrollIntoView({behavior:"smooth",block:"center"}),document.documentElement.classList.remove("no-focus-outline"))},[e,a,t,l]),(0,i.useCallback)(e=>{s.current=e,null!==e&&n(!0)},[])};var W=s(98117),V=s(36729);const Y=({dsaModeEnabled:e,setDsaModeEnabled:t})=>{const s=(0,U.wA)(),i=H(W.a.DSA);return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("web-player.settings.personalized-recommendations"),children:[(0,x.jsxs)(_,{canHaveSubtitle:!0,children:[(0,x.jsx)(p,{htmlFor:"settings.dsaMode",children:r.Ru.get("web-player.settings.personalized-recommendations")}),(0,x.jsx)(p,{htmlFor:"settings.dsaMode",variant:"marginal",children:r.Ru.get("web-player.settings.personalized-recommendations-body-text")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.dsaMode",value:!e,onSelected:e=>{e?t(!e):s(V.UU.actions.open({onConfirm:()=>t(!e)}))},ref:i})})]})};var G=s(73367),Z=s(1812),X=s(40500),J=s(59867);const $=new(s(75072).l)("changeAttributes","mutation","ac50e9d82b3b8303c73512f297140e774a69eb0d6250769b5669e69b4be28886",null);var ee=s(81694),te=s(9274);s(59452);const se=["personalizedRecommendations"],ie=()=>{const{getGraphQLLoader:e}=(0,J.mv)(),t=e(),s=(0,G.jE)(),l=((0,te.g)(),(0,U.wA)()),n=!(0,ee.n)(),a="1"===(0,c.$)("dsa-mode-enabled"),r="1"===(0,c.$)("dsa-mode-available"),o=(0,i.useCallback)(async e=>{if(n)throw new Error("User has to be online");await async function(e,t){const s=await e($,{input:{dsaModeEnabled:t}}),{errors:i,data:l}=s||{};if(!l?.changeUserAccountAttributes)throw i?.[0]?new Error(`GraphQL error: ${i[0].message}`):new Error("Unknown GraphQL error!");if("ChangeUserAccountAttributesResult"!==l.changeUserAccountAttributes.__typename||"ChangeUserAccountAttributesResult"===l.changeUserAccountAttributes.__typename&&!l.changeUserAccountAttributes.success)throw new Error("Couldn't successfully set new value")}(t,e)},[n,t]),d=(0,i.useRef)(a);d.current=a;const{data:u}=(0,Z.I)({queryKey:se,queryFn:()=>d.current});return[r??!1,u??!1,(0,X.n)({mutationFn:o,onMutate:async e=>{await s.cancelQueries({queryKey:se});const t=s.getQueryData(se);return s.setQueryData(se,e),{prevState:t,newState:e}},onError:(e,t,i)=>{s.setQueryData(se,i?.prevState),l(V.bL.actions.open())},onSuccess:()=>{0}}).mutate]},le=({sectionAbove:e})=>{const[t,s,i]=ie();return t||e?(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("web-player.settings.content-preferences"),children:[(0,x.jsx)(T,{children:r.Ru.get("web-player.settings.content-preferences")}),e,t&&(0,x.jsx)(Y,{dsaModeEnabled:s,setDsaModeEnabled:i})]}):null};let ne=function(e){return e.LIBRARY_COMPACT_MODE="library-compact-mode",e.NOW_PLAYING_VIEW="now-playing-view",e.CANVAS_VIDEOS="canvas-videos",e.NORMALIZE_QUALITY="normalize-quality",e.PUBLISH_ACTIVITY="publish-activity",e.STREAMING_QUALITY="streaming-quality",e.SMART_SHUFFLE="smart-shuffle",e.SHUFFLE_MODE="shuffle-mode",e.PLAYLISTS_ON_PROFILE="playlists-on-profile",e.SHOW_FOLLOWS="show-follows",e.LIST_PRIVACY="list-privacy",e.AUTO_PUBLISH_PLAYLIST="auto-publish-playlist",e.PRIVATE_SESSION="private-session",e.SHOW_MY_TOP_ARTISTS="show-my-top-artists",e}({});const ae=()=>{const{spec:e,logger:t}=(0,M.h)();return(0,i.useCallback)((s,i,l)=>{l?t.logInteraction(e.settingsRowFactory({identifier:s}).hitUiReveal()):i?t.logInteraction(e.settingsRowFactory({identifier:s}).hitSettingEnable()):t.logInteraction(e.settingsRowFactory({identifier:s}).hitSettingDisable())},[t,e])};var re=s(22590);const oe=()=>{const{itemsView:e,setItemsView:t}=(0,re.t)(),s=ae(),l=(0,i.useCallback)(e=>{s(ne.LIBRARY_COMPACT_MODE,e),t(e=>e===re.X.LIST_DEFAULT?re.X.LIST_COMPACT:re.X.LIST_DEFAULT)},[s,t]);return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("settings.library.compactMode"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.library.compact-mode",children:r.Ru.get("settings.library.compactMode")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.library.compact-mode",value:e===re.X.LIST_COMPACT,onSelected:l})})]})},ce=({children:e})=>(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("settings.library"),children:[(0,x.jsx)(T,{children:r.Ru.get("settings.library")}),e]})});var de=s(8335),ue=s(50247),he=s(25494),ge=s(41156),xe=s(91816),pe=s(70613),me=s(97159),je=s(87159),ye=s(8476);const fe=()=>{const e=(()=>{const e=(0,ge.V)(),t=(0,U.d4)(me.JJ),s=(0,J.vh)(),{isDesktop:i}=(0,xe.V)(),n=(0,l.NC)(pe.fVA);return()=>{const l={action:"viewed",category:"desktop_preference_pageview",country:t,label:i?"desktop":"dwp",os:(0,ye.f)(),sp_t:(0,je.v8)("sp_t"),variant:n};e?s.send((0,he.r)(l)):s.send((0,ue._)(l))}})(),t=(()=>{const e=(0,ge.V)(),t=(0,U.d4)(me.JJ),s=(0,J.vh)(),{isDesktop:i}=(0,xe.V)(),n=(0,l.NC)(pe.fVA);return()=>{const l={action:"click",category:"desktop_preferences_library_import_click",country:t,label:i?"desktop":"dwp",os:(0,ye.f)(),sp_t:(0,je.v8)("sp_t"),variant:n};e?s.send((0,he.r)(l)):s.send((0,ue._)(l))}})(),{inView:s,ref:a}=(0,de.Wx)({threshold:1});return(0,i.useEffect)(()=>{s&&e()},[s,e]),(0,x.jsx)("div",{ref:a,children:(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("library-import.settings.title"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"library-import.settings.title",children:r.Ru.get("library-import.settings.title")})}),(0,x.jsx)(C,{children:(0,x.jsx)(n.n,{size:"small",href:"https://www.spotify.com/import-music",onClick:t,target:"_blank",rel:"noopener noreferrer",children:r.Ru.get("library-import.cta")})})]})})},ve="x-settings-container",be=({children:e,outerRef:t})=>(0,x.jsx)(g.s,{uri:"spotify:internal:settings",children:(0,x.jsx)("div",{ref:t,className:ve,"data-testid":"settings-page",children:e})});var we=s(81458),ke=s(74134);const Se="x-settings-headerContainer",Re="x-settings-header";function Ce({containerRef:e}){return(0,x.jsxs)("div",{className:Se,children:[(0,x.jsx)(u.E,{as:"h1",variant:"titleMedium",className:Re,semanticColor:"textBase",paddingBottom:we.CD,children:r.Ru.get("desktop.settings.settings")}),(0,x.jsx)("div",{children:(0,x.jsx)(ke.S,{placeholder:r.Ru.get("desktop.settings.search"),alwaysExpanded:!1,clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:0})})]})}var Me=s(54673),Ee=s(44715);const Ne=()=>{const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.hardwareAcceleration);return navigator&&/^win/i.test(navigator.platform)?(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.compatibility"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.compatibility")}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.enableHardwareAcceleration"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.enableHardwareAcceleration",children:r.Ru.get("desktop.settings.enableHardwareAcceleration")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.enableHardwareAcceleration",value:!!t,onSelected:s})})]})]}):null};var Ae=s(21906),Fe=s(88072),_e=s(46019),Qe=s(48198),Ie=s(89408);function Le(e){return`${e>0?`+${e}`:e}dB`}var Oe=s(97731),Te=s(13204);function De(){const e=(0,Te.G)(),[t,s]=(0,i.useState)(e.getActivePreset()),l=(0,i.useCallback)(t=>{e.setActivePreset(t)},[e]);return(0,i.useEffect)(()=>e.subscribeToPresetChange(e=>{s(e)})),[t,l]}const Pe="x-settings-equalizerPanelWrapper",ze="x-settings-equalizerPanelFilters",qe="x-settings-equalizerPanelFilter",Ue="x-settings-equalizerPanelInput",Be="x-settings-equalizerPanelLabel",Ke="x-settings-equalizerPanelGainLabel",He="x-settings-equalizerPanelGainLabelUp",We="x-settings-equalizerPanelGainLabelDown",Ve="x-settings-equalizerPanelCanvas";function Ye({filter:e,onChange:t,disabled:s}){const l=(0,Te.G)(),n=(0,i.useRef)(null),[a]=De();(0,i.useEffect)(()=>{const t=a.filters.find(t=>t.key===e.key);n.current&&t&&(n.current.value=`${t.gain}`)},[a,e.key]),(0,i.useEffect)(()=>{n.current&&n.current.setAttribute("aria-valuetext",r.Ru.get("equalizer.filterA11yValueText",e.gain))},[]);const o=(0,Ie.YQ)((e,t)=>{l.setFilterGain(e,t)},100,{maxWait:200});return(0,x.jsxs)("div",{className:qe,children:[(0,x.jsx)("input",{"aria-label":r.Ru.get("equalizer.filterLabel",e.frequency),ref:n,type:"range",min:-Oe.Zs,max:Oe.Zs,step:.1,disabled:s,defaultValue:e.gain,className:Ue,onChange:s=>{const i=parseFloat(s.target.value);s.target.setAttribute("aria-valuetext",r.Ru.get("equalizer.filterA11yValueText",i)),o(e.key,i),t(i)}}),(0,x.jsx)("label",{className:Be,children:(c=e.frequency,c>=1e3?c/1e3+"KHz":`${c}Hz`)})]});var c}function Ge(e,t){e.moveTo(t[0],t[1]);for(let s=2;s<t.length-1;s+=2)e.lineTo(t[s],t[s+1])}function Ze(e){const t=.6,s=[],i=e.reduce((e,t)=>(e.push(t.x),e.push(t.y),e),[]);i.unshift(e[0].y),i.unshift(e[0].x),i.push(e[e.length-1].x),i.push(e[e.length-1].y);for(let e=2;e<i.length-4;e+=2)for(let l=0;l<=16;l++){const n=(i[e+2]-i[e-2])*t,a=(i[e+4]-i[e])*t,r=(i[e+3]-i[e-1])*t,o=(i[e+5]-i[e+1])*t,c=l/16,d=2*Math.pow(c,3)-3*Math.pow(c,2)+1,u=-2*Math.pow(c,3)+3*Math.pow(c,2),h=Math.pow(c,3)-2*Math.pow(c,2)+c,g=Math.pow(c,3)-Math.pow(c,2),x=d*i[e]+u*i[e+2]+h*n+g*a,p=d*i[e+1]+u*i[e+3]+h*r+g*o;s.push(x),s.push(p)}return s}var Xe=s(66917);function Je(e,t,s=!1){const i=e.getContext("2d");i&&(i.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,s,i=!1){const l=t.clientWidth,n=t.clientHeight,a=l/s.length/2;e.beginPath();const r=e.createLinearGradient(l/2,0,l/2,n);i?(r.addColorStop(0,"rgba(179, 179, 179, 100%)"),r.addColorStop(1,"rgba(179, 179, 179, 0%)")):(r.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),r.addColorStop(1,"rgba(11%, 73%, 33%, 0%)")),e.fillStyle=r,Ge(e,Ze(s)),e.lineTo(l-a,n),e.lineTo(a,n),e.fill()}(i,e,t,s),function(e,t,s=!1){e.beginPath(),e.strokeStyle=s?"rgb(179, 179, 179)":"rgb(11%, 73%, 33%)",e.lineWidth=4,Ge(e,Ze(t)),e.stroke()}(i,t,s),function(e,t){e.fillStyle=Xe.ONy,t.forEach(t=>{e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()})}(i,t))}function $e(e,t,s,i){return(s/=i/2)<1?t/2*Math.pow(s,3)+e:(s-=2,t/2*(Math.pow(s,3)+2)+e)}function et(e,t){const s=t.clientWidth/e.length;return e.map((e,i)=>({x:i*s+s/2,y:t.clientHeight-(e+Oe.Zs+3)/(2*Oe.Zs+6)*t.clientHeight}))}var tt=s(49348);function st(e,t){const s=(0,i.useRef)(null),l=(()=>{const[e,t]=(0,i.useState)(window.devicePixelRatio||1);return(0,i.useEffect)(()=>{const e=()=>{matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",()=>{t(window.devicePixelRatio),e()},{once:!0})};e()},[]),e})(),n=(0,i.useCallback)(()=>{if(!s.current)return;const e=l,t=s.current.getBoundingClientRect();s.current.width=t.width*e,s.current.height=t.height*e,s.current.getContext("2d")?.scale(e,e)},[l]),a=(0,i.useCallback)(()=>{if(!s.current||!e.current)return;const i=et(e.current,s.current);Je(s.current,i,t)},[e,t]),r=(0,i.useCallback)(i=>{if(!s.current||!e.current)return;const l=et(e.current,s.current),n=et(i,s.current);!function(e,t,s,i=!1){let l=0;const n=JSON.parse(JSON.stringify(t)),a=s.map((e,s)=>e.y-t[s].y),r=()=>{if(!(l>=18)){for(let e=0;e<n.length;e++){const s=t[e].y,i=a[e];n[e].y=$e(s,i,l,18)}Je(e,n,i),l++,window.requestAnimationFrame(r)}};window.requestAnimationFrame(r)}(s.current,l,n,t)},[e,t]);return(0,i.useEffect)(()=>{n(),a()},[n,a]),(0,tt.w)({refOrElement:s,onResize:()=>{n(),a()}}),{canvasRef:s,drawCanvas:a,animateCanvas:r}}function it(){const e=(0,Te.G)(),[t,s]=(0,i.useState)(!1),l=(0,i.useCallback)(t=>{e.setEnabledState(t)},[e]);return(0,i.useEffect)(()=>e.subscribeToEnabledState(s),[e]),[t,l]}function lt(e){const{disabled:t=!1}=e,[s,l]=it(),[n,a]=De(),o=(0,i.useRef)(n.filters.map(e=>e.gain)),{canvasRef:c,drawCanvas:d,animateCanvas:u}=st(o,t);return(0,i.useEffect)(()=>{const e=n.filters.map(e=>e.gain);"custom"!==n.key&&u(e),o.current=e},[n,u]),(0,x.jsxs)("div",{className:Pe,children:[(0,x.jsx)("canvas",{"aria-label":r.Ru.get("equalizer.equalizer"),role:"img",className:Ve,ref:c}),(0,x.jsx)("label",{className:j()(Ke,He),children:Le(Oe.Zs)}),(0,x.jsx)("label",{className:j()(Ke,We),children:Le(-Oe.Zs)}),(0,x.jsx)("div",{className:ze,dir:"ltr",children:n.filters.map((e,i)=>(0,x.jsx)(Ye,{filter:e,disabled:t,onChange:e=>{o.current[i]=e,d(),s||l(!0),a((0,Oe.zP)(o.current))}},e.key))})]})}var nt=s(35394),at=s(80243),rt=s(37691),ot=s.n(rt),ct=s(30920),dt=s(73136),ut=s(12536),ht=s(18102),gt=s(44750),xt=s(59861);const pt=()=>{const[e,t]=(0,xt.x)("eq_custom_presets",[]),s=(0,i.useCallback)(e=>{t(t=>[...t,e])},[t]),l=(0,i.useCallback)(e=>{t(t=>t.filter(t=>t.name!==e))},[t]),n=(0,i.useCallback)(t=>e.some(e=>e.name===t),[e]);return{savedCustomPresets:e,saveCustomPreset:s,deleteSavedCustomPreset:l,savedCustomPresetExists:n}};var mt=s(30107);const jt=({filters:e,onClose:t})=>{const{saveCustomPreset:s,savedCustomPresetExists:l}=pt(),[,n]=De(),[a,o]=(0,i.useState)(null),[c,d]=(0,i.useState)(""),[h,g]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),y=ot()(c).length,f=y>=90,v=(0,i.useCallback)(e=>{null!==e&&o(e)},[]);(0,i.useEffect)(()=>{a?.focus()},[a]);const b=()=>{t()},w=()=>{const t=c.trim();if(!(e=>{const t=e.trim();return t.length>0&&!l(t)})(c))return g(0===t.length),void m(t.length>0&&l(t));s({name:t,filters:e});n({key:t,displayName:t,filters:e}),b()},k=h||p;return(0,x.jsxs)(gt.M,{"aria-label":r.Ru.get("web-player.settings.equalizer.save-preset"),onClose:b,isOpen:!0,"data-testid":"save-preset-modal",className:mt.A.container,children:[(0,x.jsxs)("div",{className:mt.A.header,children:[(0,x.jsx)(u.E,{as:"h1",variant:"titleSmall",children:r.Ru.get("web-player.settings.equalizer.save-preset")}),(0,x.jsx)("button",{className:mt.A.closeBtn,onClick:b,children:(0,x.jsx)(ct.M,{size:"medium","aria-label":r.Ru.get("close")})})]}),(0,x.jsxs)("form",{className:mt.A.content,onSubmit:e=>{e.preventDefault(),w()},children:[h&&(0,x.jsx)(ht.z,{isErrorMessage:!0,message:r.Ru.get("web-player.settings.equalizer.save-preset-modal.name-required"),className:mt.A.infoBannerNoMargin}),p&&(0,x.jsx)(ht.z,{isErrorMessage:!0,message:r.Ru.get("web-player.settings.equalizer.save-preset-modal.name-exists"),className:mt.A.infoBannerNoMargin}),(0,x.jsxs)("div",{className:mt.A.name,children:[(0,x.jsx)("input",{id:"preset-name-input",ref:v,type:"text",value:c,onChange:e=>(e=>{const t=ot()(e).slice(0,100).join("");d(t);const s=t.trim();g(0===s.length),m(s.length>0&&l(s))})(e.target.value),onKeyDown:e=>{"Enter"===e.key&&w()},placeholder:r.Ru.get("web-player.settings.equalizer.save-preset-modal.name-placeholder"),className:j()(mt.A.textElement,mt.A.titleInput,{[mt.A.titleInputWithPadding]:f})}),(0,x.jsx)(ut.c,{isVisible:f,maxCharacters:100,usedCharacters:y,className:mt.A.titleCharacterCounter})]}),(0,x.jsx)("div",{className:mt.A.save,children:(0,x.jsx)(dt.$,{colorSet:"invertedLight",type:"submit",disabled:k,children:r.Ru.get("save")})})]})]})},yt="x-settings-equalizerPresetsContainer",ft="x-settings-equalizerPresetsLabel";function vt(){const[e,t]=it(),[s,l]=De(),{savedCustomPresets:n,deleteSavedCustomPreset:a}=pt(),[o,c]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>{"custom"===s.key&&c(!0)},[s]),h=(0,i.useCallback)(()=>{c(!1)},[]),g=(0,i.useCallback)(()=>{"custom"!==s.key&&n.some(e=>e.name===s.key)&&(a(s.key),l("flat"))},[n,a,s,l]),p=(0,i.useCallback)(s=>{const i=n.find(e=>e.name===s);if(i){const e={key:i.name,displayName:i.name,filters:i.filters};l(e)}else(function(e){return e in Oe.fG})(s)&&l(s);e||t(!0)},[n,l,e,t]),m="custom"===s.key,j=(0,i.useMemo)(()=>"custom"!==s.key&&n.some(e=>e.name===s.key),[s.key,n]);return(0,x.jsxs)("div",{className:yt,children:[(0,x.jsx)(u.E,{as:"label",variant:"bodySmall",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:ft,children:r.Ru.get("equalizer.presets")}),(0,x.jsxs)(at.C,{id:"desktop.equalizer.preset",value:m?s.displayName:s.key,onSelect:p,children:[m&&(0,x.jsx)("option",{value:s.displayName,children:s.displayName}),Object.entries(Oe.fG).map(([e,t])=>(0,x.jsx)("option",{value:e,children:t.displayName},e)),n.length>0&&(0,x.jsx)("optgroup",{label:r.Ru.get("web-player.settings.equalizer.custom-presets"),children:n.map(e=>(0,x.jsx)("option",{value:e.name,children:e.name},e.name))})]}),m&&(0,x.jsx)(nt.H,{size:"small",onClick:d,children:r.Ru.get("web-player.settings.equalizer.save-preset")}),j&&(0,x.jsx)(nt.H,{size:"small",onClick:g,children:r.Ru.get("web-player.settings.equalizer.delete-preset")}),o&&"custom"===s.key&&(0,x.jsx)(jt,{filters:[...s.filters],onClose:h})]})}function bt(){const[e,t]=it(),[,s]=De();return(0,x.jsx)(n.n,{onClick:()=>{s(Oe.fG.flat.key),e||t(!0)},size:"small",children:r.Ru.get("equalizer.reset")})}function wt(){const[e,t]=it();return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("equalizer.equalizer"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.equalizer",children:r.Ru.get("equalizer.equalizer")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.equalizer",value:e,onSelected:t})})]})}var kt=s(43637),St=s(95672),Rt=s(31941),Ct=s(88439),Mt=s(91645);const Et="x-settings-equalizerSection",Nt="xg9ekJv7Jn6eHyRlDUjR",At="x-settings-equalizerWrapper",Ft="x-settings-equalizerResetButtonWrapper",_t="QFATgEH7yLQuYU4FARxn",Qt="xcMNfgxYgeXC0pF2OfK6",It="uCrD3FNKrI0x8kR6Xupn",Lt=({className:e})=>{const{operatingSystem:t}=(0,J.mv)(),s=(0,St.e)(t),{downloadUrl:l}=(0,Rt.z)(),{spec:n,logger:a}=(0,Mt.r)(kt.V1,{data:{identifier:"equalizer"}}),o=(0,Ct.n)(n.getAbsoluteLocation(),n),c=(0,i.useCallback)(()=>{a.logInteraction(n.downloadButtonFactory().hitDownloadFile())},[a,n]);return(0,x.jsxs)("div",{className:e,ref:o,children:[(0,x.jsx)(u.E,{variant:"titleSmall",semanticColor:"textBase",children:r.Ru.get("web-player.download-page.upsell-popover.title-equalizer",s)}),(0,x.jsxs)("div",{className:Qt,children:[(0,x.jsx)(u.E,{variant:"bodyMedium",children:r.Ru.get("web-player.download-page.upsell-popover.description-equalizer")}),(0,x.jsx)("div",{className:It,children:(0,x.jsx)(dt.$,{href:l,target:"_blank",download:!0,onClick:c,children:r.Ru.get("web-player.download-page.download-button")})})]})]})};var Ot=s(47537);function Tt(){const e=(0,Te.G)(),t=(0,l.NC)(Ot.AM,{loadingValue:!1}),s=(0,Qe.K)();return t&&e.isSupported()?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(wt,{}),(0,x.jsx)(S,{filterMatchQuery:r.Ru.get("equalizer.equalizer"),children:(0,x.jsxs)("div",{className:Et,children:[(0,x.jsx)(vt,{}),(0,x.jsx)("div",{className:At,children:(0,x.jsx)(lt,{})}),(0,x.jsx)("div",{className:Ft,children:(0,x.jsx)(bt,{})})]})})]}):s?(0,x.jsx)(S,{filterMatchQuery:r.Ru.get("equalizer.equalizer"),className:j()(Nt),children:(0,x.jsxs)("div",{className:Et,children:[(0,x.jsx)("div",{className:At,children:(0,x.jsx)(lt,{disabled:!0})}),(0,x.jsx)(Lt,{className:_t})]})}):null}var Dt=s(87022),Pt=s(50867),zt=s(76826),qt=s(13343),Ut=s(67245),Bt=s(69365);const Kt="O4cZbh2XiTmQaOmS0X97",Ht="LVcQ_dgNAkGdHlTFJLw0";function Wt({text:e}){return(0,x.jsxs)(u.E,{variant:"marginal",semanticColor:"textBase",className:Kt,children:[(0,x.jsx)(Bt.p,{size:"small",className:Ht}),e]})}const Vt="raRkZ_Zd6LonLck0bG34",Yt="c3cCn0aU2X0PcqdGVeH4",Gt="RAztuof1qP54oMQlm3Tm",Zt="Lm5yBheQ_Uwwafb2vpog",Xt="Zl45UveW_C8Xuj8qsdzv",Jt=({filterMatchQuery:e,children:t})=>{const{filter:s}=(0,i.useContext)(g.g),{setSectionFilterMatchQueryValue:l,sectionMatch:n}=w(),a=f(s,e);return(0,i.useEffect)(()=>{l(e,a)},[a,e,l]),n||a?(0,x.jsx)("div",{className:Zt,children:t}):null},$t=()=>{const[e,t]=(0,Ut.UC)(),[s,i]=(0,Ut.Ll)(),l=H(W.a.OUTPUT_DEVICE_SELECTION),n=(0,Ut.fZ)(),a=e!==qt.y,r=(0,Pt.v)("Output"),o=(0,Pt.v)("Device"),c=(0,Pt.v)("Enable exclusive mode for this device"),d=(0,Pt.v)("Learn more"),u=(0,x.jsxs)("div",{className:Yt,children:[(0,Pt.v)("Spotify gets full access to your audio device. Other apps won't play sound. "),(0,x.jsx)(zt.N,{className:Gt,to:"https://www.google.com/search?q=exclusive+mode","aria-describedby":"exclusive-mode-info-help",children:d})]});return(0,x.jsxs)(O,{filterMatchQuery:r,children:[(0,x.jsxs)("div",{className:Xt,children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.outputDeviceSection",children:r}),(0,x.jsx)(Dt.v,{colorSet:"brightAccent",children:(0,Pt.v)("BETA")})]}),(0,x.jsxs)("div",{id:"desktop.settings.outputDeviceSection",className:Vt,children:[(0,x.jsxs)(Jt,{filterMatchQuery:o,children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.outputDevice",children:o}),(0,x.jsx)(at.C,{id:"desktop.settings.outputDevice",value:e,onSelect:t,ref:l,children:n.map(e=>(0,x.jsx)("option",{value:e.id,children:e.name},e.id))})]}),a&&(0,x.jsxs)(S,{filterMatchQuery:c,children:[(0,x.jsxs)(_,{canHaveSubtitle:!0,children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.exclusiveMode",children:c}),(0,x.jsx)(Wt,{text:u})]}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.exclusiveMode",value:s??!1,onSelected:i})})]})]})]})};var es=s(31386),ts=s(25810);const ss={get[es.KR.QUIET](){return r.Ru.get("desktop.settings.loudnessQuiet")},get[es.KR.NORMAL](){return r.Ru.get("desktop.settings.loudnessNormal")},get[es.KR.LOUD](){return r.Ru.get("desktop.settings.loudnessLoud")}};function is(){const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.quality.normalizeVolume),[{data:i},{mutate:l}]=(0,Ee.K)(e.quality.volumeLevel);return void 0===t?null:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.normalize"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.normalize",children:r.Ru.get("desktop.settings.normalize")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.normalize",value:!!t,onSelected:s})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.loudnessEnvironment",children:r.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details")})}),(0,x.jsx)(C,{children:(0,x.jsxs)(at.C,{id:"desktop.settings.loudnessEnvironment",disabled:!t,value:i,onSelect:e=>{const t=(0,ts.dt)(e);null!==t&&l(t)},children:[(0,x.jsx)("option",{value:es.KR.QUIET,children:ss[es.KR.QUIET]}),(0,x.jsx)("option",{value:es.KR.NORMAL,children:ss[es.KR.NORMAL]}),(0,x.jsx)("option",{value:es.KR.LOUD,children:ss[es.KR.LOUD]})]})})]})]})}const ls=()=>{const[e,t]=ie(),s=(0,Me.t)(),[{data:l},{mutate:n}]=(0,Ee.K)(s.playback.smartShuffle),a=ae(),o=(0,i.useCallback)(e=>{a(ne.SMART_SHUFFLE,e),n(e)},[a,n]);return(0,x.jsxs)(S,{filterMatchQuery:"test",children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.smartShuffle",disabled:t,children:t?r.Ru.get("web-player.settings.playback.smart-shuffle-dsa"):r.Ru.get("web-player.settings.playback.smart-shuffle")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.smartShuffle",value:l??!0,onSelected:o,disabled:t})})]})},ns="x-settings-crossFadeContainer",as="FsMVXYkskYc5DXxzakfm",rs=12e3,os=()=>{const e=(0,l.NC)(pe.Quc),t=(0,l.NC)(pe.tsC),s=(()=>{const e=(0,l.NC)(Ot.gl,{loadingValue:!1}),t=(0,l.NC)(Ot.kR,{loadingValue:!1});return e&&t})(),n=(0,Me.t)(),[{data:a},{mutate:o}]=(0,Ee.K)(n.playback.audioCrossfade),[{data:c},{mutate:d}]=(0,Ee.K)(n.playback.audioCrossfadeMs),[{data:h},{mutate:g}]=(0,Ee.K)(n.playback.autoMix),[{data:m},{mutate:j}]=(0,Ee.K)(n.playback.monoAudio),[{data:y},{mutate:f}]=(0,Ee.K)(n.playback.loudnessBalancePodcasts),[v,b]=(0,i.useState)(-1),w=-1===v?Number(c):v,k=`${Math.round(w/1e3)} ${r.Ru.get("desktop.settings.sec")}`,R=e?Fe.H:Ae.z2,M=(0,_e.V)();return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.playback"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.playback")}),void 0!==a&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.crossfadeTracks"),children:[(0,x.jsxs)(_,{children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.crossfadeTracks",children:r.Ru.get("desktop.settings.crossfadeTracks")}),a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:ns,children:(0,x.jsx)(R,{value:w,max:rs,step:1e3,labelText:r.Ru.get("desktop.settings.crossfadeTracks"),onDragStart:e=>{const t=1e3*Math.round(e*rs/1e3);b(t)},onDragMove:e=>{const t=1e3*Math.round(e*rs/1e3);b(t)},onDragEnd:e=>{const t=1e3*Math.round(e*rs/1e3);b(t),d(t)}})}),(0,x.jsx)(u.E,{variant:"bodySmall",semanticColor:"textSubdued",className:as,children:k})]})]}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.crossfadeTracks",value:a,onSelected:o})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.automixInfo"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.automixInfo",children:r.Ru.get("desktop.settings.automixInfo")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.automixInfo",value:!!h,onSelected:g})})]}),s&&(0,x.jsx)(ls,{}),(0,x.jsx)(is,{}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.monoDownmixer"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.monoDownmixer",children:r.Ru.get("desktop.settings.monoDownmixer")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.monoDownmixer",value:!!m,onSelected:j})})]}),t&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.otfn"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.otfn",children:r.Ru.get("desktop.settings.otfn")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.otfn",value:!!y,onSelected:f})})]}),(0,x.jsx)(Tt,{}),M&&(0,x.jsx)($t,{})]})},cs=()=>{const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.startupBehaviour.enableLauncher);return(0,l.NC)(pe.lXQ,{loadingValue:!1})?(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.enableLauncher"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.enableLauncher",children:r.Ru.get("desktop.settings.enableLauncher")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.enableLauncher",value:!!t,onSelected:s})})]}):null};var ds=s(56317);const us={get[es.WZ.MINIMIZED](){return r.Ru.get("desktop.settings.autostartMinimized")},get[es.WZ.NORMAL](){return r.Ru.get("desktop.settings.autostartNormal")},get[es.WZ.OFF](){return r.Ru.get("desktop.settings.autostartOff")}},hs=(0,ye.D)()===ds.f.macOS,gs=()=>{const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.startupBehaviour.autoStartMode),[{data:i},{mutate:l}]=(0,Ee.K)(e.startupBehaviour.closeToTray);return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.startupAndWindowBehavior"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.startupAndWindowBehavior")}),void 0!==t&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.autostart"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.autostart",children:r.Ru.get("desktop.settings.autostart")})}),(0,x.jsx)(C,{children:(0,x.jsxs)(at.C,{id:"desktop.settings.autostart",value:t,onSelect:e=>{const t=(0,ts.PF)(e);t&&s(t)},children:[(0,x.jsx)("option",{value:es.WZ.MINIMIZED,children:us[es.WZ.MINIMIZED]}),(0,x.jsx)("option",{value:es.WZ.NORMAL,children:us[es.WZ.NORMAL]}),(0,x.jsx)("option",{value:es.WZ.OFF,children:us[es.WZ.OFF]})]})})]}),(0,x.jsx)(cs,{}),!hs&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.closeShouldMinimize"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.closeShouldMinimize",children:r.Ru.get("desktop.settings.closeShouldMinimize")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.closeShouldMinimize",value:!!i,onSelected:l})})]})]})},xs={"auto-detect":{label:()=>r.Ru.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>r.Ru.get("desktop.settings.proxy.noproxy")},http:{label:()=>r.Ru.get("desktop.settings.proxy.http")},socks4:{label:()=>r.Ru.get("desktop.settings.proxy.socks4")},socks5:{label:()=>r.Ru.get("desktop.settings.proxy.socks5")}},ps=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}];var ms=s(40765);const js="x-proxySettings-horizontalPair",ys="x-proxySettings-ProxySettings",fs="QhsweKGGr4nFFWmW453J",vs="x-settings-input",bs="rSF8UwLzWlq43BzcPjy9",ws=({id:e,type:t,placeHolder:s,inputRef:i,handleOnChange:l})=>(0,x.jsx)("input",{type:t||"text",id:e,"data-testid":e,className:vs,placeholder:s,ref:i,onChange:l}),ks=({children:e,label:t})=>(0,x.jsx)(ms.g,{label:t,className:bs,children:e}),Ss="x-settings-restartAppButton";function Rs({onClick:e}){return(0,x.jsx)(n.n,{className:Ss,onClick:e,children:r.Ru.get("settings.restartApp")})}const Cs=(e,t,s)=>{let i=`${e}:${t}`;switch(s){case 2:i+="@http";break;case 3:i+="@socks4";break;case 4:i+="@socks5"}return i},Ms=({addr:e,mode:t="0",pass:s,user:l,setAddr:n,setMode:a,setPass:o,setUser:c,restartContainer:d,fullWidth:u,onChange:h})=>{const g=(0,i.useRef)(null),p=(0,i.useRef)(null),m=(0,i.useRef)(null),y=(0,i.useRef)(null),f=Number(t),[v,b]=(0,i.useState)(""),[w,k]=(0,i.useState)(""),[S,R]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const[t="",s=""]=e?.split(/[:@]+/)||[];b(t),k(s),g.current&&(g.current.value=t),p.current&&(p.current.value=s)},[e]),(0,i.useEffect)(()=>{y.current&&s&&(y.current.value=s.toString())},[s]),(0,i.useEffect)(()=>{m.current&&l&&(m.current.value=l.toString())},[l]);const C=0!==f&&1!==f,M=3!==f;return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.proxy.title"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.proxy.title")}),(0,x.jsxs)("div",{className:j()(ys,u?fs:null),children:[(0,x.jsx)(ks,{label:r.Ru.get("desktop.settings.proxy.type"),children:(0,x.jsx)(at.C,{id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);a(t),R(!0);const s=ps.find(e=>e.enumValue===t);s&&h?.(s.enumKey)},children:ps.map(({enumKey:e,enumValue:t})=>(0,x.jsx)("option",{value:t,"data-testid":e,children:xs[e]?xs[e].label():""},e))})}),C?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:js,children:[(0,x.jsx)(ks,{label:r.Ru.get("desktop.settings.proxy.host"),children:(0,x.jsx)(ws,{id:"network.proxy.host",handleOnChange:({target:e})=>{const t=Cs(e.value,w,f);b(e.value),n(t),R(!0)},placeHolder:r.Ru.get("desktop.settings.proxy.host"),inputRef:g})}),(0,x.jsx)(ks,{label:r.Ru.get("desktop.settings.proxy.port"),children:(0,x.jsx)(ws,{id:"network.proxy.port",type:"number",handleOnChange:({target:e})=>{const t=Cs(v,e.value,f);k(e.value),n(t),R(!0)},placeHolder:r.Ru.get("desktop.settings.proxy.port"),inputRef:p})})]}),(0,x.jsxs)("div",{className:M?js:void 0,children:[(0,x.jsx)(ks,{label:r.Ru.get("desktop.settings.proxy.user"),children:(0,x.jsx)(ws,{id:"network.proxy.user",handleOnChange:({target:e})=>{c(e.value),R(!0)},placeHolder:r.Ru.get("desktop.settings.proxy.user"),inputRef:m})}),M?(0,x.jsx)(ks,{label:r.Ru.get("desktop.settings.proxy.pass"),children:(0,x.jsx)(ws,{id:"network.proxy.pass",handleOnChange:({target:e})=>{o(e.value),R(!0)},placeHolder:r.Ru.get("desktop.settings.proxy.pass"),type:"password",inputRef:y})}):null]})]}):null,S&&(0,x.jsx)("div",{children:(0,x.jsx)(Rs,{onClick:d})})]})]})};var Es=s(64300);var Ns=s(70796),As=s(79898),Fs=s(10622),_s=s(60940),Qs=s(74690),Is=s(48564),Ls=s(24189);const Os="vQCU_DaVRyijGqgAQvPz",Ts="CgGNDh1suyDyp2D3Azit",Ds="eyltNa64x1LgDePDFxeJ",Ps="AKwMmBVTpP3rRctnbCY8",zs=({currentMode:e,onSelect:t,isDsaEnabled:s})=>{const i=es.Gz,{enqueueSnackbar:l}=(0,Ls.d)();return(0,x.jsx)(Qs.W,{children:i.map(i=>{const n=e===i,a=i===es.SU.FEWER_REPEATS&&Boolean(s),{title:o,description:c}=(e=>{switch(e){case es.SU.CLASSIC:return{title:r.Ru.get("desktop.settings.shuffle.mode.classic"),description:r.Ru.get("desktop.settings.shuffle.mode.classic.description")};case es.SU.FEWER_REPEATS:return{title:r.Ru.get("desktop.settings.shuffle.mode.fewer-repeats"),description:r.Ru.get("desktop.settings.shuffle.mode.fewer-repeats.description")};default:return{title:"",description:""}}})(i);return(0,x.jsx)(Is.D,{role:"menuitemradio","aria-checked":n,disabled:a,onClick:()=>{a?l(r.Ru.get("desktop.settings.shuffle.mode.fewer-repeats.dsa-unavailability")):t(i)},CheckedIcon:null,className:a?Os:Ts,children:(0,x.jsx)(Ns.v,{size:"lg",id:"title",variant:"naked",title:(0,x.jsx)(As.d,{semanticColor:a?"textSubdued":void 0,children:o}),subtitle:(0,x.jsx)(Fs.j,{className:Ds,semanticColor:"textSubdued",children:c}),trailing:n?(0,x.jsx)(_s.i,{size:"small",semanticColor:"textSubdued"}):void 0})},i)})})},qs={get[es.SU.CLASSIC](){return r.Ru.get("desktop.settings.shuffle.mode.classic")},get[es.SU.FEWER_REPEATS](){return r.Ru.get("desktop.settings.shuffle.mode.fewer-repeats")}};function Us({isDsaEnabled:e}){const t=es.Gz;return(0,x.jsx)(x.Fragment,{children:t.map(t=>{const s=t===es.SU.FEWER_REPEATS&&e;return(0,x.jsx)("option",{value:t,disabled:s,children:qs[t]},t)})})}const Bs=({currentMode:e,setShuffleMode:t,dropdownId:s,isDsaEnabled:l})=>{const n=(()=>{const{spec:e,logger:t}=(0,M.h)();return(0,i.useCallback)((s,i=!1)=>{i?t.logInteraction(e.settingsRowFactory({identifier:s}).hitUiReveal()):t.logInteraction(e.settingsRowFactory({identifier:s}).hitSetSettingField())},[t,e])})(),{enqueueSnackbar:a}=(0,Ls.d)(),o=(0,x.jsx)(at.C,{id:s,value:e,onSelect:e=>{const s=Object.values(es.SU).find(t=>t===e);s===es.SU.FEWER_REPEATS&&l?a(r.Ru.get("desktop.settings.shuffle.mode.fewer-repeats.dsa-unavailability")):s&&(n(ne.SHUFFLE_MODE),t(s))},onClick:()=>{e===es.SU.FEWER_REPEATS&&l&&a(r.Ru.get("desktop.settings.shuffle.mode.fewer-repeats.dsa-unavailability"))},preventMenu:!0,children:(0,x.jsx)(Us,{isDsaEnabled:l})});return(0,x.jsx)(Es.b,{menu:(0,x.jsx)(zs,{currentMode:e,onSelect:t,isDsaEnabled:l}),children:o})};function Ks({currentMode:e,setShuffleMode:t}){const[s,i]=ie();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"shuffle-mode-dropdown",children:r.Ru.get("desktop.settings.shuffle.mode")})}),(0,x.jsx)(C,{children:(0,x.jsx)(Bs,{dropdownId:"shuffle-mode-dropdown",currentMode:e,setShuffleMode:t,isDsaEnabled:i})})]})}function Hs(){const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.shuffle.shuffleAlgorithm);return void 0===t?null:(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.shuffle.title"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.shuffle.title")}),(0,x.jsx)(S,{filterMatchQuery:r.Ru.get("desktop.settings.shuffle.mode"),children:(0,x.jsx)(Ks,{currentMode:t,setShuffleMode:s})}),(0,x.jsxs)(u.E,{variant:"marginal",semanticColor:"textBase",className:Ps,id:"shuffle-info-help",children:[(0,x.jsx)(Bt.p,{size:"small"}),r.Ru.get("desktop.settings.shuffle.mode.description",{learnMore:(0,x.jsx)(zt.N,{to:"https://support.spotify.com/article/shuffle-play/","aria-describedby":"shuffle-info-help",children:r.Ru.get("desktop.settings.shuffle.mode.description.link")})})]})]})}var Ws=s(19717),Vs=s(88236),Ys=s(11085),Gs=s(40908);function Zs(){const e=(0,Gs.B)(),[t,s]=(0,i.useState)(null),[l,n]=(0,i.useState)(!0),[a,r]=(0,i.useState)(null);return(0,i.useEffect)(()=>{const t=window.setInterval(()=>{!async function(){if(null===a){try{const t=await e.getStatistics();s(t)}catch(e){r(e instanceof Error?e:new Error("Error when fetching storage statistics."))}n(!1)}}()},1500);return()=>clearInterval(t)},[e,a]),[t,l,a]}const Xs="x-settings-button",Js="QWLkpZShOXxXZCHn_ogq",$s=()=>{const e=(0,Ys.A)(),t=(0,Vs.K)(),s=!(0,ee.n)(),[l,a]=(0,i.useState)(!1),o=(0,Me.t)(),[{data:c},{mutate:d}]=(0,Ee.K)(o.storage.storageLocation),u=(0,i.useCallback)(()=>{t.restart()},[t]),[h,g,m]=Zs(),j=(0,U.wA)();let y="",f="",v=0;return g?(y=r.Ru.get("page.loading"),f=r.Ru.get("page.loading")):m||null===h?(y=r.Ru.get("error.generic"),f=r.Ru.get("error.generic")):(v=h.currentSizeMB-h.currentLockedSizeMB,y=` ${v} MB`,f=` ${h.currentLockedSizeMB} MB`),(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.storage"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.storage")}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.storage.downloads.heading"),children:[(0,x.jsx)(_,{children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase",children:r.Ru.get("desktop.settings.storage.downloads.heading")}),(0,x.jsx)(p,{htmlFor:"desktop.settings.downloads",children:f})]}),(0,x.jsx)(p,{htmlFor:"desktop.settings.downloads",children:r.Ru.get("desktop.settings.storage.downloads.text")})]})}),(0,x.jsx)(C,{children:(0,x.jsx)(n.n,{id:"desktop.settings.downloads",size:"small",onClick:()=>{j((0,Ws.KB)())},disabled:s||!h||0===h.currentLockedSizeMB,className:Xs,children:r.Ru.get("desktop.settings.storage.downloads.button")})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.storage.cache.heading"),children:[(0,x.jsx)(_,{children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.cache",semanticColor:"textBase",children:r.Ru.get("desktop.settings.storage.cache.heading")}),(0,x.jsx)(p,{htmlFor:"desktop.settings.cache",children:y})]}),(0,x.jsx)(p,{htmlFor:"desktop.settings.cache",children:r.Ru.get("desktop.settings.storage.cache.text")})]})}),(0,x.jsx)(C,{children:(0,x.jsx)(n.n,{id:"desktop.settings.cache",size:"small",onClick:()=>{j((0,Ws.cd)())},disabled:0===v,className:Xs,children:r.Ru.get("desktop.settings.storage.cache.button")})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.offlineStorageLocation"),children:[(0,x.jsx)(_,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase",children:r.Ru.get("desktop.settings.offlineStorageLocation")})}),(0,x.jsx)(p,{htmlFor:"desktop.settings.offline-storage",className:Js,children:c})]})}),(0,x.jsxs)(C,{children:[(0,x.jsx)(n.n,{id:"desktop.settings.offline-storage",size:"small",onClick:async()=>{const t=await e.browseForFolder();t.path&&(d(t.path),t.path!==c&&a(!0))},className:Xs,children:r.Ru.get("desktop.settings.offlineStorageChangeLocation")}),l&&(0,x.jsx)(Rs,{onClick:u})]})]})]})},ei=()=>{const e=(0,Vs.K)(),t=(0,l.NC)(pe.kwT),s=(0,i.useCallback)(()=>{e.restart()},[e]),n=(0,Me.t)(),[{data:a},{mutate:r}]=(0,Ee.K)(n.proxySettings.mode),[{data:o},{mutate:c}]=(0,Ee.K)(n.proxySettings.address),[{data:d},{mutate:u}]=(0,Ee.K)(n.proxySettings.username),[{data:h},{mutate:g}]=(0,Ee.K)(n.proxySettings.password);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(os,{}),t&&(0,x.jsx)(Hs,{}),(0,x.jsx)(gs,{}),(0,x.jsx)($s,{}),(0,x.jsx)(Ms,{restartContainer:s,mode:a,setMode:r,addr:o,setAddr:c,user:d,setUser:u,pass:h,setPass:g}),(0,x.jsx)(Ne,{})]})},ti=()=>{const e="1"===(0,c.$)("dsa-mode-enabled"),t=(0,Me.t)(),[{data:s},{mutate:i}]=(0,Ee.K)(t.autoPlay);return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.autoplay"),children:[(0,x.jsx)(T,{semanticColor:e?"textSubdued":void 0,disabled:e,children:r.Ru.get("desktop.settings.autoplay")}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.autoplayInfo"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"global.settings.autoplayInfo",disabled:e,children:e?r.Ru.get("web-player.settings.autoplay-dsa-enabled"):r.Ru.get("desktop.settings.autoplayInfo")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"global.settings.autoplayInfo",value:!!s,onSelected:e=>{i(e)},disabled:e})})]})]})};var si=s(78590),ii=s(64352),li=s(70684),ni=s(57966),ai=s(27454);const ri=()=>{const[e,t]=(0,ni.J)(),s=(0,ai.j)(),l=ae(),n=(0,i.useCallback)(e=>{l(ne.CANVAS_VIDEOS,e),t(e)},[t,l]);return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("settings.canvasVideos"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.canvasVideos",children:r.Ru.get("settings.canvasVideos")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.canvasVideos",value:e,onSelected:n,disabled:s})})]})};var oi=s(99494);const ci=()=>{const[e,t]=(0,oi.N)(),s=ae(),l=(0,i.useCallback)(e=>{s(ne.NOW_PLAYING_VIEW,e),t(e)},[t,s]);return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("settings.npv"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.npv",children:r.Ru.get("settings.npv")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.npv",value:e,onSelected:l})})]})};var di=s(68057);const ui=({isBuddyFeedOpen:e,toggleBuddyFeed:t})=>(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("buddy-feed.see-what-your-friends-are-playing"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.showFriendActivity",children:r.Ru.get("buddy-feed.see-what-your-friends-are-playing")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.showFriendActivity",value:e,onSelected:t})})]}),hi=e=>(0,di.a)()?null:(0,x.jsx)(ui,{...e});var gi=s(67692);const xi=()=>{const e=(0,l.NC)(pe.Xq2),t=(0,c.$)("catalogue"),s=void 0===t||"string"==typeof t&&"free"===t.toLowerCase()||!e,i=(0,Me.t)(),[{data:n},{mutate:a}]=(0,Ee.K)(i.display.newReleasesAnnoucements),[{data:o},{mutate:d}]=(0,Ee.K)(i.display.nativeNotificationOnPlayerTransition),[{data:u},{mutate:h}]=(0,Ee.K)(i.display.nativeOverlayOnMediaKeys),g=(0,gi.d)(),m=g?.client_capabilities?.can_show_system_media_controls,j=g?.client_capabilities?.can_show_track_notifications,{isActive:y,panelSend:f}=(0,si.AI)(li.Z.BuddyFeed,li.Z.BuddyFeedOverlay);return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("settings.display"),children:[(0,x.jsx)(T,{children:r.Ru.get("settings.display")}),(0,x.jsx)(ci,{}),(0,x.jsx)(ri,{}),!s&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("settings.showMusicAnnouncements"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.showMusicAnnouncements",children:r.Ru.get("settings.showMusicAnnouncements")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.showMusicAnnouncements",value:!!n,onSelected:a})})]}),j&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("settings.showTrackNotifications"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.trackNotifications",children:r.Ru.get("settings.showTrackNotifications")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.trackNotifications",value:!!o,onSelected:d})})]}),m&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.showSystemMediaControls"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.systemMediaControlsEnabled",children:r.Ru.get("desktop.settings.showSystemMediaControls")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.systemMediaControlsEnabled",value:!!u,onSelected:h})})]}),(0,x.jsx)(hi,{isBuddyFeedOpen:y,toggleBuddyFeed:()=>{f(ii.$S.BUDDY_FEED_BUTTON_CLICK)}})]})};var pi=s(49950),mi=s(51629),ji=s(75676);const yi="o7rNWCVvektzF2kRwifd",fi="WWoY_RYd8ZhTa6fDoA_w",vi=()=>{const e=(0,U.wA)(),{locale:t,user:s,overrides:l}=(0,U.d4)(mi.Ht),n=(0,i.useRef)(null),a=(0,i.useRef)(null),r=(0,i.useCallback)(t=>{n.current&&n.current.value&&e((0,ji.Rv)(t?n.current.value:""))},[e]),o=(0,i.useCallback)(t=>{a.current&&a.current.value&&e((0,ji.zf)(t?a.current.value:""))},[e]),c=l?.country||s?.country,d=l?.locale||t;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(S,{filterMatchQuery:c??"",children:[(0,x.jsx)(_,{children:(0,x.jsx)("div",{className:yi,children:(0,x.jsx)(pi.c,{id:"overrides.country",onChange:e=>{const t=e.target.checked;r(t)},defaultChecked:!!l?.country,children:(0,x.jsx)(u.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Country"})})})}),(0,x.jsx)(C,{children:(0,x.jsx)("input",{type:"text",id:"overrides.country.input",className:fi,disabled:!l?.country,ref:n,defaultValue:c,onChange:()=>r(!0)})})]}),(0,x.jsxs)(S,{filterMatchQuery:l?.locale??"",children:[(0,x.jsx)(_,{children:(0,x.jsx)("div",{className:yi,children:(0,x.jsx)(pi.c,{id:"overrides.locale",onChange:e=>{const t=e.target.checked;o(t)},defaultChecked:!!l?.locale,children:(0,x.jsx)(u.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Language"})})})}),(0,x.jsx)(C,{children:(0,x.jsx)("input",{type:"text",id:"overrides.locale.input",className:fi,disabled:!l?.locale,ref:a,defaultValue:d,onChange:()=>o(!0)})})]})]})},bi=()=>{const e=(0,Me.t)(),[{data:t}]=(0,Ee.K)(e.employee.isEmployee),[{data:s},{mutate:l}]=(0,Ee.K)(e.employee.developerMode),[{data:n},{mutate:a}]=(0,Ee.K)(e.employee.showChromeToolbar),o=(0,Vs.K)(),[c,d]=(0,i.useState)(!1),u=(0,i.useCallback)(()=>{o.restart()},[o]);return t?(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("settings.employee"),children:[(0,x.jsx)(T,{children:r.Ru.get("settings.employee")}),(0,x.jsx)(S,{filterMatchQuery:r.Ru.get("desktop.settings.language-override"),children:(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"",children:r.Ru.get("desktop.settings.language-override")})})}),(0,x.jsx)(vi,{}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.enableDeveloperMode"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.developerMode",children:r.Ru.get("desktop.settings.enableDeveloperMode")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.developerMode",value:!!s,onSelected:e=>{l(e),d(!0)}})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.showChromeToolbar"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.chromiumToolbar",children:r.Ru.get("desktop.settings.showChromeToolbar")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.chromiumToolbar",value:!!n,onSelected:e=>{a(e),d(!0)}})})]}),c&&(0,x.jsx)("div",{children:(0,x.jsx)(Rs,{onClick:u})})]}):null};var wi=s(67793);const ki="Of6tLYwF3QgEfYkNNFdK",Si=()=>{const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.contentPreferences.allowExplicitContent),[{data:i}]=(0,Ee.K)(e.contentPreferences.explicitContentForceDisallowed),l=i?r.Ru.get("desktop.settings.explicitContentFilterSettingLocked"):r.Ru.get("desktop.settings.explicitContentFilterSetting");return(0,x.jsxs)(S,{filterMatchQuery:l,children:[(0,x.jsxs)(_,{canHaveSubtitle:!0,children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.explicitContentFilter",children:l}),(0,x.jsx)(u.E,{variant:"marginal",children:r.Ru.get("desktop.settings.explicitContentFilterSettingDetails1",(0,x.jsx)(wi.U,{}))}),(0,x.jsx)(u.E,{variant:"marginal",children:r.Ru.get("desktop.settings.explicitContentFilterSettingDetails2")}),(0,x.jsx)(Wt,{text:r.Ru.get("desktop.settings.updateDelayNotice")})]}),(0,x.jsx)(C,{children:(0,x.jsx)("div",{className:ki,children:(0,x.jsx)(B.l,{id:"desktop.settings.explicitContentFilter",disabled:i,value:!!t,onSelected:s})})})]})},Ri=()=>(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.explicitContentFilter"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.explicitContentFilter")}),(0,x.jsx)(Si,{})]});var Ci=s(7885);const Mi=()=>{const e=(0,Vs.K)(),t=(0,Me.t)(),[{data:s},{mutate:l}]=(0,Ee.K)(t.language),n=(0,i.useCallback)(()=>{e.restart()},[e]);return void 0===s?null:(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.language"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.language")}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.selectLanguage"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.selectLanguage",children:r.Ru.get("desktop.settings.selectLanguage")})}),(0,x.jsx)(C,{children:(0,x.jsx)(at.C,{dir:"auto",value:s,id:"desktop.settings.selectLanguage",onSelect:l,children:Ci.J2.map(e=>(0,x.jsx)("option",{value:e,children:`${Ci.IB[e].displayName} (${Ci.IB[e].displayNameEn})`},e))})})]}),r.Ru.getLocaleForTranslation()!==s?(0,x.jsx)(Rs,{onClick:n}):null]})};var Ei=s(68467);const Ni=()=>{const[e,t]=(0,Ei.y)();return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("settings.showLocalFiles"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"settings.showLocalFiles",children:r.Ru.get("settings.showLocalFiles")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"settings.showLocalFiles",value:e,onSelected:e=>{t(e)}})})]})};var Ai=s(7612),Fi=s(56046);const _i=e=>void 0!==e.id;function Qi(e){let t;if(!_i(e))return e.path;switch(e.id){case Fi.kW.DOWNLOADS:t=r.Ru.get("local-files.source.downloads");break;case Fi.kW.ITUNES:t=r.Ru.get("local-files.source.itunes");break;case Fi.kW.MY_MUSIC:t=r.Ru.get("local-files.source.my_music");break;case Fi.kW.WINDOWS_MUSIC_LIBRARY:t=r.Ru.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}const Ii=({source:e,onAddOrRemoveSource:t})=>{const[s,l]=(0,i.useState)(!_i(e)||e.enabled),n=_i(e)?String(e.id):e.path;return(0,x.jsxs)(S,{filterMatchQuery:Qi(e),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:`settings.local-files.${n}`,children:Qi(e)})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:`settings.local-files.${n}`,value:s,onSelected:s=>{l(s),t(e,s)}})})]})},Li=()=>{const[e,t]=(0,i.useState)(),s=(0,Ys.A)(),l=(0,Ai.i)(),a=(0,i.useCallback)(async()=>t(await s.getSources()),[s]);(0,i.useEffect)(()=>{a()},[a]);const o=(0,i.useCallback)(async()=>{const{path:e}=await s.browseForFolder();e&&(await s.addFolder({path:e}),a(),l.say(r.Ru.get("settings.localFilesFolderAdded",e)))},[l,s,a]),c=(0,i.useCallback)((e,t)=>{e.enabled=t,s.mutateDefaultSource(e)},[s]),d=(0,i.useCallback)((e,t)=>{t?s.addFolder(e):s.removeFolder(e)},[s]);return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("settings.showSongsFrom"),children:[(0,x.jsx)(T,{children:r.Ru.get("settings.showSongsFrom")}),e?.defaultSources.map(e=>(0,x.jsx)(Ii,{source:e,onAddOrRemoveSource:c},String(e.id))),e?.folders.map(e=>(0,x.jsx)(Ii,{source:e,onAddOrRemoveSource:d},e.path)),(0,x.jsx)("div",{children:(0,x.jsx)(n.n,{size:"small","aria-label":r.Ru.get("settings.addASource"),onClick:()=>{o()},children:r.Ru.get("settings.addASource")})})]})},Oi=()=>null;var Ti=s(5730),Di=s(59039),Pi=s(20005);const zi="x-settings-tooltip",qi="x-settings-tooltipIconWrapper",Ui="x-settings-tooltipIcon",Bi=({message:e,placement:t="top",messageClassName:s,iconClassName:i,iconSize:l="small"})=>(0,x.jsx)("div",{className:zi,children:(0,x.jsx)(Pi.Zp,{showDelay:0,label:e,placement:t,labelClassName:s,children:(0,x.jsx)("div",{className:j()(qi,i),"aria-label":e,"aria-describedby":Pi.WO,tabIndex:0,children:(0,x.jsx)(Di.N,{size:l,className:Ui})})})});function Ki(){const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.quality.autoAdjustQuality);return void 0===t?null:(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.automatic-downgrade.title"),children:[(0,x.jsxs)(_,{children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.automatic-downgrade",children:r.Ru.get("desktop.settings.automatic-downgrade.title")}),(0,x.jsx)(Bi,{message:r.Ru.get("desktop.settings.automatic-downgrade.info")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.automatic-downgrade",value:t,onSelected:s})})]})}function Hi(){const e=(0,Me.t)();return(0,Z.I)({queryKey:["settings-formats"],queryFn:()=>e.quality.getFormats(),gcTime:36e5,staleTime:6e5}).data}const Wi={get[es.a1.AUTOMATIC](){return r.Ru.get("desktop.settings.streamingQualityAutomatic")},get[es.a1.LOW](){return r.Ru.get("desktop.settings.streamingQualityLow")},get[es.a1.MEDIUM](){return r.Ru.get("desktop.settings.streamingQualityNormal")},get[es.a1.HIGH](){return r.Ru.get("desktop.settings.streamingQualityHigh")},get[es.a1.VERY_HIGH](){return r.Ru.get("desktop.settings.streamingQualityVeryHigh")},get[es.a1.LOSSLESS](){return r.Ru.get("web-player.pigeon.audio-quality.lossless")}};function Vi({formats:e}){return(0,x.jsx)(x.Fragment,{children:e.map(({quality:e})=>(0,x.jsx)("option",{value:e.toString(),children:Wi[e]},e))})}var Yi=s(57912);var Gi=s(42729);const Zi="bZu9z5uN3CYG_zTFA97L",Xi="xhqreLGyutVrg3qVd6FE",Ji=({currentQuality:e,formats:t,onSelect:s})=>{const{currentDevice:i}=(0,Gi.l)(),l=(0,Yi.r)(i);return(0,x.jsx)(Qs.W,{children:t.map(({quality:t})=>{const i=e===t,{title:n,subtitles:a}=((e,t)=>{switch(e){case es.a1.LOSSLESS:return{title:r.Ru.get("web-player.pigeon.audio-quality.lossless"),subtitles:[r.Ru.get("web-player.pigeon.audio-quality.lossless-24.bitrate-details-1"),r.Ru.get("web-player.pigeon.audio-quality.lossless-24.bitrate-details-2")]};case es.a1.VERY_HIGH:return{title:r.Ru.get("web-player.pigeon.audio-quality.very-high.label"),subtitles:[t?r.Ru.get("web-player.pigeon.audio-quality.very-high.up-to-bitrate-details.subtitle"):r.Ru.get("web-player.pigeon.audio-quality.very-high.bitrate-details.subtitle")]};case es.a1.HIGH:return{title:r.Ru.get("web-player.pigeon.audio-quality.high.label"),subtitles:[t?r.Ru.get("web-player.pigeon.audio-quality.high.up-to-bitrate-details.subtitle"):r.Ru.get("web-player.pigeon.audio-quality.high.bitrate-details.subtitle")]};case es.a1.MEDIUM:return{title:r.Ru.get("web-player.pigeon.audio-quality.normal.label"),subtitles:[t?r.Ru.get("web-player.pigeon.audio-quality.normal.up-to-bitrate-details.subtitle"):r.Ru.get("web-player.pigeon.audio-quality.normal.bitrate-details.subtitle")]};case es.a1.LOW:return{title:r.Ru.get("web-player.pigeon.audio-quality.low.label"),subtitles:[t?r.Ru.get("web-player.pigeon.audio-quality.low.up-to-bitrate-details.subtitle"):r.Ru.get("web-player.pigeon.audio-quality.low.bitrate-details.subtitle")]};case es.a1.AUTOMATIC:return{title:r.Ru.get("web-player.pigeon.audio-quality.automatic.label"),subtitles:[r.Ru.get("web-player.pigeon.audio-quality.automatic.details")]};default:return{title:r.Ru.get("web-player.pigeon.audio-quality.unknown.label"),subtitles:null}}})(t,l);return(0,x.jsx)(Is.D,{role:"menuitemradio","aria-checked":i,onClick:()=>s(t),CheckedIcon:null,className:Zi,children:(0,x.jsx)(Ns.v,{size:"lg",id:"title",variant:"naked",title:(0,x.jsx)(As.d,{children:n}),subtitle:(0,x.jsx)(x.Fragment,{children:(a??[]).map((e,s)=>(0,x.jsx)(Fs.j,{className:Xi,semanticColor:0===s&&t===es.a1.LOSSLESS?"textAnnouncement":"textSubdued",children:e},s))}),trailing:i?(0,x.jsx)(_s.i,{size:"small",semanticColor:"textSubdued"}):void 0})},t)})})};var $i=s(19508);const el=({formats:e,currentQuality:t,setQuality:s,highlightKey:i,dropdownId:l})=>{const n=(0,$i.j)(),a=H(i),r=(0,x.jsx)(at.C,{id:l,value:t.toString(),onSelect:e=>{const t=(0,ts.FB)(e);null!==t&&s(t)},preventMenu:n,ref:a,children:(0,x.jsx)(Vi,{formats:e})});return n?(0,x.jsx)(Es.b,{menu:(0,x.jsx)(Ji,{formats:e,currentQuality:t,onSelect:s}),children:r}):r};var tl=s(91714),sl=s(70013),il=s(94450),ll=s(26053);const nl=(e,t,s)=>{const i=t===es.Qi.LOSSLESS,l=t>=es.Qi.VERY_HIGH;return e.filter(({quality:e})=>{switch(e){case es.a1.LOW:case es.a1.MEDIUM:return!s;case es.a1.AUTOMATIC:case es.a1.HIGH:return!0;case es.a1.VERY_HIGH:return l;case es.a1.LOSSLESS:return i;default:return!1}})};function al(){const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.quality.downloadAudioQuality),[{data:l}]=(0,Ee.K)(e.quality.maxSupportedQuality),n=Hi(),a=function(){const{enqueueCustomSnackbar:e}=(0,ll.i)();return(0,i.useCallback)(()=>{e((0,x.jsx)(tl.O,{children:(0,x.jsx)(il.P,{center:(0,x.jsx)(sl.z,{children:r.Ru.get("web-player.settings.quality.download-quality.lossless-snackbar-message")})})}),{identifier:"download-in-lossless"})},[e])}();return void 0===t||void 0===l||void 0===n?null:(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.downloadQuality.title"),children:[(0,x.jsxs)(_,{children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.downloadQuality",children:r.Ru.get("desktop.settings.downloadQuality.title")}),(0,x.jsx)(Bi,{message:r.Ru.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(el,{formats:nl(n,l),currentQuality:t,setQuality:e=>{e===es.a1.LOSSLESS&&a(),s(e)},dropdownId:"desktop.settings.downloadQuality"})})]})}var rl=s(37528);const ol="mqjhsuNPs2qjSMW4oukw",cl="Lysz71wULco4j_xLkHgZ",dl="d96EW1o6O_voP1Qqa6D1",ul="p9npxOfYUuThJnofLvAL",hl=(0,i.forwardRef)(({onClose:e,isOpen:t,onConfirm:s},i)=>(0,x.jsx)(rl.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!0,overlayClassName:cl,onRequestClose:e,contentLabel:r.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.title"),isOpen:t,children:(0,x.jsxs)("div",{ref:i,className:j()("encore-light-theme",ol),children:[(0,x.jsx)(u.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:r.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.title")}),(0,x.jsx)(u.E,{as:"p",variant:"bodySmall",semanticColor:"textBase","data-testid":"confirm-dialog-description",children:r.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.description")}),(0,x.jsxs)("div",{className:dl,children:[(0,x.jsx)(n.n,{size:"small",semanticColor:"textBase",onClick:s,className:ul,children:r.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.confirm")}),(0,x.jsx)(n.n,{size:"small",semanticColor:"textBase",onClick:e,className:ul,children:r.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.cancel")})]})]})})),gl="hYVymOwYcs1RvSHBgV6K",xl="DKmQcjn70CLwJlXCD9W5";function pl({deviceType:e,deviceName:t,formKey:s,highlightKey:l,formats:n,currentQuality:a,setQuality:o,showDeviceInfo:c=!0,isRemoteSetting:d=!1,maxRemoteQuality:h}){const[g,m]=(0,i.useState)(!1),j=(0,$i.j)(),y=(0,Yi.t)(e);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(_,{className:gl,canHaveSubtitle:!0,children:[(0,x.jsx)(p,{htmlFor:s,children:r.Ru.get("desktop.settings.streamingQuality")}),c&&(0,x.jsxs)("div",{className:xl,children:[(0,x.jsx)(y,{semanticColor:d?"textBrightAccent":void 0,size:"xsmall"}),(0,x.jsx)(u.E,{semanticColor:d?"textBrightAccent":void 0,variant:"marginalBold",children:t})]}),d&&h===es.a1.VERY_HIGH&&(0,x.jsx)(u.E,{variant:"marginal",semanticColor:"textSubdued",children:r.Ru.get("web-player.pigeon.audio-quality.device-only-supports-very-high")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(el,{dropdownId:s,highlightKey:l,formats:n,currentQuality:a,setQuality:e=>{j&&e===es.a1.LOSSLESS&&a!==es.a1.LOSSLESS?m(!0):o(e)}})}),(0,x.jsx)(hl,{isOpen:g,onClose:()=>{m(!1)},onConfirm:()=>{o(es.a1.LOSSLESS),m(!1)}})]})}var ml=s(3349),jl=s(14754);function yl(){const e=(0,Me.t)(),t=(0,ml.l)(),{currentDevice:s}=(0,Gi.l)(),i=Hi(),l=(0,$i.j)(),[{data:n},{mutate:a}]=(0,Ee.K)(e.quality.streamingQuality),[{data:o}]=(0,Ee.K)(e.quality.maxSupportedQuality),[{data:c},{mutate:d}]=(0,Ee.K)(e.quality.remoteQuality),u=l&&t&&!!c&&c.maxSupportedQuality!==es.a1.AUTOMATIC,h=t&&(0,Yi.r)(s);return void 0===n||void 0===o||void 0===i?null:(0,x.jsxs)(x.Fragment,{children:[l?(0,x.jsx)(Wt,{text:r.Ru.get("web-player.settings.quality.streaming-quality.info-text")}):null,(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.streamingQuality"),children:[u&&(0,x.jsx)(pl,{isRemoteSetting:!0,deviceType:s.type,deviceName:s.name,formKey:"desktop.settings.remoteStreamingQuality",highlightKey:W.a.AUDIO_QUALITY_STEAMING_REMOTE,formats:nl(i,(g=c.maxSupportedQuality,g===es.a1.LOSSLESS?es.Qi.LOSSLESS:g===es.a1.VERY_HIGH?es.Qi.VERY_HIGH:es.Qi.STANDARD),h),currentQuality:c.streamingQuality,setQuality:e=>{d({...c,streamingQuality:e})},maxRemoteQuality:c.maxSupportedQuality}),(0,x.jsx)(pl,{deviceType:jl.bq.COMPUTER,deviceName:r.Ru.get("web-player.connect.device-picker.this-computer"),formKey:"desktop.settings.streamingQuality",highlightKey:W.a.AUDIO_QUALITY_STEAMING,formats:nl(i,o),currentQuality:n,setQuality:a,showDeviceInfo:u})]})]});var g}const fl=()=>{const e=(0,Ti.P)();return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.musicQuality"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.musicQuality")}),e&&(0,x.jsx)(i.Suspense,{fallback:null,children:(0,x.jsx)(Oi,{})}),(0,x.jsx)(yl,{}),(0,x.jsx)(al,{}),(0,x.jsx)(Ki,{})]})};var vl=s(78969),bl=s(77858),wl=s(45167);const kl=()=>{const e=(0,G.jE)(),{user:t}=(0,U.d4)(mi.Ht),s=t?.uri??"",{enqueueSnackbar:n}=(0,Ls.d)(),a=(0,l.NC)(pe.V2e),{data:o,queryKey:c}=(0,wl.Z)(bl.O,[{uri:s,shouldUseNewProfileSettingsParam:a}]),d=(0,i.useCallback)(async e=>{await(0,bl.me)(vl.n.getInstance(),{uri:s,...e})},[s]),u=(0,X.n)({mutationFn:d,onMutate:async t=>{await e.cancelQueries({queryKey:c});const s=e.getQueryData(c);return e.setQueryData(c,e=>({...e??{},...t})),{prevState:s}},onError:(t,s,i)=>{e.setQueryData(c,i?.prevState),n(r.Ru.get("error.generic"))},onSettled:()=>{e.invalidateQueries({queryKey:c})}});return{showFollows:o?.showFollows??!0,setShowFollows:e=>u.mutate({showFollows:e}),showPublishedPlaylists:o?.showPublishedPlaylists??!0,setShowPublishedPlaylists:e=>u.mutate({showPublishedPlaylists:e})}},Sl=()=>{const{showPublishedPlaylists:e,setShowPublishedPlaylists:t}=kl(),s=ae(),l=(0,i.useCallback)(e=>{s(ne.PLAYLISTS_ON_PROFILE,e),t(e)},[t,s]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("web-player.settings.playlists.on-profile-description"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.playlistsOnProfile",children:r.Ru.get("web-player.settings.playlists.on-profile-description")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.playlistsOnProfile",value:e,onSelected:l})})]})})},Rl=()=>(0,l.NC)(pe.V2e)?(0,x.jsx)(Sl,{}):null,Cl=()=>{const[e,t]=(()=>{const e=(0,G.jE)(),{user:t}=(0,U.d4)(mi.Ht),s=t?.uri??"",{enqueueSnackbar:l}=(0,Ls.d)(),{data:n,queryKey:a}=(0,wl.Z)(bl.kp,[{uri:s}]),o=(0,i.useCallback)(async({showFollows:e})=>{await(0,bl.gN)(vl.n.getInstance(),{uri:s,showFollows:e})},[s]),c=(0,X.n)({mutationFn:o,onMutate:async t=>{await e.cancelQueries({queryKey:a});const s=e.getQueryData(a);return e.setQueryData(a,t),{prevState:s,newState:t}},onError:(t,s,i)=>{e.setQueryData(a,i?.prevState),l(r.Ru.get("error.generic"))},onSettled:()=>{e.invalidateQueries({queryKey:a})}});return[n?.showFollows??!0,c.mutate]})(),s=ae(),l=(0,i.useCallback)(e=>{s(ne.SHOW_FOLLOWS,e),t({showFollows:e})},[t,s]);return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.showFollows"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.showFollows",children:r.Ru.get("desktop.settings.showFollows")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.showFollows",value:e,onSelected:l})})]})},Ml=()=>{const{showFollows:e,setShowFollows:t}=kl(),s=ae(),l=(0,i.useCallback)(e=>{s(ne.SHOW_FOLLOWS,e),t(e)},[t,s]);return(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.showFollows"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.showFollows",children:r.Ru.get("desktop.settings.showFollows")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.showFollows",value:e,onSelected:l})})]})},El=()=>(0,l.NC)(pe.V2e)?(0,x.jsx)(Ml,{}):(0,x.jsx)(Cl,{}),Nl=()=>{const e=(0,l.NC)(pe.FtE),t=(0,Me.t)(),[{data:s},{mutate:o}]=(0,Ee.K)(t.social.listPrivateByDefault),[{data:c},{mutate:d}]=(0,Ee.K)(t.social.autoPublishPlaylist),[{data:u},{mutate:h}]=(0,Ee.K)(t.social.shareListeningActivity),[{data:g},{mutate:m}]=(0,Ee.K)(t.social.privateSession),[{data:j},{mutate:y}]=(0,Ee.K)(t.social.showMyTopArtists),f=H(W.a.PUBLISH_LISTENING_ACTIVITY),v=H(W.a.PUBLISH_NEW_PLAYLISTS),b=ae(),w=(0,i.useCallback)(e=>{b(ne.LIST_PRIVACY,e),o(!e)},[b,o]),k=(0,i.useCallback)(e=>{b(ne.PUBLISH_ACTIVITY,e),h(e)},[b,h]),R=(0,i.useCallback)(e=>{b(ne.AUTO_PUBLISH_PLAYLIST,e),d(e)},[b,d]),M=(0,i.useCallback)(e=>{b(ne.PRIVATE_SESSION,e),m(e)},[b,m]),E=(0,i.useCallback)(e=>{b(ne.SHOW_MY_TOP_ARTISTS,e),y(e)},[b,y]);return void 0!==s&&void 0!==c&&void 0!==g?(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("desktop.settings.social"),children:[(0,x.jsx)(T,{children:r.Ru.get("desktop.settings.social")}),e&&(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.listPrivacy"),children:[(0,x.jsxs)(_,{canHaveSubtitle:!0,children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.listPrivacy",children:r.Ru.get("desktop.settings.listPrivacy")}),(0,x.jsx)(Wt,{text:r.Ru.get("desktop.settings.listPrivacy.subtitle")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.listPrivacy",value:!s,onSelected:w})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.newPlaylistsPublic"),children:[(0,x.jsxs)(_,{canHaveSubtitle:!0,children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.newPlaylistsPublic",children:r.Ru.get("desktop.settings.newPlaylistsPublic")}),(0,x.jsx)(Wt,{text:r.Ru.get("desktop.settings.newPlaylistsPublic-subtitle")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.newPlaylistsPublic",value:c,onSelected:R,ref:v})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.privateSession"),children:[(0,x.jsxs)(_,{children:[(0,x.jsx)(p,{htmlFor:"desktop.settings.privateSession",children:r.Ru.get("desktop.settings.privateSession")}),(0,x.jsx)(Bi,{message:r.Ru.get("desktop.settings.privateSession.tooltip")})]}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.privateSession",value:g,onSelected:M})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.publishActivity"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.publishActivity",children:r.Ru.get("desktop.settings.publishActivity")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.publishActivity",disabled:g,value:!g&&!!u,onSelected:k,ref:f})})]}),(0,x.jsx)(Rl,{}),(0,x.jsx)(El,{}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("desktop.settings.publishTopArtists"),children:[(0,x.jsx)(_,{children:(0,x.jsx)(p,{htmlFor:"desktop.settings.publishTopArtists",children:r.Ru.get("desktop.settings.publishTopArtists")})}),(0,x.jsx)(C,{children:(0,x.jsx)(B.l,{id:"desktop.settings.publishTopArtists",disabled:g,value:!g&&!!j,onSelected:E})})]}),(0,x.jsxs)(S,{filterMatchQuery:r.Ru.get("web-player.settings.social.connected-apps.title"),children:[(0,x.jsx)(_,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(p,{htmlFor:"web-player.settings.social.connected-apps.title",semanticColor:"textBase",variant:"bodyMedium",children:r.Ru.get("web-player.settings.social.connected-apps.title")})}),(0,x.jsx)(p,{htmlFor:"web-player.settings.social.connected-apps.description",children:r.Ru.get("web-player.settings.social.connected-apps.description")})]})}),(0,x.jsx)(C,{children:(0,x.jsx)(n.n,{id:"web-player.settings.social.connected-apps.cta",size:"small",href:"https://www.spotify.com/account/apps/",target:"_blank",rel:"noopener noreferrer",iconTrailing:a.H,children:r.Ru.get("web-player.settings.social.connected-apps.cta")})})]})]}):null};var Al=s(87861),Fl=s(39589),_l=s(48888),Ql=s(90648),Il=s(44451);const Ll=(e,t)=>{if(((e,t)=>e.includes(t))(e,t))return t;const s=[...e].sort((e,t)=>e-t);let i=s[0];for(const e of s){if(t<i)return i;if(t>i&&t<e)return t-i<e-t?i:e;t>e&&(i=e)}return i};var Ol=s(66391),Tl=s(52091);const Dl=()=>{const e=(0,Me.t)(),[{data:t},{mutate:s}]=(0,Ee.K)(e.viewportZoom),l=(0,i.useCallback)(e=>{s((0,Tl.o)(e))},[s]);return[(0,i.useMemo)(()=>Ll(Ol.Gu,(0,Tl.I)(t??0)),[t]),l]},Pl=({className:e,isSelected:t})=>{const s="currentColor";return(0,x.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 76 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,x.jsx)("g",{filter:"url(#filter0_i_37_26767)",children:(0,x.jsxs)("g",{clipPath:"url(#clip0_37_26767)",children:[(0,x.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"black"}),(0,x.jsx)("rect",{x:"2",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"20.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"39",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"57.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"2",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"20.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"39",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"57.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"2",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"21",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"39",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"57",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"2",y:"42.3333",width:"17",height:"19",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"21",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"39",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"57",y:"42.3333",width:"17",height:"19",rx:"2",fill:s})]})}),(0,x.jsxs)("defs",{children:[(0,x.jsxs)("filter",{id:"filter0_i_37_26767",x:"0",y:"0",width:"76",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,x.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,x.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,x.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,x.jsx)("feOffset",{dy:"-2"}),(0,x.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,x.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,x.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26767"})]}),(0,x.jsx)("clipPath",{id:"clip0_37_26767",children:(0,x.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"white"})})]})]})},zl=({className:e,isSelected:t})=>{const s="currentColor";return(0,x.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 74 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,x.jsx)("g",{filter:"url(#filter0_i_37_26795)",children:(0,x.jsxs)("g",{clipPath:"url(#clip0_37_26795)",children:[(0,x.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"black"}),(0,x.jsx)("rect",{x:"1",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"19.25",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"37.5",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"55.75",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"1",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"19.25",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"37.5",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"55.75",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"1",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"15.6001",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"30.2002",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"44.7998",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"59.3999",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"1",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"15.6001",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"30.2002",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"44.7998",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"59.3999",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"1",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"15.6001",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"30.2002",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"44.7998",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"59.3999",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"1",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"15.6001",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"30.2002",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"44.7998",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"59.3999",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s})]})}),(0,x.jsxs)("defs",{children:[(0,x.jsxs)("filter",{id:"filter0_i_37_26795",x:"0",y:"0",width:"74",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,x.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,x.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,x.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,x.jsx)("feOffset",{dy:"-1"}),(0,x.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,x.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,x.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26795"})]}),(0,x.jsx)("clipPath",{id:"clip0_37_26795",children:(0,x.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"white"})})]})]})},ql=({className:e,isSelected:t})=>{const s="currentColor";return(0,x.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 78 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,x.jsx)("g",{filter:"url(#filter0_i_37_26744)",children:(0,x.jsxs)("g",{clipPath:"url(#clip0_37_26744)",children:[(0,x.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"black"}),(0,x.jsx)("rect",{x:"3",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"40.479",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"3",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"40.479",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"3",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"40.479",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"3",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"40.479",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,x.jsx)("rect",{x:"3",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"28",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,x.jsx)("rect",{x:"53",y:"37",width:"22",height:"23",rx:"2",fill:s})]})}),(0,x.jsxs)("defs",{children:[(0,x.jsxs)("filter",{id:"filter0_i_37_26744",x:"0",y:"0",width:"78",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,x.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,x.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,x.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,x.jsx)("feOffset",{dy:"-3"}),(0,x.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,x.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,x.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26744"})]}),(0,x.jsx)("clipPath",{id:"clip0_37_26744",children:(0,x.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"white"})})]})]})},Ul="daWnjI73S4aYqpescEoo",Bl="S1O4Ih6v6v7fRygP4KCo",Kl="lf4yTZ4yMVfKmCA5SMPw",Hl="k10w3NoptP37zkdXpvjg",Wl="q4cWz1w26csxbt9rrhKW",Vl="g9hCW2WLsBgZP6SDKkTv",Yl="UYa1Biqvt3rEVXNnYv10",Gl="Zh1AxZ9mZXkGv7K21x_w",Zl="sooB579EtlHyHPIY7ewb",Xl="IPTj3y235_KY00eMEBnw",Jl="gBJTUZKdgGUROUeJ4aGH",$l="JA7jYi2fh9_bgpnNWdMP",en="bmjc4PhQ8Kj82v4Mr2tK",tn="tbzmeqnI4LX_csLw5OiD",sn=({isSelected:e,isFocused:t})=>(0,x.jsx)("div",{className:j()(Xl,{[Jl]:e,[$l]:t})}),ln=({isSelected:e,isFocused:t,percentage:s})=>{const i=cn(s);return(0,x.jsxs)("div",{className:Hl,children:[(0,x.jsx)(sn,{isSelected:!!e,isFocused:!!t}),(0,x.jsx)(u.E,{as:"div",variant:"bodySmall",semanticColor:"textSubdued",children:i})]})},nn=({isSelected:e,label:t,children:s})=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:j()(Yl,{[Zl]:e}),children:s}),(0,x.jsx)(dn,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),an=({onClick:e,children:t})=>(0,x.jsx)("button",{className:Bl,onClick:e,tabIndex:-1,children:t}),rn=({value:e,Image:t,label:s,onClick:i})=>{const[l]=Dl(),n=l===e;return(0,x.jsx)(an,{onClick:()=>i(e),children:(0,x.jsx)(nn,{isSelected:n,label:s,children:(0,x.jsx)(t,{className:j()(Gl,{selected:n}),isSelected:n})})})},on=()=>{const[e,t]=Dl(),{logSelectZoomLevel:s,logReset:l}=(()=>{const{spec:e,logger:t}=(0,Il.D)(Ql.T,{});return{logReset:(0,i.useCallback)(()=>{const s=e.resetButtonFactory().hitSetSettingField();t.logInteraction(s)},[t,e]),logSelectZoomLevel:(0,i.useCallback)(s=>{const i=e.zoomLevelRadioButtonFactory({identifier:s.toString()}).hitSetSettingField();t.logInteraction(i)},[t,e])}})(),a=(0,i.useCallback)(e=>{const i=Ll(Ol.Gu,"number"==typeof e?e:parseInt(e,10));s(i),t(i)},[s,t]),o=(0,i.useCallback)(()=>{l(),t(100)},[l,t]),c=r.Ru.get("web-player.settings.zoom.shortcut-description",(0,x.jsxs)("span",{className:en,children:[(0,x.jsx)(_l.U,{children:"mod"}),(0,x.jsx)(_l.U,{children:"-"})]}),(0,x.jsxs)("span",{className:en,children:[(0,x.jsx)(_l.U,{children:"mod"}),(0,x.jsx)(_l.U,{children:"+"})]}));return(0,x.jsxs)(O,{filterMatchQuery:r.Ru.get("web-player.settings.zoom.title"),children:[(0,x.jsx)(T,{children:r.Ru.get("web-player.settings.zoom.title")}),(0,x.jsx)(S,{className:tn,filterMatchQuery:r.Ru.get("web-player.settings.zoom.description"),children:(0,x.jsx)(u.E,{semanticColor:"textSubdued",variant:"bodySmall",children:r.Ru.get("web-player.settings.zoom.description")})}),(0,x.jsx)(S,{className:tn,filterMatchQuery:r.Ru.get("web-player.settings.zoom.shortcut-description"),children:(0,x.jsx)(u.E,{semanticColor:"textSubdued",variant:"bodySmall",children:c})}),(0,x.jsxs)("div",{className:Kl,children:[(0,x.jsxs)("div",{className:Vl,children:[(0,x.jsx)(rn,{Image:zl,value:70,label:r.Ru.get("web-player.settings.zoom.compact-label"),onClick:a}),(0,x.jsx)(rn,{Image:Pl,value:100,label:r.Ru.get("web-player.settings.zoom.balanced-label"),onClick:a}),(0,x.jsx)(rn,{Image:ql,value:130,label:r.Ru.get("web-player.settings.zoom.larger-label"),onClick:a})]}),(0,x.jsx)(Fl.z6,{className:Ul,orientation:"horizontal",value:e.toString(),onChange:a,"aria-label":r.Ru.get("web-player.settings.zoom.zoom-level-radio-button-label"),children:Ol.Gu.map(t=>(0,x.jsx)(Fl.sx,{className:Hl,value:t.toString(),"aria-label":cn(t),children:({isFocusVisible:s})=>(0,x.jsx)(ln,{percentage:t,isSelected:e===t,isFocused:s})},t))})]}),(0,x.jsx)("div",{className:Wl,children:(0,x.jsx)(n.n,{id:"web-player.settings.zoom.reset-button",size:"small",onClick:o,children:r.Ru.get("web-player.settings.zoom.reset-button-label")})})]})};function cn(e){return r.Ru.formatNumber(e,{unit:"percent",unitDisplay:"narrow",style:"unit"})}var dn=(0,Al.Ay)(u.E).withConfig({displayName:"ZoomLevelSettings___StyledText",componentId:"sc-1mlb5iy-0"})({textAlign:"center"}),un=s(20276),hn=s(65823);const gn=()=>{const e=(0,i.useRef)(null),[t]=(0,Ei.y)(),s=(0,l.NC)(pe.YSK),n=(()=>{const e=(0,K.zy)(),t=(0,un.o)(hn.P.LibraryImportSettings,e),s=(0,l.NC)(pe.fVA);return t||s===pe.P$_.Enabled})();return(0,x.jsxs)(be,{outerRef:e,children:[(0,x.jsx)(Ce,{containerRef:e}),(0,x.jsx)(q,{}),(0,x.jsx)(Mi,{}),s?(0,x.jsx)(le,{sectionAbove:(0,x.jsx)(Si,{})}):(0,x.jsx)(Ri,{}),(0,x.jsx)(ti,{}),(0,x.jsx)(fl,{}),(0,x.jsxs)(ce,{children:[(0,x.jsx)(oe,{}),(0,x.jsx)(Ni,{}),n&&(0,x.jsx)(fe,{})]}),t?(0,x.jsx)(Li,{}):null,(0,x.jsx)(xi,{}),(0,x.jsx)(on,{}),(0,x.jsx)(Nl,{}),(0,x.jsx)(ei,{}),(0,x.jsx)(bi,{})]})}},18102:(e,t,s)=>{s.d(t,{z:()=>h});var i=s(97500),l=s.n(i),n=s(78717),a=s(37899);const r="V9GRZQZ3uJmUnFN01U1g",o="ZbHitd4viR91nboFOgnA",c="P_P6T7By5EoxYpE7Iytg",d="rz3ATID9k1sp_f_ptlV_";var u=s(86070);const h=({message:e,isErrorMessage:t=!1,className:s})=>e?(0,u.jsx)("div",{role:"alert",children:(0,u.jsx)("div",{className:l()(r,s,{[o]:t}),children:(0,u.jsxs)(n.E,{as:"p",variant:"marginal",className:c,children:[(0,u.jsx)(a.b,{size:"small",className:d,"aria-hidden":"true"}),e]})})}):null},23382:(e,t,s)=>{s.d(t,{l:()=>h});var i=s(30758),l=s(97500),n=s.n(l);const a="x-toggle-wrapper",r="x-toggle-indicator",o="hHbxQzEOQZOm1TWz5Tqg",c="x-toggle-indicatorWrapper",d="x-toggle-input";var u=s(86070);const h=(0,i.forwardRef)(({value:e,disabled:t,onSelected:s,onClick:i,id:l,className:h,condensed:g=!1},x)=>(0,u.jsxs)("label",{className:n()(a,h),onClick:i,children:[(0,u.jsx)("input",{id:l,className:d,type:"checkbox",disabled:t,checked:e,onChange:e=>{const t=e.target.checked;s(t)},ref:x}),(0,u.jsx)("span",{className:n()(c,{[o]:g}),children:(0,u.jsx)("span",{className:n()(r,{[o]:g})})})]}))},30107:(e,t,s)=>{s.d(t,{A:()=>i});const i={container:"dxmO4YFbWJWft8k1u1xd",content:"eo4j5igFTz3H5e4k0H1J",header:"ATkkQRxE5WWpnf8SaZuw",closeBtn:"E4o4nmb_rcE36geHpbqm",textElement:"IgkFBAgYtcmoHcyhUkHg",titleInput:"j9ZOu8otCKDEdTV94xmv",save:"N9xswHLFFYR3nJlxBv0g",name:"qG5Eyi3UNYC2tM3crUsk",titleInputWithPadding:"zfx2ty7eth_hdRWr_oHZ",titleCharacterCounter:"iuHeZPqw8sP3Z3YI65OA",infoBannerNoMargin:"QnMNNG7jGJz1IC9dm3Kw"}},46019:(e,t,s)=>{s.d(t,{V:()=>r});var i=s(91198),l=s(59867),n=s(70613),a=s(56317);const r=()=>{const e=(0,i.NC)(n.DUX,{loadingValue:!1}),t=(0,i.NC)(n.EEm,{loadingValue:!1}),{operatingSystem:s,isDeveloperMode:r}=(0,l.mv)(),o=s===a.f.Windows;return r&&t||o&&e}},57912:(e,t,s)=>{s.d(t,{r:()=>i.rI,t:()=>i.tf});var i=s(98239)},67245:(e,t,s)=>{s.d(t,{fZ:()=>m,Ll:()=>j,UC:()=>y});var i=s(30758),l=s(70499),n=s(89437),a=s(13343),r=s(63102),o=s(94209);var c=s(20362),d=s(51272),u=s(95958);const h=(0,l.v)(e=>({exclusiveModeEnabled:void 0,selectedAudioOutputDevice:a.y,setStoreExclusiveModeEnabled:t=>e({exclusiveModeEnabled:t}),setStoreSelectedAudioOutputDevice:t=>e({selectedAudioOutputDevice:t})})),g=()=>{const e=(0,o.N)(r.t);return{setSelectedAudioOutputDevice:(0,i.useCallback)(async t=>{await e.setSelectedAudioOutputDevice(t)},[e]),getSelectedAudioOutputDevice:(0,i.useCallback)(async()=>{const t=await e.getSelectedAudioOutputDevice();return t||a.y},[e]),setExclusiveModeEnabled:(0,i.useCallback)(async t=>{await e.setExclusiveModeEnabled(t)},[e]),getExclusiveModeEnabled:(0,i.useCallback)(async()=>await e.getExclusiveModeEnabled()??!1,[e])}},x={id:a.y,name:"System Default",fullName:"System Default Audio Device"},p=e=>({id:e.id,name:e.name,fullName:e.fullName}),m=()=>{const e=(0,d.V)(),[t,s]=(0,i.useState)([x,...e.getDevices().map(p)]);return(0,u.k)(c.B.DEVICE_CONNECTED,()=>{s([x,...e.getDevices().map(p)])}),t},j=()=>{const{getExclusiveModeEnabled:e,setExclusiveModeEnabled:t}=g(),s=(0,n.k)(e=>({exclusiveModeEnabled:e.exclusiveModeEnabled,setStoreExclusiveModeEnabled:e.setStoreExclusiveModeEnabled})),{exclusiveModeEnabled:l,setStoreExclusiveModeEnabled:a}=h(s);(0,i.useEffect)(()=>{e().then(a)},[e,a]);return[l,(0,i.useCallback)(e=>{t(e),a(e)},[t,a])]},y=()=>{const{getSelectedAudioOutputDevice:e,setSelectedAudioOutputDevice:t}=g(),s=(0,n.k)(e=>({selectedAudioOutputDevice:e.selectedAudioOutputDevice,setStoreSelectedAudioOutputDevice:e.setStoreSelectedAudioOutputDevice})),{selectedAudioOutputDevice:l,setStoreSelectedAudioOutputDevice:r}=h(s),[o,c]=j();(0,i.useEffect)(()=>{e().then(r)},[e,r]);return[l,(0,i.useCallback)(e=>{const s=e===a.y;t(s?"":e),r(e),s&&c(!1)},[c,t,r])]}},67692:(e,t,s)=>{s.d(t,{d:()=>n});var i=s(30758),l=s(27128);const n=()=>(0,i.useContext)(l.D)},68467:(e,t,s)=>{s.d(t,{y:()=>n});var i=s(30758),l=s(11085);function n(){const e=(0,l.A)(),[t,s]=(0,i.useState)(e.getIsEnabled());(0,i.useEffect)(()=>{const t=e.subscribeIsEnabled(s);return()=>t()},[e]);return[t,(0,i.useCallback)(t=>e.setIsEnabled(t),[e])]}},80243:(e,t,s)=>{s.d(t,{C:()=>d});var i=s(30758),l=s(97500),n=s.n(l),a=s(84826);const r="main-dropDown-dropDown",o="main-dropDown-isSafari";var c=s(86070);const d=(0,i.forwardRef)(({value:e,id:t,children:s,disabled:i,onClick:l,preventMenu:d=!1,onSelect:u,className:h,dir:g},x)=>(0,c.jsx)("span",{className:h,children:(0,c.jsx)("select",{ref:x,className:n()(r,{[o]:(0,a.n)()}),value:e?.toString(),id:t,disabled:i,onClick:l,onBlur:()=>{},onChange:e=>{u(e.target.value)},onPointerDown:e=>{d&&e.preventDefault()},onKeyDown:e=>{("Space"===e.code||"ArrowDown"===e.code||"ArrowUp"===e.code)&&(d&&e.preventDefault(),l?.(e))},dir:g,children:s})}))},88072:(e,t,s)=>{s.d(t,{H:()=>n});var i=s(72344),l=s(86070);const n=e=>(0,l.jsx)(i.m,{...e})},88236:(e,t,s)=>{s.d(t,{K:()=>n});var i=s(73639),l=s(94209);function n(){return(0,l.N)(i.a)}},98117:(e,t,s)=>{s.d(t,{a:()=>i});let i=function(e){return e.AUDIO_QUALITY_STEAMING="audio_quality_streaming",e.AUDIO_QUALITY_STEAMING_REMOTE="audio_quality_streaming_remote",e.DSA="dsa",e.PUBLISH_LISTENING_ACTIVITY="publish_listening_activity",e.PUBLISH_NEW_PLAYLISTS="publish_new_playlists",e.OUTPUT_DEVICE_SELECTION="output_device_selection",e}({})}}]);
//# sourceMappingURL=xpui-routes-desktop-settings.js.map