(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4084,9319],{6936:function(e,t,a){e.exports=function(e){"use strict";function t(e,t,i,r){return void 0===t&&(t={}),Object.keys(t).reduce(function(n,s){if(/^on.*/.test(s))return n;var l=s;/^(data|aria)-/.test(s)||0===i.filter(function(e){return e instanceof RegExp?e.test(s):e===s}).length&&(l=a(s));var o,c,d=r(e,l);if("style"===d.name)n[d.name]=(o=t.style,c={},o.split(";").filter(function(e){return""!==e.trim()}).forEach(function(e){var t,i=e.split(":");if(i.length>1){var r=function(e){return/^-ms-/.test(e)&&(e=e.substr(1)),e.startsWith("--")?e:a(e)}(i[0].trim()),n=(t=i.slice(1).join(":").trim(),/^\d+$/.test(t)?Number(t):t.replace(/'/g,'"'));c[r]=n}}),c);else{var u=t[s],m=""===u||String(u).toLowerCase()===l.toLowerCase();n[d.name]=d.isBoolean?m:u}return n},{})}function a(e){return e.replace(/(-|:)(.)/g,function(e,t,a){return a.toUpperCase()})}e=e&&e.hasOwnProperty("default")?e.default:e;var i=["table","tbody","thead","tfoot","tr"],r={for:"htmlFor",class:"className",allowfullscreen:["allowFullScreen","allowFullscreen"],autocomplete:"autoComplete",autofocus:["autoFocus"],contenteditable:"contentEditable",spellcheck:"spellCheck",srcdoc:"srcDoc",srcset:"srcSet",itemscope:"itemScope",itemprop:"itemProp",itemtype:"itemType"};function n(e,t){var a=r[t],i=document.createElement(e);if(a)return{name:Array.isArray(a)?a[0]:a,isBoolean:s(i,Array.isArray(a)?a[1]||t:a)};for(var n in i)if(n.toLowerCase()===t.toLowerCase())return{name:n,isBoolean:s(i,n)};return{name:t,isBoolean:s(i,t)}}function s(e,t){return e.setAttribute(t,""),!0===e[t]||l.indexOf(t)>-1}var l=["itemScope"];function o(t,a,i,r){void 0===r&&(r=null);var n=i[t],s=i._;return n?e.createElement(n,a,r):s?s(t,a,r):e.createElement(t,a,r)}return function(e,a){if(void 0===a&&(a={}),"string"!=typeof e)throw new TypeError("Expected HTML string");var r=document.createElement("div");r.innerHTML=e.trim();var s=Array.from(r.childNodes).map(function(e,r){return function e(a,r,s){var l=s.transform||{},c=s.preserveAttributes||[],d=s.dangerouslySetChildren||["style"],u=l._;if(8===a.nodeType)return null;if(3===a.nodeType){var m=a.textContent;return u?u(m):m}for(var p={},g=a.attributes,h=0;h<g.length;h++)p[g[h].name]=g[h].value;p.key=r.toString();var y=a.tagName.toLowerCase(),f=t(y,p,c,n),v=Array.from(a.childNodes).map(function(t,a){return i.indexOf(y)>-1&&3===t.nodeType&&(t.textContent=t.textContent.trim(),""===t.textContent)?null:e(t,r+"."+a,s)}).filter(Boolean);if(d.indexOf(y)>-1){var x=a.innerHTML;return x&&("style"!==y&&"script"!==y&&(x=x.replace(/"/g,"&quot;")),f.dangerouslySetInnerHTML={__html:x.trim()}),o(y,f,l)}var w=0===v.length?null:v;return o(y,f,l,w)}(e,String(r),a)}).filter(Boolean);return 1===s.length?s[0]:s}}(a(30758))},16447:(e,t,a)=>{"use strict";a.d(t,{xh:()=>g,Gv:()=>b,S:()=>h,_v:()=>f,e$:()=>v});a(54091);var i=a(72045),r=a(89307),n=a(39140),s=a(85003);const l="recent";var o=a(1280),c=a(82567),d=a(10183),u=a(19206);function m(e){switch(e){case i.$c.AgeRestricted:return n.Uk.AgeRestricted;case i.$c.CatalogueRestricted:return n.Uk.CatalogueRestricted;case i.$c.CountryRestricted:return n.Uk.CountryRestricted;case i.$c.Explicit:return n.Uk.Explicit;case i.$c.PaymentRequired:return n.Uk.PaymentRequired;case i.$c.Playable:return n.Uk.Playable;case i.$c.Unavailable:default:return n.Uk.Unavailable}}function p(e,t=!1){return{playable:!t&&e.playable,reason:t?n.Uk.Anonymous:m(e.reason)}}function g(e){return e.previewPlayback?.audioPreview?.cdnUrl?{url:e.previewPlayback.audioPreview.cdnUrl}:null}function h(e){const t="Podcast"!==(a=e.podcastV2).data.__typename?null:{uri:a.data.uri,name:a.data.name,coverArt:a.data.coverArt?.sources||[],trailer:(i=a.data.trailerV2,("Episode"===i?.data.__typename?{uri:i.data.uri}:null)||null),showTypes:(a.data.showTypes||[]).filter(y)};var a,i;const n=(0,c.Wx)(e?.restrictions,e.playability),l=(0,u.p)(e.gatedEntityRelations)?.accessInfo,o=(0,u.v)(l);return{type:r.c.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:t,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:e.coverArt?.sources||[],audio:e.audio,releaseDate:(d=e.releaseDate,d?{isoString:d.isoString,precision:d.precision}:null),playedState:e.playedState,playability:p(e.playability),audioPreview:g(e),sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:n,contentInformation:e.contentInformation,transcript:e.transcripts?.items||null,upsellExplanation:o?w(o):null,gatedEntityRelations:b(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(l?.isUserMemberOfAtLeastOneGroup),dynamicColors:(0,s.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===e.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?e.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map(e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})):null};var d}function y(e){return!!e}function f(e){const t="Episode"===e.trailerV2?.data.__typename?(a=e.trailerV2.data,{type:r.c.EPISODE,uri:a.uri,name:a.name,coverArt:a.coverArt?.sources||[],audio:a.audio,audioPreview:g(a),sharingInfo:a.sharingInfo,duration:{milliseconds:a.duration.totalMilliseconds},contentRating:a.contentRating,mediaTypes:a.mediaTypes}):null;var a;const i=(0,o.q)(e?.accessInfo?.unlockedBy),n=(0,u.p)(e.gatedEntityRelations),s=(0,u.v)(n?.accessInfo);return{type:r.c.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],trailer:t,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(y),publisherName:e.publisher?.name||"",consumptionOrder:l,gatedContentAccessReason:i,isLocked:null===i,rating:e.rating,isSaved:e.saved,gatedEntityRelations:b(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(!!n&&n?.accessInfo?.isUserMemberOfAtLeastOneGroup),upsellExplanation:s?w(s):null,gatedEntityCoverArt:n?.coverArt?.sources||null}}function v(e){const t=!1===e?.isUserMemberOfAtLeastOneGroup,a=e?.unlockedBy?.includes(i.UG.Abp);return t&&!a}function x(e){return null!==e.displayText}function w({title:e,body:t,actionText:a,url:i}){return e&&t&&a&&i?{title:e,body:t,cta:a,url:i}:null}function b(e){return{entitiesWithValueProps:e.map(({badges:e,relatedEntity:t,summary:a,fallbackGatedEntity:i})=>"EpisodeResponseWrapper"===t?.__typename||"PodcastResponseWrapper"===t?.__typename?{uri:t._uri,summary:a?.forUserWithoutAccess?{forUserWithoutAccess:a.forUserWithoutAccess,forUserWithAccess:a.forUserWithAccess??void 0}:void 0,valueProps:e.filter(x),fallbackNavigation:i?.description?{uri:i.uri,description:i?.description}:void 0}:null).filter(d.P)}}},18813:(e,t,a)=>{"use strict";a.d(t,{R:()=>p});var i=a(30758),r=a(90113),n=a(41045);function s(e,t,a=!1){if(!e)return void console.error("No list element found. Canceling moving focus");if(!(0,n.fk)(e))return;const i=e.querySelector('[tabindex="0"]');t===r.O.UP&&(0,n.MS)(i,l(e,i,r.O.UP,a)),t===r.O.DOWN&&(0,n.MS)(i,l(e,i,r.O.DOWN,a)),t===r.O.RIGHT&&(0,n.MS)(i,o(i,r.O.RIGHT,a)),t===r.O.LEFT&&(0,n.MS)(i,o(i,r.O.LEFT,a)),t===r.O.HOME&&(0,n.MS)(i,c(r.O.HOME,a)??i),t===r.O.END&&(0,n.MS)(i,c(r.O.END,a)??i)}function l(e,t,a,i=!1){const s=t.closest('li[role="row"]');if(!s)return t;let l=s;const c=Array.from(e.querySelectorAll('li[role="row"]')),d=Array.from(s.querySelectorAll(n.nu)),u=c.indexOf(s);if(u<0)return t;const m=(i&&t!==d[0]||!i&&t!==s)&&!(t instanceof HTMLLIElement);if(a===r.O.UP){if(document.activeElement===e){l=c[c.length-1];return(i?l?.querySelector(n.nu):l)??t}if(m)return o(t,r.O.LEFT,i);let a=u-1;if(-1===a)return t;l=c[a],a-=1}else if(a===r.O.DOWN){if(document.activeElement===e){l=c[0];return(i?l?.querySelector(n.nu):l)??t}if(m)return o(t,r.O.RIGHT,i);let a=u+1;if(a===c.length)return t;l=c[a],a+=1}return(i?l?.querySelector(n.nu):l)??t}function o(e,t,a=!1){const i=e.closest('li[role="row"]');if(!i)return e;let s=e;const l=Array.from(i.querySelectorAll(n.nu)),o=l.indexOf(e);let c=0;if(t===r.O.RIGHT&&o-1!==l.length)c=o+1;else{if(t===r.O.LEFT&&-1===o)return i;if(t===r.O.LEFT&&0!==o)c=o-1;else if(t===r.O.LEFT&&0===o){return(a?i.querySelector(n.nu):i)??i}}return s=l.at(c),s??e}function c(e,t=!1){const{currentFocus:a,listEl:i}=function(){const e=document.activeElement,t=e?.closest("ul");return((0,r.I)(e)||e instanceof HTMLLIElement)&&t?{currentFocus:e,listEl:t}:{currentFocus:null,listEl:null}}();if(null===a||null===i)return null;const s=a.closest('li[role="row"]');if(!s)return a;const l=Array.from(i.querySelectorAll('li[role="row"]')),o=Array.from(s.querySelectorAll(n.nu));if(l.indexOf(s)<0)return a;const c=t&&a===o[0]||!t&&a===s;if(e===r.O.HOME){if(c){return(t?l[0]?.querySelector(n.nu):l[0])??a}return(t?o[1]:o[0])??a}if(e===r.O.END){if(c){return(t?l[l.length-1]?.querySelector(n.nu):l[l.length-1])??a}return o[o.length-1]??a}return a}var d=a(60204),u=a(62142),m=a(86070);const p=(0,i.forwardRef)(({onKeyDown:e,children:t,firstInteractiveIsWrapper:a=!1,...l},o)=>{const c=(0,u.N)(o);(0,d.R)(c);const p=(0,i.useCallback)(t=>{c.current?.contains(t.target)&&("ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Home"!==t.key&&"End"!==t.key||t.preventDefault(),"ArrowUp"!==t.key&&"ArrowDown"!==t.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===t.key&&s(c.current,r.O.UP,a),"ArrowDown"===t.key&&s(c.current,r.O.DOWN,a),"ArrowRight"===t.key&&s(c.current,r.O.RIGHT,a),"ArrowLeft"===t.key&&s(c.current,r.O.LEFT,a),"Home"===t.key&&s(c.current,r.O.HOME,a),"End"===t.key&&s(c.current,r.O.END,a),e?.(t))},[a,c,e]),g=(0,i.useCallback)(e=>{if(!c.current)return;const t=e.target,a=c.current.querySelector('[tabindex="0"]');t.closest('li[role="row"]')&&t!==a&&(0,n.MS)(a,t,{preventScroll:!0})},[c]);return(0,m.jsx)("ul",{role:"treegrid",ref:c,onKeyDown:p,onFocus:g,tabIndex:0,...l,children:t})})},19266:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var i=a(30758),r=a(27360),n=a(58248);function s(e){const t=(0,r.o_h)(e);let a="";return t&&(a=t.toURLPath(!0)),function(e){const t=(0,n.g)();return(0,i.useCallback)(()=>{""!==e&&t(e)},[e,t])}(a)}},33552:(e,t,a)=>{"use strict";a.d(t,{j:()=>N});var i=a(44265),r=a(60404);const n="mVTn6QQxDKAnD1EMA4Uk",s="QMFXRnzqSLyffxlVjc5L",l="hDTw7hSkuNmc4oHSzGyw",o="hrpn74hZWYLnoPA8ot_a",c="rmVpmFOiLgc0ZTqDKAxX",d="DgqXGoNSiHX9aoAqr5fc";var u=a(78717),m=a(60940),p=a(54091),g=a(97500),h=a.n(g),y=a(51490),f=a(44629),v=a(57302);const x="yNVnNWaf8clcxvcacFlw";var w=a(86070);const b=({durationMs:e,className:t,displaySeconds:a})=>{const{hours:i,minutes:r,seconds:n}=(0,f.S)(e);a=!1!==a&&!i&&n;const s=(0,v.j)({h:i,m:r,s:a?n:0});return s?(0,w.jsx)("span",{className:h()(x,t),children:p.Ru.get("time.left",s)}):null},N=e=>{const{resumePositionMs:t=0,releaseDate:a,isPlaying:g,fullyPlayed:f,durationMs:v,position:x=t,compactVariant:N=!1,className:j,progressBarClassName:C,progressStateClassName:k,releaseDateClassName:S}=e,I=0===v?null:!f&&x>0||g?(0,w.jsx)("div",{className:h()(c,C),children:(0,w.jsx)(r.z,{current:x,max:v})}):null,E=a&&a.isoString?(0,w.jsx)(u.E,{as:"p",variant:"bodySmall",className:s,children:(0,i.V2)((0,i.ad)(a.isoString),a.precision)}):null,F=(()=>{if(0===v)return null;if(f&&!g)return(0,w.jsxs)("div",{className:h()(o,k),children:[(0,w.jsx)(u.E,{as:"p",variant:"bodySmall",className:l,children:p.Ru.get("episode.audiobook.chapter.finished")}),(0,w.jsx)(m.i,{size:"small",className:d,"aria-hidden":"true"})]});if(x>0||g){const e=Math.ceil(Math.max(v-x,0));return(0,w.jsx)("div",{className:h()(o,k),children:(0,w.jsx)(u.E,{as:"p",variant:"bodySmall",className:l,children:(0,w.jsx)(b,{durationMs:e,displaySeconds:!N&&void 0})})})}return(0,w.jsx)(u.E,{as:"p",variant:"bodySmall",className:h()(s,S),"data-testid":"episode-progress-not-played",children:(0,w.jsx)(y.d,{durationMs:v,displaySeconds:!N&&void 0})})})();return E||F||I?(0,w.jsxs)("div",{className:h()(n,j),children:[E,F,I]}):null}},41076:(e,t,a)=>{"use strict";a.d(t,{p:()=>k});var i=a(30758),r=a(97500),n=a.n(r),s=a(78717),l=a(73136),o=a(1722),c=a(84473);const d="(min-width: 0px)",u="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",p="(min-width: 768px) and (max-width: 1023px)",g="(min-width: 1024px)",h="(min-width: 1024px) and (max-width: 1279px)",y="(min-width: 1280px)",f="(min-width: 1280px) and (max-width: 1919px)",v="(min-width: 1920px)",x="U18p4XwxMNsV8wjKZfb7",w="aVQhB503S43aAUrn2SAS",b="PO83b2pflcAr9k1Wfw3w",N="u9_pKnSnRFLWexOr77Yf",j="gpEp5mFMDpGGHiOORDrv";var C=a(86070);const k=(0,i.memo)(function(e){const{children:t,message:a,title:i,linkTitle:r,linkTo:k,onClick:S,renderInline:I=!1}=e,{isXSOnly:E,isSMOnly:F}={isXS:(0,c.U)(d),isXSOnly:(0,c.U)(u),isSM:(0,c.U)(m),isSMOnly:(0,c.U)(p),isMD:(0,c.U)(g),isMDOnly:(0,c.U)(h),isLG:(0,c.U)(y),isLGOnly:(0,c.U)(f),isXL:(0,c.U)(v)},R=E||F;return(0,C.jsxs)("section",{className:n()(x,{[w]:I}),children:[t,(0,C.jsx)(s.E,{as:"h1",variant:R?"titleSmall":"titleMedium",className:N,children:i}),(0,C.jsx)(s.E,{variant:R?"bodySmall":"bodyMedium",className:j,children:a}),r&&(k||S)&&(0,C.jsx)(l.$,{colorSet:"invertedLight",className:b,href:k,onClick:S,component:o.v,children:r})]})})},45596:(e,t,a)=>{"use strict";a.d(t,{e:()=>o});var i=a(30758),r=a(3437),n=a(43114),s=a(86070);const l=i.memo(function({uri:e,size:t=r.M.md,className:a,onClick:l,showUpsell:o,canDownload:c,condensed:d}){const[u,m]=(0,n.A)(e),p=(0,i.useCallback)(()=>{m(!u)},[u,m]);return(0,s.jsx)(r.f,{className:a,isFollowing:u,onFollow:p,onClick:l,uri:e,size:t,showUpsell:o,canDownload:c,condensed:d})}),o=i.memo(function(e){return(0,s.jsx)(l,{...e})})},47170:(e,t,a)=>{"use strict";a.d(t,{m:()=>b});var i=a(47301),r=a(30758),n=a(64958),s=a(82462),l=a(92440),o=a(43580),c=a(40539),d=a(30920),u=a(73649),m=a(53495),p=a(46313),g=a(21765),h=a(28838),y=a(97202),f=a(51584),v=a(87861),x=f.Ay.button.withConfig({displayName:"ChipClear__ChipClearComponent",componentId:"sc-zv5btm-0"})(["",""],function(e){var t=e.$size,a=e.$isUsingKeyboard,i=e.$useBrowserDefaultFocusStyle;return(0,v.AH)(["",";",";",";border-radius:50%;display:inline-flex;vertical-align:middle;padding:",";transition-property:background-color,color;transition-duration:var(--shortest-3);transition-timing-function:var(--productive);background-color:",";&:hover{background-color:",";transition-duration:var(--shortest-1);}&:active{background-color:",";}&:disabled,&[aria-disabled='true']{background-color:",";opacity:",";cursor:",";}&:not(:last-child){margin-inline-end:",";margin-block-end:",";}"],(0,u.W)(),(0,m.y0)(i,!0),!i&&(0,p.X2)({isUsingKeyboard:a}),"sm"===t?(0,g.po)("tighter-2","8px"):(0,g.po)("tighter","12px"),(0,h.oj)(h.ZI.backgroundTintedBase),(0,h.oj)(h.ZI.backgroundTintedHighlight),(0,h.oj)(h.ZI.backgroundTintedPress),(0,h.oj)(h.ZI.backgroundTintedBase),y.ok,y.zM,(0,g.po)("tighter-2","8px"),(0,g.po)("tighter-2","8px"))}),w=["size"],b=r.forwardRef(function(e,t){var a=e.size,u=void 0===a?"sm":a,m=(0,i.A)(e,w),p=(0,r.useContext)(l.E).isUsingKeyboard,g=(0,r.useContext)(n.g).useBrowserDefaultFocusStyle,h=(0,r.useContext)(s.i_),y="sm"===u?"small":"medium";return"next"===(0,s.BS)(s.NH.chip,h)?r.createElement(c.v,Object.assign({ref:t,size:u,iconLeading:d.M},m,{"data-encore-id":o.j.ChipClear})):r.createElement(x,Object.assign({ref:t,$size:u,$isUsingKeyboard:p,$useBrowserDefaultFocusStyle:g},m,{"data-encore-id":o.j.ChipClear}),r.createElement(d.M,{size:y,"aria-hidden":"true"}))})},51490:(e,t,a)=>{"use strict";a.d(t,{d:()=>c});var i=a(97500),r=a.n(i),n=a(44629),s=a(57302);const l="ccqn2ecT3axu6r2mw0O5";var o=a(86070);const c=({durationMs:e,className:t,displaySeconds:a})=>{const{hours:i,minutes:c,seconds:d}=(0,n.S)(e);return a=!1!==a&&!i&&d,(0,o.jsx)("span",{className:r()(l,t),children:(0,s.j)({h:i,m:c,s:a?d:0})})}},57011:(e,t,a)=>{"use strict";a.d(t,{DT:()=>n,F:()=>i,nt:()=>r});const i="podcasts-chip",r="podcasts-following-chip",n="music-following-chip"},58381:(e,t,a)=>{"use strict";a.d(t,{P:()=>i.P});var i=a(68930)},60404:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var i=a(54091);const r={progressBar:"AuXvnACgU_oVoWnyCOKI",progressBarBg:"fLbQCgfoKkqhXY53m89w",progressBarFgWrapper:"sVbWQ3M_V1jUtEJ8VGAX",progressBarFg:"a_NGsCSTowFrDzp6UODF"};var n=a(57302),s=a(44629),l=a(86070);function o({ariaValueText:e,max:t,current:a}){const o={transform:`translateX(-${100-(t&&a?100*Math.min(1,a/t):0)}%)`},c=Math.ceil(Math.max(t-a,0)),{hours:d,minutes:u,seconds:m}=(0,s.S)(t),p=(0,n.j)({h:d,m:u,s:m}),{hours:g,minutes:h,seconds:y}=(0,s.S)(c),f=(0,n.j)({h:g,m:h,s:y}),v=e||i.Ru.get("time.left-of",f,p);return(0,l.jsxs)("div",{className:r.progressBar,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":v,children:[(0,l.jsx)("div",{className:r.progressBarBg}),(0,l.jsx)("div",{className:r.progressBarFgWrapper,children:(0,l.jsx)("div",{"data-testid":"progressBarFg",className:r.progressBarFg,style:o})})]})}},61962:(e,t,a)=>{"use strict";a.d(t,{X:()=>r});var i=a(32619);function r(e){return[i.kw.YES,i.kw.DOWNLOADING,i.kw.WAITING].includes(e)}},61984:(e,t,a)=>{"use strict";a.d(t,{WhatsNewFeed:()=>Et});var i=a(30758),r=a(73367),n=a(97500),s=a.n(n),l=a(78717),o=a(62960),c=a(91198),d=a(49570),u=a(54091),m=a(18813),p=a(80408),g=a(41076),h=a(59867),y=a(69698),f=a(6936),v=a.n(f),x=a(62411),w=a(281),b=a(69365),N=a(35394),j=a(30920),C=a(76826),k=a(57011),S=a(55517);const I="hp_hGJvDnhfpbn4S69kT",E="Q2sBixnVp6pHpUKqJhb_";var F=a(86070);const R=({onDismiss:e})=>{const t=(0,x.d4)(e=>e.features.enableShows),a=k.DT.replace("-chip",""),r=k.nt.replace("-chip",""),{spec:n,logger:s}=(0,S.$)(d.q,{}),o=(0,i.useCallback)(()=>{s.logInteraction(n.followingFeedBannerFactory().musicFollowingFeedLinkFactory().hitUiNavigate({destination:`spotify:home:${a}`}))},[s,n,a]),c=(0,i.useCallback)(()=>{s.logInteraction(n.followingFeedBannerFactory().podcastsFollowingFeedLinkFactory().hitUiNavigate({destination:`spotify:home:${r}`}))},[s,n,r]),m=t?u.Ru.get("web-player.whats-new-feed.banner.title"):u.Ru.get("web-player.whats-new-feed.banner.title.no-shows"),p=(0,i.useMemo)(()=>v()(m,{transform:{a:e=>{const t="music_following_feed_path"===e.href?`?facet=${k.DT}`:`?facet=${k.nt}`,a="music_following_feed_path"===e.href?o:c;return(0,F.jsx)(C.N,{to:"/home",search:t,referrer:"whats_new_panel",onClick:a,children:e.children})}}}),[m,o,c]);return(0,F.jsxs)(w.a,{variant:"contrasting",colorSet:"announcement",className:I,children:[(0,F.jsx)(b.p,{}),(0,F.jsx)(l.E,{variant:"bodySmall",children:p}),(0,F.jsx)(N.H,{iconOnly:j.M,onClick:()=>{e()},"aria-label":u.Ru.get("web-player.download-page.notification-hide"),condensedAll:!0,className:E})]})};var A=a(76248),P=a(60257);const O="tXw7Mrc8V2gPKCMsMRQb",M="_JCi4YQQoiW_aSRyxerQ",B=[{id:"ALBUM",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.music"),ubiId:"Music"},{id:"EPISODE",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.episodes"),ubiId:"Podcast & Shows"},{id:"WHATS_NEW_FEED_NOTIFICATION",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.notifications"),ubiId:"Merch & Events"}],L=(0,i.memo)(function({availableFilters:e,selectedFilters:t,toggleFilterId:a,resetFilterIds:r,spec:n}){const s=u.Ru.get("web-player.whats-new-feed.filters.options"),l=(0,P.s)(),o=(0,i.useMemo)(()=>{const t=new Map;return(e||[]).forEach(e=>{t.set(e.id,e)}),t},[e]),c=(0,i.useCallback)((e,t,a)=>{let i;if(!e)return i=n.clearFiltersFactory().hitClearFilter(),void l.logInteraction(i);const r=o.get(e);if(!r)return;const s=n.filterChipFactory({identifier:r.ubiId,position:a});i=t?s.hitClearFilter():s.hitFilter(),l.logInteraction(i)},[n,l,o]);return(0,F.jsx)("div",{className:O,children:(0,F.jsx)(A.s,{placeholderFilters:B,availableFilters:e,selectedFilters:t,toggleFilterId:a,onFilterClick:c,resetFilterIds:r,ariaLabel:s,scrollContentClassName:M})})});var D=a(79898),T=a(70796),U=a(10622),_=a(81458),V=a(86825),$=a(3437),G=a(22141),W=a(5128),z=a(64300),H=a(82898),q=a(37668),K=a(37731);const Q="KmH4tiGBqe0sQF31rzke",X=({dateAdded:e,prefix:t})=>{let a=e.getTime()>0&&u.Ru.formatRelativeDate(e,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"});return a&&t&&(a=`${t} ${a}`),(0,F.jsx)(l.E,{variant:"bodySmall",className:Q,children:a})};var J=a(65992),Y=a(58760);const Z=e=>{switch(e){case Y.E.LARGE:return J.Qe.SIZE_112;case Y.E.MEDIUM:default:return J.Qe.SIZE_64}};var ee=a(76056),te=a(59725),ae=a(19266),ie=a(34503),re=a(12586),ne=a(43114),se=a(61962),le=a(96882),oe=a(32619),ce=a(49060),de=a(55247),ue=a(89307),me=a(86771);const pe="L7sNjiJDD8O4xxgMC_Uw",ge="yaWWHdKqazkx3bfzEoX9",he="O4HINqD59poK6OtoJ0p3",ye="_PsOCKc5mw9ezV0aztJV",fe="N7lLNwYIH_Se1viunhnL",ve="HdJlXtkXqNGKYjvALpRe",xe="AMFgOWFsPLCBENZ76VfP",we="iq1YiNDySAhBvc2IV5wX",be="uvJa2wjb4mgIqQIZbuvx",Ne="zvNEj100gZY8FZKYNgxe",je="OjerIvzI_RtNupUU5QQo";function Ce({album:e,onLike:t,onMoreButtonClick:a,onDownloadClick:r,spec:n}){const o=(0,re.y)(),c=o===Y.E.LARGE,{draggable:d,onDragStart:m}=(0,te.P)({itemUris:[e.uri],dragLabelText:e.name});let p;e.date&&(p=(0,F.jsx)(X,{dateAdded:new Date(e.date.isoString)}));const[g,h]=(0,ne.A)(e.uri),y=e.artists?.items.map(e=>e.profile.name).join(u.Ru.getSeparator())||"",f=(0,P.s)(),v=(0,i.useCallback)(async()=>{try{await h(!g)}catch{}},[g,h]),{togglePlay:x,isPlaying:w,isActive:b}=(0,ce.P)({uri:e.uri},{featureIdentifier:"whats_new_panel",referrerIdentifier:"whats_new_panel"}),N=(0,i.useCallback)(t=>{let a;t.preventDefault(),b&&!w&&(a=n.playButtonFactory().hitResume({itemToBeResumed:e.uri})),w||b||(a=n.playButtonFactory().hitPlay({itemToBePlayed:e.uri})),w&&(a=n.playButtonFactory().hitPause({itemToBePaused:e.uri})),a&&f.logInteraction(a),x()},[x,b,w,f,n,e.uri]),j=(0,ae.V)(e.uri),k=(0,le.T)(e.uri),S=(0,i.useCallback)(()=>{const t=n.hitUiNavigate({destination:e.uri});f.logInteraction(t),j()},[e.uri,n,f,j]),I=(0,i.useCallback)(a=>{const i=n.saveButtonFactory().hitLike({itemToBeLiked:e.uri}),r=n.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e.uri});f.logInteraction(a?i:r),t?.(a)},[n,f,e.uri,t]),E=(0,i.useCallback)((t,a)=>{let i;a===oe.NV.ADD?i=n.downloadButtonFactory().hitDownload({itemToDownload:e.uri}):a===oe.NV.REMOVE?i=n.downloadButtonFactory().hitUiReveal():a!==oe.NV.NO_PERMISSION&&a!==oe.NV.NO_CAPABILITY||(i=n.downloadButtonFactory().hitUiReveal()),i&&f.logInteraction(i),r?.(t,a)},[e.uri,f,n,r]),R=(0,i.useCallback)(e=>{a?.(e)},[a]),A=(0,i.useCallback)(()=>{const t=n.titleFactory().hitUiNavigate({destination:e.uri});f.logInteraction(t)},[e.uri,f,n]),O=u.Ru.get("tracklist.a11y.play",e.name,y),M=u.Ru.get("tracklist.a11y.pause",e.name,y),B=(0,F.jsx)(D.d,{lineClamp:1,as:"h3",children:(0,F.jsx)(C.N,{to:e.uri,onClick:A,children:e.name})}),L=e.artists?e.artists.items.map((e,t,a)=>{return(0,F.jsxs)(i.Fragment,{children:[(0,F.jsx)(H.h,{menu:(0,F.jsx)(K.t,{uri:e.uri}),children:(0,F.jsx)(C.N,{to:e.uri,className:fe,onClick:(r=e.uri,()=>{const e=n.subtitleFactory().hitUiNavigate({destination:r});f.logInteraction(e)}),children:e.profile.name})}),t<a.length-1&&u.Ru.getSeparator()]},t);var r}):"",Q=(0,F.jsx)("div",{className:ve,children:(0,F.jsx)(ie.b,{className:s()(xe,{[we]:c}),type:ue.c.ALBUM,size:Z(o),title:e.name,images:e.coverArt?.sources})}),J=(0,F.jsxs)(l.E,{className:Ne,children:[(0,me.C)(e.albumType),(0,F.jsx)("span",{className:je,children:p})]}),Ce=c?V.t.sm:V.t.xs,ke=(0,F.jsxs)("div",{className:be,children:[(0,F.jsxs)("div",{className:ge,children:[(0,F.jsx)(W.b,{onClick:I,uri:e.uri,size:Ce,className:he}),(0,F.jsx)($.f,{onClick:E,className:s()({[he]:(0,se.X)(k)}),uri:e.uri,isFollowing:g,onFollow:v,size:Ce,condensed:!0}),(0,F.jsx)(de.r,{spec:n,children:(0,F.jsx)(z.b,{menu:(0,F.jsx)(q.h,{uri:e.uri}),children:(0,F.jsx)(G.e,{onClick:R,size:Ce})})})]}),(0,F.jsx)("div",{className:ye,children:(0,F.jsx)(ee.D,{size:"small",onClick:N,isPlaying:w,ariaPlayLabel:O,ariaPauseLabel:M,version:ee.H.secondary})})]});return(0,F.jsx)(H.h,{menu:(0,F.jsx)(q.h,{uri:e.uri}),children:(0,F.jsx)(T.v,{draggable:d,onDragStart:m,size:"xxl",className:pe,media:Q,title:B,subtitle:(0,F.jsx)(U.j,{lineClamp:1,children:L}),id:e.uri,variant:"naked",body:J,footer:ke,onClick:S,hoverBackgroundColor:"backgroundHighlight",layout:c?"wide":"regular",horizontalGap:c?_.lT:_.CJ,verticalGap:_.v4,paddingBlockStart:"16px",paddingBlockEnd:"16px"})})}var ke=a(42682),Se=a(45596),Ie=a(86062),Ee=a(10817),Fe=a(19397),Re=a(58381),Ae=a(85059),Pe=a(33552);const Oe="xqHryYdKgvC8fhGtCekh",Me="voXv_0GCQCitbJRuRVp3",Be="GyBullpblK3Ri_HTSaDn";function Le({episode:e,isPlaying:t,isActive:a,isFullyPlayed:r,setIsFullyPlayed:n}){let s;e.release.isoString&&(s=(0,F.jsx)(X,{dateAdded:new Date(e.release.isoString)}));const o=(0,i.useRef)(null),[c]=(0,Ae.S9)(1e4,t=>t?.item?.uri===e.uri);(0,i.useEffect)(()=>{t&&(o.current=c)},[t,c]),(0,i.useEffect)(()=>{!t&&o.current&&e.duration.milliseconds<=o.current&&n(!0)},[t,e.duration.milliseconds,n]);const d=(0,i.useRef)(e.duration.milliseconds-e.playedState.timeLeft.milliseconds),m=(0,F.jsx)(Pe.j,{isPlaying:t,fullyPlayed:r,durationMs:e.duration.milliseconds,resumePositionMs:o.current||d.current,position:a?c:void 0,className:Me});return(0,F.jsxs)("div",{className:Oe,children:[(0,F.jsx)(Re.P,{episode:e}),(0,F.jsx)(l.E,{variant:"bodySmall",children:u.Ru.get("card.tag.episode")}),(0,F.jsx)("span",{className:Be}),s,(0,F.jsx)("span",{className:Be}),m]})}var De=a(26571),Te=a(4291);const Ue="CmdG6rptgpq5PPNEDbu5",_e="G6_ZkjGb1c9Hmgp8YsVz",Ve="TVAc5ehlj4hCGwCtbj2w",$e="w4p8Kd44UjaJokzeaaU3",Ge="j9c22tEyuvMQcpdIb7jN",We="pyU3JSzveIS3ozOt87Tw",ze="xdRaG3oEtafWF12ivSsO",He="Lu08lhPfUPdclDb6LVdf",qe="GbJe7bKdtBTWqSA1h6lE",Ke="jH9mCbzpf3DVNTO8oC_9",Qe="z1X5qNmy1lBbZtssp92h";function Xe({episode:e,podcastName:t,podcastUri:a,onLike:r,onMoreButtonClick:n,onDownloadClick:o,spec:c,featureIdentifier:d,referrerIdentifier:m,size:p="xxl"}){const g=e.name,h=(0,re.y)(),y=(0,le.T)(e.uri),f=h===Y.E.LARGE,{draggable:v,onDragStart:x}=(0,te.P)({itemUris:[e.uri],dragLabelText:`${e.name} â€¢ ${t}`}),w=(0,P.s)(),{togglePlay:b,isPlaying:N,isActive:j}=(0,ce.P)({uri:e.uri},{featureIdentifier:d,referrerIdentifier:m}),[k,S]=(0,i.useState)(e.playedState.state===Te.M.Completed),I=(0,ae.V)(e.uri),E=u.Ru.get("tracklist.a11y.play",e.name,t),R=u.Ru.get("tracklist.a11y.pause",e.name,t),A=(0,i.useCallback)(()=>{const t=c.hitUiNavigate({destination:e.uri});w.logInteraction(t),I()},[I,w,c,e.uri]),O=(0,i.useCallback)(t=>{const a=c.saveButtonFactory().hitLike({itemToBeLiked:e.uri}),i=c.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e.uri});w.logInteraction(t?a:i),r?.(t)},[c,w,e.uri,r]),M=(0,i.useCallback)((t,a)=>{let i;a===oe.NV.ADD?i=c.downloadButtonFactory().hitDownload({itemToDownload:e.uri}):a===oe.NV.REMOVE?i=c.downloadButtonFactory().hitUiReveal():a!==oe.NV.NO_PERMISSION&&a!==oe.NV.NO_CAPABILITY||(i=c.downloadButtonFactory().hitUiReveal()),i&&w.logInteraction(i),o?.(t,a)},[w,c,e.uri,o]),B=(0,i.useCallback)(()=>{const t=c.titleFactory().hitUiNavigate({destination:e.uri});w.logInteraction(t)},[w,c,e.uri]),L=(0,i.useCallback)(t=>{let a;t.preventDefault(),j&&!N&&(a=c.playButtonFactory().hitResume({itemToBeResumed:e.uri})),N||j||(a=c.playButtonFactory().hitPlay({itemToBePlayed:e.uri})),N&&(a=c.playButtonFactory().hitPause({itemToBePaused:e.uri})),a&&w.logInteraction(a),b()},[b,w,c,e.uri,N,j]),V=(0,i.useCallback)(e=>{n?.(e)},[n]),$=(0,F.jsx)(D.d,{lineClamp:2,as:"h3",children:(0,F.jsx)(C.N,{to:e.uri,onClick:B,children:e.name})}),W=(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(U.j,{lineClamp:1,paddingBottom:f?"8px":void 0,children:(0,F.jsx)(H.h,{menu:(0,F.jsx)(Fe.H,{uri:a}),children:(0,F.jsx)(C.N,{to:a,className:We,onClick:(q=a,()=>{const e=c.subtitleFactory().hitUiNavigate({destination:q});w.logInteraction(e)}),children:(0,F.jsx)(l.E,{as:"span",variant:"bodySmall",children:t})})})})});var q;const K=e.sixteenByNineCoverImages&&e.sixteenByNineCoverImages.length>0,Q=(0,F.jsx)("div",{className:s()(ze,{[He]:K}),style:{"--bg-color-from":e.dynamicColors?.minContrast?.backgroundBase?.toCSS(De.a.RGBA),"--bg-color-to":e.dynamicColors?.higherContrast?.backgroundBase?.toCSS(De.a.RGBA)},children:(0,F.jsx)(ie.b,{className:s()(qe,{[Ke]:f}),type:ue.c.EPISODE,size:Z(h),title:e.name,images:K?e.sixteenByNineCoverImages:e.images,children:K&&(0,F.jsx)(ee.D,{ariaPlayLabel:u.Ru.get("playlist.a11y.play",g),ariaPauseLabel:u.Ru.get("playlist.a11y.pause",g),isPlaying:N,onClick:L,version:ee.H.transparent,isWrapperClickable:!0})})}),X=f?"medium":"small",J=e.podcastSubscription,ne=J.isPaywalled&&!J.isUserSubscribed,me=!ne,pe=(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Le,{episode:e,isPlaying:N,isActive:j,isFullyPlayed:k,setIsFullyPlayed:S}),(0,F.jsxs)("div",{className:Qe,children:[(0,F.jsxs)("div",{className:_e,children:[(0,F.jsx)(Ie.b,{onClick:O,uri:e.uri,size:X,className:Ve,condensed:!0}),(0,F.jsx)(Se.e,{className:s()({[Ve]:(0,se.X)(y)}),onClick:M,uri:e.uri,size:X,canDownload:me,condensed:!0}),(0,F.jsx)(de.r,{spec:c,children:(0,F.jsx)(z.b,{menu:(0,F.jsx)(Ee.b,{uri:e.uri,onMarkAsPlayed:S,isPlayed:k}),children:(0,F.jsx)(G.e,{onClick:V,size:X})})})]}),(0,F.jsx)("div",{className:$e,children:(0,F.jsx)(ee.D,{size:"small",onClick:L,isPlaying:N,ariaPlayLabel:E,ariaPauseLabel:R,version:ee.H.secondary,disabled:!e.isPlayable,locked:ne})})]})]}),ge=(0,F.jsx)(ke.v,{lineClamp:2,paddingBottom:f?"4px":void 0,className:Ge,children:(0,F.jsx)(l.E,{as:"span",variant:"bodySmall",children:e.description})});return(0,F.jsx)(H.h,{menu:(0,F.jsx)(Ee.b,{uri:e.uri,onMarkAsPlayed:S,isPlayed:k}),children:(0,F.jsx)(T.v,{draggable:v,onDragStart:x,size:p,className:Ue,media:Q,title:$,subtitle:W,id:e.uri,variant:"naked",body:ge,footer:pe,onClick:A,hoverBackgroundColor:"backgroundHighlight",layout:f?"wide":"regular",horizontalGap:f?_.lT:_.CJ,verticalGap:_.v4,paddingBlockStart:"16px",paddingBlockEnd:"16px"})})}var Je=a(85003),Ye=a(16447),Ze=a(72045),et=a(58873),tt=a(82567),at=a(57171);function it({item:e,spec:t}){if("AlbumResponseWrapper"===e.content.__typename){const a=e.content.data;if("Album"===a.__typename)return(0,F.jsx)(Ce,{album:a,spec:t})}if("EpisodeOrChapterResponseWrapper"===e.content.__typename){const i=e.content.data;if("Chapter"===i.__typename)return(0,F.jsx)(F.Fragment,{});if("Episode"===i.__typename){let e="",r="";return"Podcast"===i.podcastV2.data.__typename&&(e=i.podcastV2.data.name,r=i.podcastV2.data.uri),(0,F.jsx)(Xe,{episode:(a=i,{type:ue.c.EPISODE,uri:a.uri,name:a.name,description:a.description??"",duration:{milliseconds:a.duration.totalMilliseconds},playedState:(0,tt.fS)(a.duration,a.playedState),images:a.coverArt?.sources.map(at.m)??[],languages:a.language?[a.language.code]:[],release:(0,et.mp)(a.releaseDate),show:"Podcast"===a.podcastV2.data.__typename?(0,tt.jM)(a.podcastV2.data):null,podcastSubscription:(0,tt.Wx)(a.restrictions,a.playability),gatedEntityRelations:(0,Ye.Gv)(a.gatedEntityRelations),isPlayable:a.playability.playable,isExplicit:a.contentRating?.label===Ze.x7.Explicit,is19PlusOnly:a.contentRating?.label===Ze.x7.NineteenPlus,dynamicColors:(0,Je.V)(a.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===a.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?a.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map(e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})):null}),podcastName:e,podcastUri:r,spec:t,referrerIdentifier:"whats_new_panel",featureIdentifier:"whats_new_panel"})}}var a;return(0,F.jsx)(F.Fragment,{})}var rt=a(13140);const nt="eKhMaxDXqmfMgItb7w2Q",st="eMMbr2pH0BnP0UUCn4zh",lt="Rq_wdRQkupLWIVcTgAod",ot="yGXupcrJTvG9eMaUfmnw",ct="VpU2DJAiQ0G1GF8PicP0",dt="ooaVldTzJeTAvxo9arKK",ut="eFjjT7MblX7CireeIRBP",mt="wMS6lrnzw0rOQlsGqUVR",pt="Qfyos2gdooAC38AIVgQf",gt="y1l2kHQnAo8ISf39kDNK",ht="PiwHZSBEbq3Mpui3V3Jg",yt="VO4I0YJi7bwIQWs58gLQ",ft=i.memo(()=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(rt.Y,{as:"h3",variant:"titleSmall",className:gt,charCount:4,isLoading:!0}),(0,F.jsx)("div",{className:mt,children:[20,50,25].map((e,t)=>(0,F.jsx)(rt.Y,{as:"div",variant:"bodySmall",className:gt,charCount:e,isLoading:!0},`${e}-${t}`))})]}));var vt=a(70613),xt=a(30504),wt=a(77639),bt=a(26843),Nt=a(59861);const jt={offset:0,limit:50,onlyUnPlayedItems:!1};const Ct={[Ze.tv.Album]:{id:"ALBUM",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.music"),ubiId:"Music",active:!1},[Ze.tv.Episode]:{id:"EPISODE",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.episodes"),ubiId:"Podcast & Shows",active:!1}};function kt(e){switch(e){case Ze.tv.Album:return Ze.tv.Album;case Ze.tv.Episode:return Ze.tv.Episode;case Ze.tv.WhatsNewFeedNotification:return Ze.tv.WhatsNewFeedNotification;case Ze.tv.Unknown:default:return Ze.tv.Unknown}}const St=({spec:e,items:t})=>{const[a,r]=(0,i.useState)([]),n=e=>{const t=e.state.state;if(!e.state.timestamp?.isoString&&t===Ze.GN.New)return!0;if(e.state.timestamp?.isoString){const t=new Date(e.state.timestamp.isoString).getTime();return Date.now()-t<=36e5}return!1},s=t.findIndex(e=>!n(e)),o=(0,i.useCallback)((t,a)=>{const i=n(t)&&a<s,r=i&&0===a;return(0,F.jsx)("div",{className:yt,children:(0,F.jsxs)(p.W,{"aria-posinset":a+1,children:[r&&(0,F.jsx)(l.E,{as:"h2",variant:"titleSmall",className:lt,semanticColor:"textBase",children:u.Ru.get("web-player.whats-new-feed.new-section-title")}),!i&&a===s&&(0,F.jsx)(l.E,{as:"h2",variant:"titleSmall",className:lt,semanticColor:"textBase",children:u.Ru.get("web-player.whats-new-feed.earlier-section-title")}),(0,F.jsx)("hr",{className:ht,"aria-hidden":!0}),(0,F.jsx)(it,{item:t,spec:e.notificationItemFactory({identifier:t.id,position:a})})]},t.id)},t.id)},[s,e]),c=(0,i.useRef)(0),d=(0,i.useCallback)(()=>{const e=t.slice(c.current,c.current+10);r(t=>(c.current=c.current+10,[...t,...e]))},[t]),{ref:g,breakpoint:h}=(0,wt.x)({[Y.E.MEDIUM]:0,[Y.E.LARGE]:600});return(0,F.jsx)(re.o.Provider,{value:h,children:(0,F.jsx)(m.R,{className:ut,ref:g,firstInteractiveIsWrapper:!0,"aria-rowcount":a.length,"aria-colcount":6,children:(0,F.jsx)(xt._,{onReachBottom:d,triggerOnInitialLoad:!0,children:a.map(o)})})})},It=({includedContentTypes:e,data:t,handleRetry:a,error:i,spec:r,loading:n})=>{if(n)return(0,F.jsxs)("div",{className:ot,role:"list","data-testid":"whats-new-feed-loading-skeleton",children:[(0,F.jsx)(ft,{}),(0,F.jsx)(ft,{})]});if(i)return(0,F.jsxs)("div",{className:ct,dir:"auto",children:[(0,F.jsx)(l.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:u.Ru.get("error.generic")}),(0,F.jsx)(l.E,{as:"p",variant:"bodyMedium",children:u.Ru.get("web-player.whats-new-feed.panel.error")}),(0,F.jsx)(o.n,{className:dt,onClick:a,size:"small",children:(0,F.jsx)(l.E,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:u.Ru.get("web-player.whats-new-feed.panel.error.button")})})]});const s=t?.whatsNewFeedItems?.items;if(!s||0===s?.length){const{title:t,message:a}=function(e=[]){return e.includes(Ze.tv.Episode)?{title:u.Ru.get("web-player.whats-new-feed.panel.empty-results-podcast.title"),message:u.Ru.get("web-player.whats-new-feed.panel.empty-results-podcast.message")}:e.includes(Ze.tv.Album)?{title:u.Ru.get("web-player.whats-new-feed.panel.empty-results-music.title"),message:u.Ru.get("web-player.whats-new-feed.panel.empty-results-music.message")}:{title:u.Ru.get("web-player.whats-new-feed.panel.empty-results-all.title"),message:u.Ru.get("web-player.whats-new-feed.panel.empty-results-all.message")}}(e);return(0,F.jsx)(g.p,{title:t,message:a,renderInline:!0})}return(0,F.jsx)(St,{items:s,spec:r},e.join(" "))},Et=()=>{const e=(0,r.jE)(),{spec:t,logger:a}=(0,S.$)(d.q,{}),n=(0,i.useCallback)(()=>{const{name:e}=y.lo;return[e]},[]),o=(0,i.useCallback)(()=>{e.invalidateQueries({queryKey:n()})},[e,n]);(0,i.useEffect)(()=>{a.logImpression(t.impression())},[a,t]);const[m,p]=(0,i.useState)(Ct),g=Object.values(m),f=g.filter(e=>e.active),v=f.length>0?[]:g,x=f.map(e=>e.id),w=(0,i.useCallback)(e=>{const t=kt(e),a={id:m[t]?.id||Ze.tv.Unknown,getName:()=>m[t]?.getName()||"",ubiId:m[t]?.ubiId||"",active:!m[t]?.active},i={...Ct,...m,[a.id||"UNKNOWN"]:a};p(i)},[m,p]),b=(0,i.useCallback)(()=>{p(Ct)},[p]),{data:N,error:j,loading:C}=(0,bt.I)(y.lo,{...jt,includedContentTypes:x.map(kt)??[]},{gcTime:30*bt.i}),{getGraphQLLoader:k}=(0,h.mv)(),I=k();(0,i.useEffect)(()=>{if(!N?.whatsNewFeedItems?.items)return;const e=N?.whatsNewFeedItems?.items.filter(e=>e.state.state===Ze.GN.New).map(e=>({id:e.id,state:Ze.GN.Seen}));e.length>0&&async function(e,t){await e(y.BP,{items:t})}(I,{items:e})},[N?.whatsNewFeedItems?.items,I]);const E=(0,c.NC)(vt.Xck),[A,P]=(0,Nt.x)("dismissed-following-feed-banner-on-whats-new",!1),O=!A&&E,M=(0,i.useCallback)(()=>{P(!0)},[P]);return(0,F.jsxs)("section",{className:s()(pt,"contentSpacing"),children:[O&&(0,F.jsx)(R,{onDismiss:M}),(0,F.jsxs)("div",{className:nt,children:[(0,F.jsx)(l.E,{as:"h1",semanticColor:"textBase",variant:"titleMedium",className:st,children:u.Ru.get("web-player.whats-new-feed.panel.title")}),(0,F.jsx)(l.E,{as:"p",semanticColor:"textSubdued",variant:"bodySmall",children:u.Ru.get("web-player.whats-new-feed.panel.subtitle")})]}),!j&&(0,F.jsx)(L,{availableFilters:v,toggleFilterId:w,selectedFilters:f,resetFilterIds:b,spec:t.filterChipsFactory()}),(0,F.jsx)(It,{includedContentTypes:x.map(kt),data:N,loading:C,error:j??null,spec:t,handleRetry:o})]})}},68930:(e,t,a)=>{"use strict";a.d(t,{P:()=>m});var i=a(18204),r=a(54691),n=a(97727),s=a(67793),l=a(31139),o=a(54635),c=a(4291),d=a(24238),u=a(86070);const m=({episode:e,showVideoBadge:t=!1})=>{const{badges:a}=(0,d.b)((e=>"contentRating"in e)(e)?{contentRating:e?.contentRating?.label,isPaywalled:e.podcastSubscription?.isPaywalled,isVideo:e.mediaTypes?.includes(c.C.Video)}:{isExplicit:e?.isExplicit,isMOGEFRestricted:e?.is19PlusOnly,isPaywalled:e.podcastSubscription?.isPaywalled}),m=e.gatedEntityRelations&&e.gatedEntityRelations.entitiesWithValueProps.at(0),p=(0,n.B)(m,e);return(0,u.jsxs)(u.Fragment,{children:[a.explicit&&(0,u.jsx)(s.U,{}),p?(0,u.jsx)(r.x,{gatedEntityRelations:e.gatedEntityRelations}):a.paid&&(0,u.jsx)(l.y,{}),a.nineteen&&(0,u.jsx)(o.q,{size:16}),t&&a.isVideo&&(0,u.jsx)(i.T,{})]})}},76248:(e,t,a)=>{"use strict";a.d(t,{s:()=>N});var i=a(30758),r=a(97500),n=a.n(r),s=a(89393),l=a(40539),o=a(47170),c=a(54091),d=a(97149),u=a(88095),m=a(49348);const p="nFyfzwLJc0KdDYRXAxDF";var g=a(86070);const h=(0,i.memo)(({strokeWidth:e=2,color:t="var(--text-base)",segmentFraction:a=1/3,growDuration:r=.6,pixelsPerSecond:s=120,className:l})=>{const[{width:o,height:c},d]=(0,i.useState)({width:0,height:0}),u=(0,i.useRef)(null);(0,m.w)({refOrElement:u,onResize:d,observeOnMount:!0});const h=(0,i.useMemo)(()=>{const t=e/2,a=Math.max(0,Math.min((c-e)/2,(o-e)/2)),i=c-t,r=t+a,n=o-t-a,s=o/2;return{inset:t,r:a,top:t,bottom:i,leftStraightStart:r,rightStraightEnd:n,midX:s,d:[`M${s} ${t}`,`H${n}`,`A${a} ${a} 0 0 1 ${o-t} ${t+a}`,"V"+(i-a),`A${a} ${a} 0 0 1 ${n} ${i}`,`H${r}`,`A${a} ${a} 0 0 1 ${t} ${i-a}`,`V${t+a}`,`A${a} ${a} 0 0 1 ${r} ${t}`,`H${s}`].join(" ")}},[o,c,e]),y=(0,i.useMemo)(()=>{const e=100*Math.max(0,Math.min(1,a)),t=100-e,i=2*(o+c-2*h.r)+2*Math.PI*h.r;return{seg:e,rest:t,tiny:0,growOffset:-r*s*100/i,loopDuration:i/Math.max(1,s)}},[a,o,c,h.r,s,r]);return(0,g.jsx)("svg",{width:o,height:c,viewBox:`0 0 ${o} ${c}`,className:n()(l,p),xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",ref:u,children:(0,g.jsxs)("path",{d:h.d,fill:"none",stroke:t,strokeWidth:e,vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",pathLength:100,strokeDasharray:`${y.tiny} ${100-y.tiny}`,strokeDashoffset:0,children:[(0,g.jsx)("animate",{id:"grow",attributeName:"stroke-dasharray",values:`0 100;${y.seg} ${y.rest}`,keyTimes:"0;1",dur:`${r}s`,fill:"freeze"}),(0,g.jsx)("animate",{id:"growMove",attributeName:"stroke-dashoffset",values:`0;${y.growOffset}`,keyTimes:"0;1",dur:`${r}s`,fill:"freeze"}),(0,g.jsx)("animate",{attributeName:"stroke-dashoffset",begin:"growMove.end",values:`${y.growOffset};${y.growOffset-100}`,keyTimes:"0;1",dur:`${y.loopDuration}s`,repeatCount:"indefinite"})]})})});var y=a(41045);const f="eKfHatAe3kg1s5klWcGw",v="oWFRCYltmS5h6w2nhakA",x={marginBlockEnd:0,willChange:"transform, opacity"},w=({filterId:e=null,isPrimaryFilter:t,isPlaceholder:a,resetFilterIds:r,toggleFilterId:o,className:c,innerRef:d,onFilterClick:m,index:p=0,isLoading:y,...v})=>{const w=v.selected,b=(0,i.useCallback)(()=>{if(!a){if(!e)return r(),void m(null,!1,p);m(e,!!w,p),o(e)}},[a,e,m,w,p,o,r]);return(0,g.jsx)(s.nh,{onAction:b,children:(0,g.jsx)(u.A,{children:(0,g.jsxs)(l.v,{...v,className:n()(c,{[f]:a}),selectedColorSet:"invertedLight",secondary:w&&!t,style:x,ref:d,tabIndex:t?0:-1,children:[y&&(0,g.jsx)(h,{}),v.children]})})},e)},b=({filterId:e=null,isPlaceholder:t,resetFilterIds:a,toggleFilterId:r,className:l,innerRef:d,onFilterClick:m,index:p=0,isLoading:y,...w})=>{const b=w.selected,N=(0,i.useCallback)(()=>{if(!t){if(!e)return a(),void m(null,!1,p);m(e,!!b,p),r(e)}},[t,e,m,b,p,r,a]);return(0,g.jsx)(s.nh,{onAction:N,children:(0,g.jsxs)(u.A,{className:v,children:[y&&(0,g.jsx)(h,{}),(0,g.jsx)(o.m,{...w,"aria-label":c.Ru.get("web-player.clear-filter"),className:n()(l,{[f]:t}),style:x,ref:d,tabIndex:-1})]})},"clear-filter")},N=(0,i.memo)(function({placeholderFilters:e=[],availableFilters:t,selectedFilters:a,toggleFilterId:r,resetFilterIds:n,onFilterClick:l,ariaLabel:o,clearBtnAriaLabel:c,className:u,scrollContentClassName:m,applyLightThemeControls:p=!1,isClearActionLoading:h}){const f=!(a||t),v=f?e:[...a??[],...t??[]],x=(0,i.useRef)(null),N=(0,i.useCallback)(()=>{(0,y.MS)(x.current,x.current?.nextElementSibling instanceof HTMLElement?x.current?.nextElementSibling:null),n()},[n]);return 0===v.length?null:(0,g.jsx)(d.FN,{role:"presentation",className:u,applyLightThemeControls:p,children:(0,g.jsxs)(s.qF,{className:m,"aria-label":o,orientation:"horizontal",children:[!!a?.length&&(0,g.jsx)(b,{resetFilterIds:N,toggleFilterId:r,onFilterClick:l,"aria-label":c??o,innerRef:x,isLoading:h}),v.map((e,t)=>{const i=a?.includes(e),s=0===t;return(0,g.jsx)(w,{filterId:e.id,isPrimaryFilter:s,isPlaceholder:f,isLoading:e.isLoading,onFilterClick:l,resetFilterIds:n,toggleFilterId:r,selected:i,index:t,children:e.getName()},e.id)})]})})})}}]);
//# sourceMappingURL=dwp-whats-new-feed.js.map