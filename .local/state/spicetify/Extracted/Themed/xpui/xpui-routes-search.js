"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7125,9319],{16447:(e,t,s)=>{s.d(t,{xh:()=>h,Gv:()=>v,S:()=>y,_v:()=>x,e$:()=>f});s(54091);var a=s(72045),r=s(89307),i=s(39140),n=s(85003);const o="recent";var l=s(1280),c=s(82567),u=s(10183),d=s(19206);function p(e){switch(e){case a.$c.AgeRestricted:return i.Uk.AgeRestricted;case a.$c.CatalogueRestricted:return i.Uk.CatalogueRestricted;case a.$c.CountryRestricted:return i.Uk.CountryRestricted;case a.$c.Explicit:return i.Uk.Explicit;case a.$c.PaymentRequired:return i.Uk.PaymentRequired;case a.$c.Playable:return i.Uk.Playable;case a.$c.Unavailable:default:return i.Uk.Unavailable}}function m(e,t=!1){return{playable:!t&&e.playable,reason:t?i.Uk.Anonymous:p(e.reason)}}function h(e){return e.previewPlayback?.audioPreview?.cdnUrl?{url:e.previewPlayback.audioPreview.cdnUrl}:null}function y(e){const t="Podcast"!==(s=e.podcastV2).data.__typename?null:{uri:s.data.uri,name:s.data.name,coverArt:s.data.coverArt?.sources||[],trailer:(a=s.data.trailerV2,("Episode"===a?.data.__typename?{uri:a.data.uri}:null)||null),showTypes:(s.data.showTypes||[]).filter(g)};var s,a;const i=(0,c.Wx)(e?.restrictions,e.playability),o=(0,d.p)(e.gatedEntityRelations)?.accessInfo,l=(0,d.v)(o);return{type:r.c.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:t,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:e.coverArt?.sources||[],audio:e.audio,releaseDate:(u=e.releaseDate,u?{isoString:u.isoString,precision:u.precision}:null),playedState:e.playedState,playability:m(e.playability),audioPreview:h(e),sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:i,contentInformation:e.contentInformation,transcript:e.transcripts?.items||null,upsellExplanation:l?j(l):null,gatedEntityRelations:v(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(o?.isUserMemberOfAtLeastOneGroup),dynamicColors:(0,n.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===e.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?e.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map(e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})):null};var u}function g(e){return!!e}function x(e){const t="Episode"===e.trailerV2?.data.__typename?(s=e.trailerV2.data,{type:r.c.EPISODE,uri:s.uri,name:s.name,coverArt:s.coverArt?.sources||[],audio:s.audio,audioPreview:h(s),sharingInfo:s.sharingInfo,duration:{milliseconds:s.duration.totalMilliseconds},contentRating:s.contentRating,mediaTypes:s.mediaTypes}):null;var s;const a=(0,l.q)(e?.accessInfo?.unlockedBy),i=(0,d.p)(e.gatedEntityRelations),n=(0,d.v)(i?.accessInfo);return{type:r.c.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],trailer:t,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(g),publisherName:e.publisher?.name||"",consumptionOrder:o,gatedContentAccessReason:a,isLocked:null===a,rating:e.rating,isSaved:e.saved,gatedEntityRelations:v(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(!!i&&i?.accessInfo?.isUserMemberOfAtLeastOneGroup),upsellExplanation:n?j(n):null,gatedEntityCoverArt:i?.coverArt?.sources||null}}function f(e){const t=!1===e?.isUserMemberOfAtLeastOneGroup,s=e?.unlockedBy?.includes(a.UG.Abp);return t&&!s}function b(e){return null!==e.displayText}function j({title:e,body:t,actionText:s,url:a}){return e&&t&&s&&a?{title:e,body:t,cta:s,url:a}:null}function v(e){return{entitiesWithValueProps:e.map(({badges:e,relatedEntity:t,summary:s,fallbackGatedEntity:a})=>"EpisodeResponseWrapper"===t?.__typename||"PodcastResponseWrapper"===t?.__typename?{uri:t._uri,summary:s?.forUserWithoutAccess?{forUserWithoutAccess:s.forUserWithoutAccess,forUserWithAccess:s.forUserWithAccess??void 0}:void 0,valueProps:e.filter(b),fallbackNavigation:a?.description?{uri:a.uri,description:a?.description}:void 0}:null).filter(u.P)}}},22696:(e,t,s)=>{s.d(t,{K:()=>r});var a=s(27360);function r(e){const t=(0,a.o_h)(e,{parseUnknown:!0}),[s,r]=t?.args??[];if(r&&"page"===s)return`/genre/${r}`}},27722:(e,t,s)=>{s.d(t,{B:()=>T,q:()=>U});var a=s(30758),r=s(62411),i=s(7151),n=s(27360),o=s(48289),l=s(83760),c=s(82898),u=s(10817),d=s(10993),p=s(68453),m=s(95264),h=s(87274),y=s(66147),g=s(38324),x=s(68930),f=s(36664),b=s(59725),j=s(41156),v=s(5256),C=s(91816),R=s(12586),A=s(85059),k=s(94639),I=s(44451),P=s(88439),S=s(72045),E=s(24238),w=s(86070);function T(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const N=e=>`activation-trigger-mme-${e}`,U=a.memo(function({index:e=-1,showMetadata:t,episode:s,usePlayContextItem:U}){const{isWeb:B}=(0,C.V)(),_=s.playedState.playPositionMilliseconds,q=s.uri,L=(0,a.useRef)(null),F=(0,f.N)(t.uri),{draggable:O,onDragStart:V}=(0,b.P)(),M=(0,j.V)(),D=(0,R.y)(),W=(0,r.wA)(),H=(0,g.H)(),{UBIFragment:$,spec:z,logger:G}=(0,I.D)(i.d,{data:{uri:q,reason:s.requestId||"",position:e}}),K=(0,P.n)(z.getAbsoluteLocation(),z),{isActive:Q,isPlaying:X,togglePlay:Z}=U({uri:q}),[Y]=(0,A.S9)(1e4,e=>e?.item?.uri===q),{isFullyPlayed:J,setIsFullyPlayed:ee}=(0,k.e)({uri:q,durationMs:s.duration.milliseconds,episodePlaybackState:s.playedState?.state,isPlaying:X});(0,a.useEffect)(()=>{X&&(L.current=Y)},[X,Y]),(0,a.useEffect)(()=>{!X&&L.current&&s.duration.milliseconds<=L.current&&ee(!0)},[X,s.duration.milliseconds,ee]);const te=(0,a.useCallback)(e=>{e||(L.current=0),ee(e)},[ee]),se=T(t),ae=(0,v.C)({...s,coverArt:{sources:s.coverArt}},se),re=(0,a.useCallback)(()=>{if(H({uri:q}),s.episodeType===S.I_.Episode&&B)p.h.set(()=>({triggerId:N(s.uri),triggerAction:null}));else if(M)ae();else{let e;e=X?z.playButtonFactory().hitPause({itemToBePaused:q}):Q?z.playButtonFactory().hitResume({itemToBeResumed:q}):z.playButtonFactory().hitPlay({itemToBePlayed:q});const t=G.logInteraction(e);Z({loggingParams:t})}},[Q,ae,Z,q,X,M,s,B,G,z,H]),ie=(0,a.useCallback)(()=>{H({uri:q}),G.logInteraction(z.hitUiNavigate({destination:q}))},[q,G,z,H]),ne=s.podcastSubscription?.isPaywalled??!1,oe=s.podcastSubscription?.isUserSubscribed??!1,le=ne&&!oe,ce=ne&&M,{badges:ue}=(0,E.b)({contentRating:s.contentRating?.label,isPaywalled:ne}),de=(0,a.useCallback)(()=>W((0,o.Tf)(t.uri)),[t.uri,W]),pe=(0,a.useCallback)(e=>{let a=e;return(le||ce)&&(a=(0,w.jsx)(h.N,{enabled:!0,showUri:s.podcast?.uri||t.uri,renderInline:!1,children:a})),!s.playability.playable&&ue.nineteen&&(a=(0,w.jsx)("div",{onClick:e=>{e.stopPropagation(),de()},children:e})),a=(0,w.jsx)(l.k,{id:N(q),targetURI:(0,n.o_h)(q),children:a}),a},[q,le,ce,t.uri,ue.nineteen,s.playability.playable,de,s.podcast?.uri]),{filter:me}=(0,a.useContext)(y.g),he=(0,a.useCallback)(e=>"string"!=typeof me?e:(0,w.jsx)(m.M,{searchWords:[me],textToHighlight:e}),[me]);return(0,w.jsx)($,{spec:z,children:(0,w.jsx)(c.h,{onShow:()=>{G.logInteraction(z.secondaryHitUiReveal())},menu:(0,w.jsx)(u.b,{uri:q,showUri:t.uri,sharingInfo:s.sharingInfo,isPlayed:J,onMarkAsPlayed:te}),children:(0,w.jsx)(d.k,{ref:K,requestId:s.requestId,index:e,uri:q,size:D,images:s.coverArt||[],name:s.name,showName:s.podcast?.name||t.name,description:s.description,isPlayable:s.playability.playable||le,fullyPlayed:J,durationMs:s.duration.milliseconds,releaseDate:s.releaseDate,resumePositionMs:L.current??_,draggable:O,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${s.name} â€¢ ${t.name}`;V(e,{itemUris:[q],dragLabelText:a,contextUri:t.uri})},handlePlaybackClick:re,handleClick:ie,isCurrentlyPlaying:Q,isPaywalled:ne,isUserSubscribed:oe,isCourseLesson:F,isPlaying:X,position:X?Y:void 0,episodeSharingInfo:s.sharingInfo,onMarkAsPlayed:te,contentInformation:s.contentInformation,showUri:s.podcast?.uri||t.uri,mediaTypes:s.mediaTypes??void 0,badges:(0,w.jsx)(x.P,{episode:s}),playButtonWrapper:pe,onMoreButtonClick:()=>{G.logInteraction(z.moreButtonFactory().hitUiReveal())},sixteenByNineCoverImages:s.sixteenByNineCoverImages??void 0,dynamicColors:s.dynamicColors??void 0,highlightText:he})})})})},32467:(e,t,s)=>{s.d(t,{u:()=>p});var a=s(97500),r=s.n(a),i=s(89408),n=s(39440),o=s(38529),l=s(66891),c=s(60257),u=s(75794),d=s(86070);const p=({uri:e,src:t,playAriaLabel:s,onClick:a,isPlaying:p,isActive:m,isLocked:h,isEpisode:y,isVideo:g,spec:x})=>{const f=(0,c.s)(),b=(0,i.YQ)(t=>{let s;if(x){const t=x.playbackButtonFactory();let a;a=m&&p?t.hitPause({itemToBePaused:e}):m&&!p?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),s=f.logInteraction(a)}a(t,s)},l.d,{leading:!0,trailing:!1});return(0,d.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,d.jsx)(o.e,{src:t,isEpisode:y,isVideo:g}),(0,d.jsx)(n.x,{className:r()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:b,isPlaying:p,isLocked:h,playAriaLabel:s})]})}},33552:(e,t,s)=>{s.d(t,{j:()=>C});var a=s(44265),r=s(60404);const i="mVTn6QQxDKAnD1EMA4Uk",n="QMFXRnzqSLyffxlVjc5L",o="hDTw7hSkuNmc4oHSzGyw",l="hrpn74hZWYLnoPA8ot_a",c="rmVpmFOiLgc0ZTqDKAxX",u="DgqXGoNSiHX9aoAqr5fc";var d=s(78717),p=s(60940),m=s(54091),h=s(97500),y=s.n(h),g=s(51490),x=s(44629),f=s(57302);const b="yNVnNWaf8clcxvcacFlw";var j=s(86070);const v=({durationMs:e,className:t,displaySeconds:s})=>{const{hours:a,minutes:r,seconds:i}=(0,x.S)(e);s=!1!==s&&!a&&i;const n=(0,f.j)({h:a,m:r,s:s?i:0});return n?(0,j.jsx)("span",{className:y()(b,t),children:m.Ru.get("time.left",n)}):null},C=e=>{const{resumePositionMs:t=0,releaseDate:s,isPlaying:h,fullyPlayed:x,durationMs:f,position:b=t,compactVariant:C=!1,className:R,progressBarClassName:A,progressStateClassName:k,releaseDateClassName:I}=e,P=0===f?null:!x&&b>0||h?(0,j.jsx)("div",{className:y()(c,A),children:(0,j.jsx)(r.z,{current:b,max:f})}):null,S=s&&s.isoString?(0,j.jsx)(d.E,{as:"p",variant:"bodySmall",className:n,children:(0,a.V2)((0,a.ad)(s.isoString),s.precision)}):null,E=(()=>{if(0===f)return null;if(x&&!h)return(0,j.jsxs)("div",{className:y()(l,k),children:[(0,j.jsx)(d.E,{as:"p",variant:"bodySmall",className:o,children:m.Ru.get("episode.audiobook.chapter.finished")}),(0,j.jsx)(p.i,{size:"small",className:u,"aria-hidden":"true"})]});if(b>0||h){const e=Math.ceil(Math.max(f-b,0));return(0,j.jsx)("div",{className:y()(l,k),children:(0,j.jsx)(d.E,{as:"p",variant:"bodySmall",className:o,children:(0,j.jsx)(v,{durationMs:e,displaySeconds:!C&&void 0})})})}return(0,j.jsx)(d.E,{as:"p",variant:"bodySmall",className:y()(n,I),"data-testid":"episode-progress-not-played",children:(0,j.jsx)(g.d,{durationMs:f,displaySeconds:!C&&void 0})})})();return S||E||P?(0,j.jsxs)("div",{className:y()(i,R),children:[S,E,P]}):null}},35028:(e,t,s)=>{s.d(t,{$:()=>a});const a=new(s(75072).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},38380:(e,t,s)=>{s.d(t,{a:()=>a});const a=e=>e?.linked_from?.uri||e.uri},38686:(e,t,s)=>{s.d(t,{RS:()=>r,f0:()=>n,o8:()=>i});var a=s(13059);function r(e){return{url:e.url,width:e.width,height:e.height}}function i(e){if("Episode"===e.__typename){const t=e.podcastV2.data;return"Podcast"!==t.__typename?[]:t.coverArt?.sources.map(r)??[]}return[]}function n(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(r)??[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return e.coverArt?.sources.map(r)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(r)??[];case"Playlist":return e.images.items[0]?.sources.map(r)??[];case"User":return e.avatar?.sources.map(r)??[];case"Merch":return e.image?.sources.map(r)??[];case"ArtistConcerts":{const t=e.mainArtist.data;return"Artist"!==t.__typename?[]:t.visuals.avatarImage?.sources.map(r)??[]}case"BrowseSectionContainer":return e.data?.cardRepresentation?.artwork?.sources.map(r)??[];case"BrowseClientFeature":return e.artwork?.sources.map(r)??e.iconOverlay?.sources.map(r)??[];case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseSpacesHub":case"BrowseExternalHref":return[];default:return(0,a.k)(e),[]}}},41730:(e,t,s)=>{s.d(t,{r:()=>b});var a=s(30758),r=s(67735),i=s(78717),n=s(98409),o=s(27360),l=s(76826),c=s(35274),u=s(88439),d=s(91645);const p="TwQOwcIrp9mPqzeiJRgd",m="hh_lTNH7cvaYtVDJACaq",h="HR4FaJd7xDymgB64NpRG",y="QGch1_ppaeEdzdkSeA46",g="oIkT3YEjIYuZFH4gmAeZ";var x=s(86070);const f=r.l0o,b=({title:e,imageUrl:t,viewId:s,pageId:r,color:b=f,href:j,index:v,uri:C})=>{const R=s&&`/genre/${s}`||j||"#",{spec:A,logger:k}=(0,d.r)(n.b,{data:{position:v,uri:C}}),I=(0,u.n)(A.getAbsoluteLocation(),A),P=(0,a.useCallback)(()=>{const e=(0,o.o_h)(R)?.toURI();e&&k.logInteraction(A.hitUiNavigate({destination:e}))},[k,A,R]),S=e.split("/"),E=S.map((e,t)=>(0,x.jsxs)("span",{children:[e,(0,x.jsx)("wbr",{}),t<S.length-1?"/":null]},t));return(0,x.jsx)("div",{className:m,role:"listitem",ref:I,children:(0,x.jsx)(l.N,{to:R,pageId:r,className:p,onClick:P,children:(0,x.jsxs)("div",{className:h,style:{backgroundColor:b},children:[t?(0,x.jsx)(c._,{loading:"lazy",src:t,className:g}):null,(0,x.jsx)(i.E,{variant:"titleSmall",className:y,title:e,children:E})]})})})}},50324:(e,t,s)=>{s.d(t,{R:()=>i});var a=s(76826),r=s(86070);const i=({uri:e,enabled:t,className:s,children:i,onClick:n})=>t?(0,r.jsx)(a.N,{to:e,className:s,onClick:n,children:i}):(0,r.jsx)(r.Fragment,{children:i})},51220:(e,t,s)=>{s.d(t,{PG:()=>r,f8:()=>n,oC:()=>a,s8:()=>i});const a=o(120),r=o(30),i=o(60),n=o(15);function o(e){return 60*e*1e3}},51490:(e,t,s)=>{s.d(t,{d:()=>c});var a=s(97500),r=s.n(a),i=s(44629),n=s(57302);const o="ccqn2ecT3axu6r2mw0O5";var l=s(86070);const c=({durationMs:e,className:t,displaySeconds:s})=>{const{hours:a,minutes:c,seconds:u}=(0,i.S)(e);return s=!1!==s&&!a&&u,(0,l.jsx)("span",{className:r()(o,t),children:(0,n.j)({h:a,m:c,s:s?u:0})})}},58574:(e,t,s)=>{s.d(t,{PageErrorTemplate:()=>x});var a=s(30758),r=s(85387),i=s(8859),n=s(94378),o=s(20746),l=s(37899),c=s(73136),u=s(70045),d=s(54091),p=s(88439),m=s(55517);const h="bcHx1xmAgqqiEFhPY_RG";var y=s(86070);const g={"/":i.H,"/search":n.C,"/collection":o.M},x=a.memo(function(){const e=(0,r.zy)(),t=(s=e.pathname,g[s]||l.b);var s;const{spec:i,logger:n}=(0,m.$)(u.W,{data:{uri:e.pathname}}),o=(0,p.n)(i.getAbsoluteLocation(),i),x=(0,a.useCallback)(()=>{const e=i.reloadPageButtonFactory().hitRefreshContent();n.logInteraction(e),window.location.reload()},[i,n]);return(0,y.jsxs)("div",{className:h,ref:o,children:[(0,y.jsx)(t,{width:46,height:46}),(0,y.jsx)("h1",{children:d.Ru.get("error-dialog.generic.header")}),(0,y.jsx)("p",{children:d.Ru.get("error-dialog.generic.body")}),(0,y.jsx)(c.$,{onClick:x,children:d.Ru.get("fatal-error.button-label")})]})})},60404:(e,t,s)=>{s.d(t,{z:()=>l});var a=s(54091);const r={progressBar:"AuXvnACgU_oVoWnyCOKI",progressBarBg:"fLbQCgfoKkqhXY53m89w",progressBarFgWrapper:"sVbWQ3M_V1jUtEJ8VGAX",progressBarFg:"a_NGsCSTowFrDzp6UODF"};var i=s(57302),n=s(44629),o=s(86070);function l({ariaValueText:e,max:t,current:s}){const l={transform:`translateX(-${100-(t&&s?100*Math.min(1,s/t):0)}%)`},c=Math.ceil(Math.max(t-s,0)),{hours:u,minutes:d,seconds:p}=(0,n.S)(t),m=(0,i.j)({h:u,m:d,s:p}),{hours:h,minutes:y,seconds:g}=(0,n.S)(c),x=(0,i.j)({h,m:y,s:g}),f=e||a.Ru.get("time.left-of",x,m);return(0,o.jsxs)("div",{className:r.progressBar,role:"progressbar",tabIndex:0,"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":f,children:[(0,o.jsx)("div",{className:r.progressBarBg}),(0,o.jsx)("div",{className:r.progressBarFgWrapper,children:(0,o.jsx)("div",{"data-testid":"progressBarFg",className:r.progressBarFg,style:l})})]})}},61962:(e,t,s)=>{s.d(t,{X:()=>r});var a=s(32619);function r(e){return[a.kw.YES,a.kw.DOWNLOADING,a.kw.WAITING].includes(e)}},68663:(e,t,s)=>{s.r(t),s.d(t,{default:()=>li});var a=s(30758),r=s(73367),i=s(97500),n=s.n(i),o=s(85387),l=s(3074),c=s.n(l),u=s(91198),d=s(23553),p=s(39329),m=s(54091),h=s(29947),y=s(34649),g=s(80840),x=s(86070);const f={albums:p.$.SEARCH_ALBUMS,artists:p.$.SEARCH_ARTISTS,episodes:p.$.SEARCH_EPISODES,genres:p.$.SEARCH_GENRES,playlists:p.$.SEARCH_PLAYLISTS,podcasts:p.$.SEARCH_SHOWS,audiobooks:p.$.SEARCH_AUDIOBOOKS,tracks:p.$.SEARCH_SONGS,users:p.$.SEARCH_PROFILES,podcastAndEpisodes:p.$.SEARCH_PODCASTS_AND_EPISODES,topResults:p.$.SEARCH};function b({children:e}){const{query:t="",category:s=""}=(0,o.g)();return(0,x.jsx)(y.eZ,{pageId:f[s]??p.$.SEARCH,entityUri:`spotify:app:search:${t}:${s}`,navigationalRoot:g.g.SEARCH,children:e})}function j({children:e}){const{query:t}=(0,o.g)();return(0,x.jsx)(y.eZ,{pageId:p.$.SEARCH,entityUri:`spotify:app:search:${t}`,navigationalRoot:g.g.SEARCH,children:e})}var v=s(50714),C=s(31808),R=s(41730),A=s(38686),k=s(22696),I=s(13059);function P(e){const t=(0,A.f0)(e);if(t[0])return t[0].url}function S(e,t){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,t,s){switch(e.__typename){case"BrowseClientFeature":return(0,x.jsx)(R.r,{uri:e.featureUri,title:e.title?.transformedLabel??"",pageId:"search",href:e.featureUri,color:e.backgroundColor?.hex,imageUrl:P(e),index:t},e.featureUri);case"BrowseSectionContainer":return e.data?.cardRepresentation?(0,x.jsx)(R.r,{uri:s,title:e.data.cardRepresentation.title?.transformedLabel??"",pageId:"search",href:(0,k.K)(s),color:e.data.cardRepresentation.backgroundColor?.hex,imageUrl:P(e),index:t},s):null;case"BrowseSpacesHub":case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,I.k)(e),null}}(e.content.data,t,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"ConcertResponseWrapper":case"MerchResponseWrapper":case"ArtistConcertsResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,I.k)(e.content),null}}var E=s(51220),w=s(75072),T=s(26843);const N=Spicetify.GraphQL.Definitions["browseAll"]=new w.l("browseAll","query","cd6fcd0ce9d1849477645646601a6d444597013355467e24066dad2c1dc9b740",null),U=()=>{const{data:e}=((e,t)=>(0,T.I)(N,e,t))({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{gcTime:E.oC,staleTime:E.PG});return"BrowseSectionContainer"!==e?.browseStart?.__typename?[]:e.browseStart.sections?.items??[]};var B=s(22233),_=s(73499),q=s(55247);const L="ZVIeVe1EZytRz5rlh6R2",F=({browseAllSpec:e})=>{const t=U();return(0,x.jsx)("div",{className:L,children:t.map((t,s)=>function(e,t,s){if(!e.data?.__typename)return null;switch(e.data.__typename){case"BrowseGridSectionData":return(0,x.jsx)(q.r,{spec:t,children:(0,x.jsx)(B.x,{config:(0,_.s1)(_.yV.BROWSE),children:(0,x.jsx)(C.p,{title:e.data?.title?.transformedLabel??"",index:s,id:e.uri,showAll:!0,role:"list",children:e.sectionItems.items.map((e,t)=>S(e,t))})})},e.uri);case"BrowseSingleItemSectionData":case"BrowseGenericSectionData":case"BrowseRelatedSectionData":case"BrowseUnsupportedSectionData":return null;default:return(0,I.k)(e.data),null}}(t,e,s))})};var O=s(91645);const V="dhQUSq89BNfsjESg2cyY",M=()=>{const{spec:e}=(0,O.r)(v.A,{data:{uri:"search:find"}}),t=(0,a.useMemo)(()=>e.browseAllFactory(),[e]);return(0,x.jsx)("div",{className:V,children:(0,x.jsx)(F,{browseAllSpec:t})})};var D=s(58574),W=s(47899),H=s(27360),$=s(69316),z=s(86090),G=s(60749),K=s(78717),Q=s(73136),X=s(61923),Z=s(52066),Y=s(81694),J=s(44451),ee=s(88439);const te="nH5Drr3eoHb7q2RmYUDQ",se="TXMlt5B0WV9eDn_OLWoX",ae="MR0z4OTB7iQSR4DldPJt",re="LZvI8u_FJRsvvMxUFlS4",ie=({forChip:e})=>{const{query:t,serpId:s}=(0,Z.$A)(),a=!(0,Y.n)(),r=`/search/${t}`,i=(0,H.RuZ)(t).toURI(),{spec:n,logger:o}=(0,J.D)(X.w,{data:{uri:i,reason:s}}),l=(0,ee.n)(n.getAbsoluteLocation(),n);return(0,x.jsxs)("div",{className:te,"aria-live":"polite",ref:l,children:[(0,x.jsx)(K.E,{as:"h1",variant:"titleSmall",className:se,children:e?m.Ru.get("search.empty-results-title-for-chip",t,e):m.Ru.get("search.empty-results-title",t)}),(0,x.jsx)("p",{className:ae,children:a?m.Ru.get("web-player.search-modal.offline"):m.Ru.get("search.empty-results-text")}),e&&(0,x.jsx)(G.N_,{to:r,children:(0,x.jsx)(Q.$,{colorSet:"invertedLight",className:re,onClick:()=>{o.logInteraction(n.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:m.Ru.get("search.see-all")})})]})};var ne=s(68402);const oe={results:null,isError:!1,isFetchMoreError:!1};var le=s(27722),ce=s(30504),ue=s(58760),de=s(12586),pe=s(77639),me=s(49060),he=s(60257);const ye="OwSm5OoOA5W3PWMlmzjw",ge="t8YfrgjlNsU7EOoT7ij1",xe="E_UqXILepzudhAuMJCgz",fe=({index:e,item:t})=>{const{episode:s,show:a}=t,{usePlayContextItem:r}=(0,me.P)({uri:t.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,x.jsxs)("div",{className:xe,children:[(0,x.jsx)(le.q,{index:e,episode:{...s,requestId:t.requestId},showMetadata:a,usePlayContextItem:r}),(0,x.jsx)("hr",{className:ge,"aria-hidden":!0})]})},be=({showTitle:e=!0,displayEmptyPageOnEmptyResults:t=!0,displayError:s=!0,enableInfiniteScroll:a=!1,fetchData:r,totalCountRef:i,items:n,isError:o})=>{const{query:l,serpId:c}=(0,Z.$A)(),u=(0,H.RuZ)(l).toURI(),{ref:d,breakpoint:p}=(0,pe.x)({[ue.E.MEDIUM]:0,[ue.E.LARGE]:600}),m=(0,he.s)(),h=`spotify:app:search:${encodeURIComponent(l)}:episodes`,{spec:y,UBIFragment:g}=(0,O.r)(W.w,{data:{uri:u,reason:c}});return o?s?(0,x.jsx)(D.PageErrorTemplate,{}):null:0===i.current?t?(0,x.jsx)(g,{spec:y.emptyResultsFactory(),children:(0,x.jsx)(ie,{forChip:z.j7.episodes()})}):null:(0,x.jsxs)(de.o.Provider,{value:p,children:[n&&e&&(0,x.jsx)($.k,{title:z.j7.episodes(),seeAllUri:h,onClickTitle:()=>{y&&m.logInteraction(y.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:h}))},onClickSeeAll:()=>{y&&m.logInteraction(y.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:h}))},showSeeAll:!a&&n.length<(i.current||0)}),(0,x.jsx)("div",{ref:d,className:ye,children:n&&(0,x.jsx)(ce._,{triggerOnInitialLoad:!1,onReachBottom:()=>{a&&r()},children:n})})]})},je=e=>{const{query:t,api:s}=(0,Z.$A)(),{results:r,isError:i,fetchData:n,totalCountRef:o}=((e,t)=>{const s=(0,ne.a)(),r=(0,a.useRef)(null),i=(0,a.useRef)(0),[n,o]=(0,a.useState)(oe),l=(0,a.useCallback)(async(a=!1)=>{if(!s())return;a&&(i.current=0,r.current=null);let n=e;if(null!==r.current){if(i.current>=r.current)return;i.current+n>r.current&&(n=r.current-i.current)}try{const e=await t(i.current,n);i.current+=n,r.current=e.totalCount||0,s()&&o(t=>({isError:!1,isFetchMoreError:!1,results:(a||null===t.results?[]:t.results).concat(e.items)}))}catch(e){s()&&o(e=>{const t=null===e.results||a;return{results:a?[]:e.results,isError:t,isFetchMoreError:!t}})}},[e,t,s]);return(0,a.useEffect)(()=>{l(!0)},[l]),{results:n.results,isError:n.isError,fetchData:l,totalCountRef:r}})(30,(0,a.useCallback)((e,a)=>s.getFullEpisodes(t,e,a),[s,t]));return(0,x.jsx)(be,{...e,fetchData:n,totalCountRef:o,items:r?.map((e,t)=>(0,x.jsx)(fe,{item:e,index:t},t)),isError:i})};var ve=s(80728),Ce=s(70613);const Re=({query:e,category:t,pageSize:s,includePreReleases:i})=>{const{api:n}=(0,Z.$A)(),o=(0,r.jE)(),l=(0,u.NC)(Ce.Wvg),c=(0,a.useMemo)(()=>["searchCategoryResults",e,{category:t,pageSize:s,includePreReleases:i}],[t,i,s,e]),{data:d,isError:p,isLoading:m,fetchNextPage:h}=(0,ve.q)({queryKey:c,initialPageParam:{offset:0,limit:s},queryFn:async({pageParam:s,signal:a})=>await n.getSearchCategoryResults(t,{searchTerm:e,offset:s.offset,limit:s.limit,includeAudiobooks:!0,includePreReleases:i,includeAuthors:l},a),getNextPageParam:(e,t)=>{if(!e)return null;const a=e.pagingInfo?.nextOffset;if(null===a)return null;let r=s;return void 0!==e.totalCount&&a+r>=e.totalCount&&(r=e.totalCount-a),{offset:a,limit:r}},select:e=>e.pages.flatMap(e=>e.items),gcTime:6e5,staleTime:3e5});return(0,a.useEffect)(()=>()=>{o.setQueryData(c,e=>({pages:e?.pages.slice(0,2)??[],pageParams:e?.pageParams.slice(0,2)??[]}))},[o,c]),{results:d,isLoading:m,isError:p,fetchNextPage:h}};var Ae=s(93698),ke=s(7900),Ie=s(84172);const Pe="l4d3JWwAII6sE2GhxIlf",Se="EMp2zJVWeckURyET5DeJ",Ee="A1l7rTRWkF0QMPZuT0iN",we=({displayChips:e,category:t})=>{const{query:s,serpId:r}=(0,Z.$A)(),i="audiobooks"===t,{results:o,isError:l,isLoading:c,fetchNextPage:u}=Re({query:s,category:t,pageSize:30,includePreReleases:i}),d=(0,a.useCallback)((e,t)=>(0,x.jsx)("div",{className:Ee,children:(0,x.jsx)(ke.Q,{entity:e,testId:`search-category-card-${t}`,index:t})},e.uri),[]),p=(0,H.RuZ)(s).toURI(),{spec:m,UBIFragment:h}=(0,O.r)(Ae.b,{data:{uri:p,identifier:t,reason:r}}),y=(0,a.useMemo)(()=>m.cardsFactory(),[m]),g=(0,a.useMemo)(()=>m.emptyResultsFactory(),[m]);return l?(0,x.jsx)(D.PageErrorTemplate,{}):c||o&&0!==o.length?(0,x.jsx)(h,{spec:y,children:(0,x.jsx)("div",{className:n()(Pe,{[Se]:e}),children:o&&(0,x.jsx)(ce._,{onReachBottom:u,triggerOnInitialLoad:!1,children:(0,x.jsx)(Ie.E,{render:()=>o.map((e,t)=>d(e,t))})})})}):(0,x.jsx)(h,{spec:g,children:(0,x.jsx)(ie,{forChip:z.j7[t]()})})},Te=e=>{const{title:t,category:s,query:a,results:r,position:i,showSeeAll:n}=e;if(!r)return null;const{items:o,totalCount:l}=r;return o&&0!==o.length?(0,x.jsx)(C.p,{index:i,id:s,total:l||0,title:t,testId:`${s}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${s}`,showSeeAll:n,children:o.map((e,t)=>(0,x.jsx)(ke.Q,{entity:e,index:t},e.uri))}):null},Ne=e=>{const{results:t,isError:s}=Re({query:e.query,category:e.category,pageSize:30,includePreReleases:!1});return s||!t||0===t?.length?null:(0,x.jsx)(Te,{...e,results:{items:t,totalCount:t?.length}})},Ue="tVBgEWVvaLJDMxrlFSJz",Be=({results:e})=>{const{query:t,serpId:s}=(0,Z.$A)(),a=(0,H.RuZ)(t).toURI(),{spec:r,UBIFragment:i}=(0,O.r)(W.w,{data:{uri:a,reason:s}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,x.jsx)(i,{spec:r.emptyResultsFactory(),children:(0,x.jsx)(ie,{forChip:z.j7.podcastAndEpisodes()})}):(0,x.jsx)(i,{spec:r,children:(0,x.jsxs)("div",{className:Ue,children:[0!==e?.podcasts.totalCount&&(0,x.jsx)("div",{children:(0,x.jsx)(Ne,{position:0,category:"podcasts",title:z.j7.podcastAndEpisodes(),query:t})}),0!==e?.episodes.totalCount&&(0,x.jsx)("div",{children:(0,x.jsx)(je,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var _e=s(13008),qe=s(10520),Le=s(82898),Fe=s(21017),Oe=s(50324),Ve=s(50279),Me=s(35313),De=s(70675),We=s(7255),He=s(38529),$e=s(31289),ze=s(70655),Ge=s(74571),Ke=s(26471),Qe=s(3591),Xe=s(34267),Ze=s(66079),Ye=s(78007),Je=s(94315),et=s(18949),tt=s(69869),st=s(90809),at=s(18204),rt=s(29112),it=s(15223),nt=s(38324),ot=s(41341),lt=s(15510),ct=s(91816),ut=s(67793),dt=s(94101),pt=s(54635),mt=s(96882),ht=s(72045),yt=s(89307),gt=s(24238),xt=s(75794);const ft=a.memo(function({uri:e,name:t,duration:s,artists:r,album:i,isExplicit:n,is19PlusOnly:o,isPlayable:l,index:c,imgUrl:u,requestId:d,isLyricsMatch:p,hasAssociatedVideo:h,hasAssociatedAudio:y,mediaType:g,type:f}){const b=(0,nt.H)(),{isActive:j,isPlaying:v,triggerPlay:C,togglePlay:R}=(0,me.P)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),{spec:A}=(0,J.D)(qe.i,{data:{position:c,reason:d??"",uri:e}}),k=(0,mt.T)(e),{isArtistBanned:I,unbanArtist:P}=(0,it.D)(r[0]?.uri),S=(0,lt.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,isArtistBanned:I}),E=!h&&!y&&f===yt.c.TRACK&&g===ht.IX.Video,{badges:w,hasBadges:T}=(0,gt.b)({downloadAvailability:k,isExplicit:n,isMOGEFRestricted:o,isVideo:h||E}),N=(0,tt.o)(n,E),U=a.useMemo(()=>E?{modes:{media:"audio"}}:void 0,[E]),B=r?.map(e=>e.name).join(m.Ru.getSeparator())||"",{isWeb:_}=(0,ct.V)();return(0,x.jsx)(Le.h,{menu:(0,x.jsx)(Fe.P,{uri:e,albumUri:i?.uri,artists:r,contextUri:e}),children:(0,x.jsxs)(st.w,{uri:e,contextUri:e,onTriggerPlay:(t,s)=>{b({uri:e}),C({loggingParams:s,...U})},isActive:j,index:c,ariaRowIndex:c+1,isPlayable:S,isArtistBanned:I,handleArtistBanUndoClick:P,ageRestricted:o,dragMetadata:{name:t,createdBy:B},spec:A,isExplicit:n,children:[(0,x.jsx)(Xe.y,{ariaColIndex:0,children:(0,x.jsx)(ze.$,{uri:e,playAriaLabel:m.Ru.get("tracklist.a11y.play",t,B),onClick:(e,t)=>{S&&R({loggingParams:t,...U})},isPlaying:v,isActive:j,spec:A,children:(0,x.jsx)(Ke.a,{children:c+1})})}),(0,x.jsxs)(Ze.U,{ariaColIndex:1,children:[(0,x.jsx)(He.e,{src:N?void 0:u}),(0,x.jsxs)($e.l,{children:[(0,x.jsx)(Oe.R,{enabled:_,uri:e,className:xt.A.rowTitle,children:(0,x.jsx)(et.p,{titleText:t,children:t})}),T&&(0,x.jsxs)(De.P,{children:[w.download&&(0,x.jsx)(dt._,{}),w.explicit&&(0,x.jsx)(ut.U,{}),w.nineteen&&(0,x.jsx)(pt.q,{className:xt.A.nineteen,size:16}),w.isVideo&&(0,x.jsx)(at.l,{})]}),(0,x.jsxs)(Je.p,{children:[(0,x.jsx)(Me.l,{artists:r,spec:A}),p&&(0,x.jsx)(ot.G,{})]})]})]}),(0,x.jsx)(Ye.o,{ariaColIndex:2,children:(0,x.jsx)(Ve.g,{uri:i?.uri||"",name:i?.name||"",creatorUri:r?.[0]?.uri,spec:A,children:i?.name})}),(0,x.jsxs)(Qe.l,{ariaColIndex:3,children:[(0,x.jsx)(rt.d,{uri:e,spec:A}),(0,x.jsx)(We.P,{duration:s.milliseconds}),(0,x.jsx)(Ge.Y,{menu:(0,x.jsx)(Fe.P,{uri:e,albumUri:i?.uri,artists:r,contextUri:e}),label:m.Ru.get("more.label.track",t,B),spec:A})]})]})})},(e,t)=>e.uri===t.uri);var bt=s(23895),jt=s(16666),vt=s(40539),Ct=s(69443),Rt=s(97149),At=s(88095),kt=s(76826);const It="e_N7UqrrJQ0fAw9IkNAL",Pt="qod4MBV8z9G1xi8cCGBV",St="TTqztOKNmOoIgsOzermU",Et="KCkeejQ6OlALo5WqPpnw",wt=({to:e,title:t,selected:s,onClick:a})=>(0,x.jsx)(kt.N,{replace:!0,to:e,tabIndex:-1,onClick:a,className:Et,children:(0,x.jsx)(vt.v,{selected:s,selectedColorSet:"invertedLight",tabIndex:-1,children:t})}),Tt=({searchCategories:e,selectedCategory:t,displayChips:s})=>{const{query:a}=(0,Z.$A)(),{spec:r,logger:i}=(0,O.r)(Ct.q,{});if(!a||!s)return null;const o=encodeURIComponent(a);return(0,x.jsx)("div",{className:It,children:(0,x.jsx)("div",{className:n()(Pt,"contentSpacing"),children:(0,x.jsxs)(Rt.FN,{dragToScrollOptions:{isDisabled:!1},scrollContentClassName:St,children:[e.length>0&&(0,x.jsx)(At.A,{children:(0,x.jsx)(wt,{to:`spotify:app:search:${o}`,title:m.Ru.get("search.title.all"),selected:void 0===t,onClick:()=>{i.logInteraction(r.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}})},"all"),e.map((e,s)=>{const a=z.j7[e]?.()??"";return a||console.warn("Received empty title for category: ",e),(0,x.jsx)(At.A,{children:(0,x.jsx)(wt,{to:`spotify:app:search:${o}:${e}`,title:a,selected:t===e,onClick:()=>{i.logInteraction(r.chipFactory({identifier:e,position:s+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}})},e)})]})})})};var Nt=s(38380),Ut=s(76392);const Bt="Jpio9o1MXAq0k7V9t0DG",_t=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:t,serpId:s}=(0,Z.$A)(),{results:r,isError:i,isLoading:n,fetchNextPage:o}=Re({query:t,category:"tracks",pageSize:20,includePreReleases:!1}),l=(0,a.useCallback)((e,t)=>{const s=(0,Ut.g)(e.album?.images,{desiredSize:40});return(0,x.jsx)(ft,{index:t,uri:(0,Nt.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:s?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo,hasAssociatedAudio:e.hasAssociatedAudio,mediaType:e.mediaType,type:e.type},t+e.uri)},[]),c=(0,a.useMemo)(()=>[jt.$C.INDEX,jt.$C.TITLE_AND_ARTIST,jt.$C.ALBUM,jt.$C.DURATION],[]),u=(0,a.useCallback)(e=>({uri:e.uri}),[]),d=(0,H.RuZ)(t).toURI(),{spec:p,UBIFragment:h}=(0,O.r)(_e.t,{data:{uri:d,reason:s}}),y=(0,a.useMemo)(()=>p.tracksFactory(),[p]),g=m.Ru.get("search.showing-category-query-songs",t);return i?(0,x.jsx)(D.PageErrorTemplate,{}):n||r&&0!==r.length?(0,x.jsx)(h,{spec:y,children:(0,x.jsx)("div",{className:Bt,children:r&&(0,x.jsx)(ce._,{triggerOnInitialLoad:!1,onReachBottom:o,children:(0,x.jsx)(bt.S4,{ariaLabel:g,hasHeaderRow:!0,columns:c,renderRow:l,resolveItem:u,nrTracks:r.length,headerTop:48,tracks:r,columnPersistenceKey:jt.SZ.SEARCH_RESULTS},t)})})}):(0,x.jsx)(h,{spec:p.emptyResultsFactory(),children:(0,x.jsx)(ie,{forChip:z.j7.tracks()})})},qt=({results:e,displayChips:t})=>{const{category:s}=(0,Z.$A)();return s?"podcastAndEpisodes"===s?(0,x.jsx)(Be,{results:e}):"tracks"===s?(0,x.jsx)(_t,{}):"episodes"===s?(0,x.jsx)(je,{enableInfiniteScroll:!0,showTitle:!1}):(0,x.jsx)(we,{displayChips:t,category:s}):(0,x.jsx)(D.PageErrorTemplate,{})};var Lt=s(14336),Ft=s(84775),Ot=s(80128),Vt=s(12502),Mt=s(14338),Dt=s(79877),Wt=s(10700),Ht=s(39125),$t=s(35394),zt=s(96219),Gt=s(35028),Kt=s(59867),Qt=s(41156);const Xt="L66mn0I6Wc25h2YTcIPQ",Zt="aNB93gmHTKiKERcewVrL",Yt="GrmthGodygpHrze9l8ox",Jt="OtLLdZtGaYQ7lBcxWj6t",es="rdMgYAznVpeyA9NOSkoq",ts=(e,t)=>e(zt.d,{concertUri:t}),ss=(e,t)=>e(Gt.$,{concertUri:t}),as=e=>{const[t,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(e.saved),{unsaveConcertFn:n=ss,saveConcertFn:o=ts,enqueueSnackbarFn:l=Dt.M8}=e.deps??{},{getGraphQLLoader:c}=(0,Kt.mv)(),u=c(),d=(0,Qt.V)(),p=(0,H.o_h)(e.uri);if(!p)return null;const h=r?Wt.k:Ht.P,y=r?"textPositive":void 0;return(0,x.jsx)(G.N_,{to:`/${p.toURLPath()}`,onClick:e.onClick,className:Jt,children:(0,x.jsxs)("div",{className:Xt,children:[(0,x.jsxs)("div",{className:Zt,children:[(0,x.jsxs)("div",{className:Yt,children:[(0,x.jsx)(K.E,{as:"div",variant:"marginal",children:e.date.month}),(0,x.jsx)(K.E,{as:"div",variant:"bodySmallBold",children:e.date.day})]}),(0,x.jsxs)("div",{className:es,children:[(0,x.jsx)(K.E,{children:e.title}),(0,x.jsx)(K.E,{semanticColor:"textSubdued",variant:"bodySmall",children:e.subtitle})]})]}),!d&&(0,x.jsx)($t.H,{semanticColor:y,iconOnly:h,"aria-label":m.Ru.get("concerts_interested_tooltip"),onClick:async a=>{if(a.preventDefault(),a.stopPropagation(),!t){s(!0);try{r?(await n(u,e.uri),l(m.Ru.get("concerts_removed-from-your-saved-events")),i(!1)):(e.onClickInterested&&e.onClickInterested(),await o(u,e.uri),l(m.Ru.get("concerts_added-to-your-saved-events")),i(!0))}finally{s(!1)}}}})]})})};var rs=s(92585);const is="lihzwXgIB0kX3P3E0Hbl",ns="fWpzxKGXxojwoQWZHWEi",os="yTfTwsbCFfVbNfe1Rkt7",ls="Ur8rve0mD9AKNTASgUDz",cs=e=>{const t=(0,H.o_h)(e.uri);return t?(0,x.jsx)(G.N_,{to:`/artist/${t.id}/concerts`,onClick:e.onClick,className:ls,children:(0,x.jsxs)("div",{className:is,children:[(0,x.jsx)("div",{className:ns,children:(0,x.jsx)(rs.T,{className:os})}),e.children]})}):null};var us=s(84606);const ds="LWQnfRUl2dMRAwIS8q_z",ps="rFWyzbVVgKf2rntW0v9i",ms="pg6CIM5qFBxltFcNByQz",hs=({uri:e,date:t,title:s,subtitle:r,saved:i})=>{const{spec:n}=(0,O.r)(Vt.S,{data:{uri:e}}),o=(0,he.s)(),l=(0,ee.n)(n?.getAbsoluteLocation(),n),c=new Date(t),u=m.Ru.formatDate(c,{weekday:"short"}),d=m.Ru.formatDate(c,{hour:"numeric",minute:"numeric"}),p=m.Ru.formatDate(c,{day:"numeric"}),h=m.Ru.formatDate(c,{month:"short"}),y=(0,a.useMemo)(()=>n.localConcertFactory({uri:e}),[e,n]),g=(0,a.useMemo)(()=>n.interestedButtonFactory({uri:e}),[e,n]);return(0,x.jsx)("div",{ref:l,children:(0,x.jsx)(as,{uri:e,title:s,saved:i,subtitle:m.Ru.get("search.concert.event",u,d,r),date:{day:p,month:h},onClick:()=>{o.logInteraction(y.hitUiNavigate({destination:e}))},onClickInterested:()=>{o.logInteraction(g.hitUiSelect())}})})},ys=({artistUri:e})=>{const{spec:t}=(0,O.r)(Mt._,{data:{uri:e??""}}),s=(0,he.s)(),r=(0,ee.n)(t.getAbsoluteLocation(),t),i=(0,a.useMemo)(()=>t.onTourShelfFactory({uri:e??""}),[e,t]);return(0,x.jsx)("div",{ref:r,children:(0,x.jsx)(cs,{uri:e??"",onClick:()=>{s.logInteraction(i.hitUiNavigate({destination:`${e}:concerts`}))},children:m.Ru.get("search.concerts.see-all")})})},gs=({artistUri:e,concert:t})=>(0,x.jsxs)("section",{className:n()(ds),children:[(0,x.jsx)("div",{className:us.A.header,children:(0,x.jsx)("div",{className:us.A.topRow,children:(0,x.jsx)("div",{className:us.A.titleWrapper,children:(0,x.jsx)(K.E,{as:"h2",variant:"titleSmall",className:n()(us.A.title,ps),children:m.Ru.get("search.title.concerts")})})})}),(0,x.jsx)("div",{className:ms,children:t?(0,x.jsx)(hs,{...t}):(0,x.jsx)(ys,{artistUri:e})})]});var xs=s(65091),fs=s(57045),bs=s(95097);function js(e){return e.type!==yt.c.SEARCH_SECTION}const vs="FZpyzGUvsZGoPckk0KXr",Cs="DNghlluBkaUv1GDT89Lf",Rs="yc8JbUngk_j0TUSuga_6",As="EqNnLgXNuiJSeryUYJtF",ks="jRsgHkYsi5qUjOLLUcbN",Is="oEBtR4cTvTiyxpJ_8nWF",Ps="RXKov_OJTgBLPhtTJi2c",Ss="nyETSZeB6TDPE4wxgr5W",Es="BhVWGjdJzfAp8_Odbrto",ws="XN_74dXNd7r2Hv89SRwf",Ts="CNWxkcOzSTbuHqTKQlqc",Ns="AgcnRTzqInkpx0UJARw6",Us="vBxY8ALfCyuCavv9ySZW",Bs="uljLg1HxBrpJ8QdvEXPz",_s="C2Ug4tkDdUF3j_TN5rGd",qs="pTmxvMDpuUtUvqkn7gFO",Ls="FV0P2hHRY3NS54ghBhvt",Fs="u_79UGgrEZ4XdovYc6mI",Os="eBC507jSqtM1DzAWc7Bn",Vs="CuEf5jqXQBB30H3UzkBa",Ms="agVwEJorYu3p2Mh3OxkX",Ds="VptQE2dXWwQHllkGrnzp",Ws="rBET0JjMOJPyohSqtqVl",Hs="KsbB6Jf1RbVLrH36fwCu",$s="XPqxzKsL_vgKHMOThmi7",zs="DqF_qL_Le_8mKC7Myi4m",Gs=({item:e,index:t})=>(0,x.jsx)(bs.R,{index:t,id:e.title,title:e.title,className:Hs,children:e.items.map((e,t)=>js(e)?(0,x.jsx)(ke.Q,{index:t,entity:e},e.uri):null)});var Ks=s(70796),Qs=s(89829),Xs=s(20409),Zs=s(42682),Ys=s(51490),Js=s(44265);const ea=({item:e,isWide:t})=>{if(e.type!==yt.c.EPISODE&&e.type!==yt.c.AUDIOBOOK)return null;const s=e.type===yt.c.EPISODE?e.duration.milliseconds:e.durationMs,a=e.type===yt.c.EPISODE?e.release:e.releaseDate;return(0,x.jsxs)(Zs.v,{className:n()(Rs,{[As]:t}),lineClamp:2,hasTextSeparator:!0,children:[a?.isoString&&a?.precision&&(0,x.jsx)(K.E,{as:"span",variant:"bodySmall",semanticColor:"textBase",children:(0,Js.V2)((0,Js.ad)(a.isoString),a.precision)}),s&&(0,x.jsx)(K.E,{as:"span",variant:"bodySmall",semanticColor:"textBase",children:(0,x.jsx)(Ys.d,{durationMs:s})}),e.description&&(0,x.jsx)(K.E,{as:"span",variant:"bodySmall",semanticColor:"textSubdued",children:e.description})]})};var ta=s(43258),sa=s(55043),aa=s(20005),ra=s(87200),ia=s(34503),na=s(65992),oa=s(24903);const la=({hasPlayButton:e,item:t,isWide:s,size:r,onClickPlayPauseButton:i,...o})=>{const l=(0,oa._)(),c=(0,ra.ji)(t),u=(0,ra.CW)(t),d=(0,ra.Hd)(t.type),p=d===ia.u.CIRCLE,h=e&&(0,ra.I)(t.type),{togglePlay:y,isPlaying:g,isActive:f}=(0,me.P)({uri:t.uri},{featureIdentifier:"search"}),b=g?m.Ru.get("playlist.a11y.pause",t.name):m.Ru.get("playlist.a11y.play",t.name),j=(0,a.useCallback)(()=>{let e="play";g?e="pause":f&&(e="resume"),i?.(e),y()},[i,g,f,y]),{bgColorFrom:v,bgColorTo:C}=(0,ra.T5)(t);return(0,x.jsxs)("div",{className:Ps,children:[(0,x.jsx)(ia.b,{images:l(c,na.BZ[r]),shape:d,size:r,type:t.type,title:t.name,loadingMode:"eager",color:t.color,className:n()(Ss,{[Es]:s,[ws]:p,[Ts]:u}),...o,style:{"--bg-color-from":v,"--bg-color-to":C}}),h&&(0,x.jsx)("div",{className:n()(_s,{[Us]:p,[qs]:s&&p}),children:(0,x.jsx)(aa.Zp,{label:b,showDelay:aa.uF,children:(0,x.jsx)($t.H,{iconOnly:g?ta._:sa.A,onClick:j,className:n()(Ns,{[Us]:d===ia.u.CIRCLE,[Bs]:u}),semanticColor:"textBase","aria-label":g?m.Ru.get("playlist.a11y.pause",t.name):m.Ru.get("playlist.a11y.play",t.name),size:"medium"})})})]})},ca=({item:e})=>{if(e.type===yt.c.AUDIOBOOK&&e.signifierText)return(0,x.jsx)(K.E,{variant:"bodySmall",semanticColor:"textBrightAccent",children:e.signifierText});if(e.type===yt.c.TRACK&&e.isLyricsMatch){const e=m.Ru.get("web-player.search-modal.lyrics-match");return(0,x.jsx)(K.E,{variant:"bodySmall",semanticColor:"textSubdued",children:e})}return null};var ua=s(10622),da=s(71809);const pa=({item:e,onArtistClick:t,...s})=>{const a=(0,ra.bA)(e),r=a.length>0,i=(0,ra.Tv)(e),n=(0,ra.$F)(e,{onArtistClick:t}),{releaseDate:o,releaseTimezone:l}=(0,ra.LB)(e),c=r||i?(0,x.jsxs)("span",{children:[r&&(0,x.jsx)("span",{className:Is,children:a}),i&&(0,x.jsx)("span",{children:i})]}):null,u=o?(0,x.jsx)(da.H,{releaseDate:o,timeZone:l}):null;return c||u||n?(0,x.jsxs)(ua.j,{lineClamp:1,hasTextSeparator:!0,...s,children:[c,u,n&&(0,x.jsx)("span",{className:Ws,children:n})]}):null};var ma=s(79898),ha=s(53167);const ya=({item:e,onClick:t,...s})=>{const a=e.type===yt.c.ARTIST&&e.verified;return(0,x.jsx)(aa.Zp,{label:e.name,showDelay:aa.uF,children:(0,x.jsx)(kt.N,{to:e.uri,onClick:t,children:(0,x.jsxs)(ma.d,{lineClamp:3,...s,children:[e.name,a&&(0,x.jsx)(ha.C,{"data-testid":"verified-icon",size:"small",className:n()(ks)})]})})})};var ga=s(87022),xa=s(22141),fa=s(64300),ba=s(49970);const ja=({item:e,contextMenuItem:t,onClickSaveButton:s})=>{const r=(0,ra.dL)(e.type),i=(0,ra.Tv)(e),n=(0,a.useCallback)((e,t,a)=>{s?.(a?"add":"remove",t?"follow":"save")},[s]);return(0,x.jsxs)("div",{className:Fs,children:[i&&(0,x.jsx)("div",{className:Vs,children:(0,x.jsx)(ga.v,{className:Ms,children:i})}),(0,x.jsxs)("div",{className:Os,children:[t&&(0,x.jsx)(fa.b,{menu:t,children:(0,x.jsx)(xa.e,{label:m.Ru.get("more.label.context",e.name),className:Ls,size:xa.M.xs})}),r&&(0,x.jsx)(ba.y,{uri:e.uri,variant:r,onToggleSave:n,showCuration:!0})]})]})};var va=s(37668),Ca=s(37731),Ra=s(21943),Aa=s(10817),ka=s(7213),Ia=s(19397),Pa=s(44856);const Sa=({item:e})=>{switch(e.type){case yt.c.PLAYLIST:return(0,x.jsx)(ka.W,{uri:e.uri});case yt.c.ALBUM:return(0,x.jsx)(va.h,{uri:e.uri,artistUri:e.artists?.[0]?.uri});case yt.c.TRACK:return(0,x.jsx)(Fe.P,{uri:e.uri,albumUri:e.album?.uri,artists:e.artists});case yt.c.ARTIST:return(0,x.jsx)(Ca.t,{uri:e.uri});case yt.c.AUTHOR:return(0,x.jsx)(Pa.L,{uri:e.uri});case yt.c.EPISODE:return(0,x.jsx)(Aa.b,{uri:e.uri,showUri:e.show?.uri});case yt.c.SHOW:return(0,x.jsx)(Ia.H,{uri:e.uri});case yt.c.AUDIOBOOK:return(0,x.jsx)(Ra.p,{uri:e.uri});default:return null}};var Ea=s(62507),wa=s(59725);const Ta=(e,t,s)=>{const{draggableItemUris:r,draggableItemMimeTypes:i}=(0,a.useMemo)(()=>{const s=(0,Ea.j3)(e);return{draggableItemUris:s?[t]:[],draggableItemMimeTypes:s?[s]:[]}},[e,t]),{draggable:n,onDragStart:o}=(0,wa.P)({itemUris:r,itemMimeTypes:i,dragLabelText:s});return(0,a.useMemo)(()=>({draggable:n,onDragStart:o}),[n,o])},Na=(e,t,s)=>({handleRowClick:(0,a.useCallback)(()=>{const a=s.hitUiNavigate({destination:e});t.logInteraction(a)},[t,s,e]),handleClickPlayPauseButton:(0,a.useCallback)(a=>{let r;r="pause"===a?s.playPauseButtonFactory().hitPause({itemToBePaused:e}):"resume"===a?s.playPauseButtonFactory().hitResume({itemToBeResumed:e}):s.playPauseButtonFactory().hitPlay({itemToBePlayed:e}),t.logInteraction(r)},[t,s,e]),handleTitleClick:(0,a.useCallback)(()=>{const a=s.titleLinkFactory({uri:e}).hitUiNavigate({destination:e});t.logInteraction(a)},[t,s,e]),handleArtistClick:(0,a.useCallback)((e,a)=>{const r=s.creatorLinkFactory({position:a,uri:e}).hitUiNavigate({destination:e});t.logInteraction(r)},[t,s]),handleSaveButtonClick:(0,a.useCallback)((a,r)=>{let i;i="add"===a?"follow"===r?s.saveButtonFactory().hitFollow({itemToBeFollowed:e}):s.saveButtonFactory().hitLike({itemToBeLiked:e}):"follow"===r?s.saveButtonFactory().hitUnfollow({itemToBeUnfollowed:e}):s.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e}),t.logInteraction(i)},[t,s,e])});var Ua=s(64571),Ba=s(58248);const _a=({index:e,item:t,spec:s,isWide:r})=>{const i=(0,a.useId)(),o=(0,Ba.g)(),{addToSearchHistory:l}=(0,Ua.k)(),c=(0,he.s)(),{handleArtistClick:u,handleClickPlayPauseButton:d,handleRowClick:p,handleSaveButtonClick:m,handleTitleClick:h}=Na(t.uri,c,s),{draggable:y,onDragStart:g}=Ta(t.type,t.uri,t.name),{togglePlay:f}=(0,me.P)({uri:t.uri},{featureIdentifier:"search"}),b=(0,de.y)(),j=!!b&&[ue.E.LARGE,ue.E.XLARGE].includes(b),v=(0,a.useCallback)(()=>{if(t.type===yt.c.TRACK)return;const e=(0,H.Lce)(t.uri).toURLPath(!0);p(),l([t]),o(e,{state:{referrer:"search"}})},[t,p,l,o]),C=(0,a.useCallback)(()=>{t.type===yt.c.TRACK&&f()},[t.type,f]),R=(0,a.useCallback)(e=>{d(e),t.type!==yt.c.TRACK&&"play"===e&&l([t])},[l,d,t]),A=j?na.Qe.SIZE_64:na.Qe.SIZE_48;return(0,x.jsx)(Xs.$,{rowIndex:e,children:(0,x.jsx)(Le.h,{menu:(0,x.jsx)(Sa,{item:t}),children:(0,x.jsx)(Ks.v,{layout:r?"wide":"regular",isRedundantOnClick:!0,className:n()(Cs,vs),id:i,draggable:y,onClick:v,onDoubleClick:C,onDragStart:g,media:(0,x.jsx)(Qs.T,{columnIndex:0,"data-testid":"media",children:(0,x.jsx)(la,{item:t,size:A,isWide:r,hasPlayButton:!0,onClickPlayPauseButton:R})}),pretitle:(0,x.jsx)(Qs.T,{columnIndex:1,"data-testid":"preTitle",children:(0,x.jsx)(ca,{item:t})}),title:(0,x.jsx)(Qs.T,{columnIndex:2,"data-testid":"title",children:(0,x.jsx)(ya,{item:t,onClick:h})}),subtitle:(0,x.jsx)(Qs.T,{columnIndex:3,"data-testid":"subtitle",children:(0,x.jsx)(pa,{item:t,onArtistClick:u})}),trailing:(0,x.jsx)(Qs.T,{columnIndex:4,"data-testid":"trailing",children:(0,x.jsx)(ja,{item:t,contextMenuItem:(0,x.jsx)(Sa,{item:t}),onClickSaveButton:m})}),body:(t.type===yt.c.EPISODE||t.type===yt.c.AUDIOBOOK)&&(0,x.jsx)(ea,{item:t,isWide:r})})})})};var qa=s(76056);function La({uri:e,onClick:t,...s}){const{togglePlay:r,isPlaying:i,isActive:n}=(0,me.P)({uri:e},{featureIdentifier:"search"}),o=(0,a.useCallback)(()=>{r();let e="play";i?e="pause":n&&(e="resume"),t?.(e)},[r,t,i,n]);return(0,x.jsx)(qa.D,{isPlaying:i,size:s.size,onClick:o,className:s.className})}const Fa=({item:e,contextMenuItem:t,onClickSaveButton:s,onClickPlayPauseButton:r,isPlayable:i})=>{const n=(0,ra.dL)(e.type),o=(0,a.useCallback)((e,t,a)=>{s?.(a?"add":"remove",t?"follow":"save")},[s]);return(0,x.jsx)("div",{className:Ds,"data-testid":"trailing",children:(0,x.jsxs)("div",{className:Os,children:[(0,x.jsx)(Qs.T,{columnIndex:3,"data-testid":"context-menu-button",children:t&&(0,x.jsx)(fa.b,{menu:t,children:(0,x.jsx)(xa.e,{label:m.Ru.get("more.label.context",e.name),className:Ls,size:xa.M.xs})})}),(0,x.jsx)(Qs.T,{columnIndex:4,"data-testid":"save-button",children:n&&(0,x.jsx)(ba.y,{uri:e.uri,variant:n,onToggleSave:o,className:zs,showCuration:!0})}),(0,x.jsx)(Qs.T,{columnIndex:5,"data-testid":"play-button",children:i&&(0,x.jsx)(La,{uri:e.uri,size:"medium",onClick:r})})]})})},Oa=(0,a.memo)(({item:e,spec:t})=>{const s=(0,Ba.g)(),r=(0,H.o_h)(e.uri),i=(0,ra.MB)(r?.type),{draggable:o,onDragStart:l}=Ta(e.type,e.uri,e.name),{addToSearchHistory:c}=(0,Ua.k)(),u=(0,he.s)(),{handleClickPlayPauseButton:d,handleSaveButtonClick:p,handleTitleClick:m,handleArtistClick:h,handleRowClick:y}=Na(e.uri,u,t),g=(0,a.useCallback)(()=>{if(e.type===yt.c.TRACK)return;const t=(0,H.Lce)(e.uri).toURLPath(!0);y(),s(t,{state:{referrer:"search"}}),c([e])},[c,y,e,s]),f=(0,a.useCallback)(t=>{e.type!==yt.c.TRACK&&"play"===t&&c([e]),d(t)},[d,e,c]);return(0,x.jsx)(Le.h,{menu:(0,x.jsx)(Sa,{item:e}),children:(0,x.jsx)(Xs.$,{rowIndex:0,children:(0,x.jsx)(Ks.v,{isRedundantOnClick:!0,variant:"tinted",id:e.uri,padding:"base",horizontalGap:"looser",verticalGap:"looser",draggable:o,onDragStart:l,onClick:g,className:n()($s,vs),media:(0,x.jsx)(Qs.T,{columnIndex:0,"data-testid":"media",children:(0,x.jsx)(la,{item:e,size:na.Qe.SIZE_72,onClickPlayPauseButton:f})}),title:(0,x.jsx)(Qs.T,{columnIndex:1,"data-testid":"title",children:(0,x.jsx)(ya,{item:e,variant:"titleSmall",onClick:m})}),subtitle:(0,x.jsx)(Qs.T,{columnIndex:2,"data-testid":"subtitle",children:(0,x.jsx)(pa,{item:e,onArtistClick:h})}),trailing:(0,x.jsx)(Fa,{item:e,contextMenuItem:(0,x.jsx)(Sa,{item:e}),onClickSaveButton:p,onClickPlayPauseButton:f,isPlayable:i})})})})}),Va=({withTopResult:e,results:t})=>{const s=t.topResults.items,r=(e=>(0,a.useMemo)(()=>{const t=[];let s={type:"list",content:[]};for(const a of e)a.type===yt.c.SEARCH_SECTION?(s.content.length>0&&(t.push(s),s={type:"list",content:[]}),t.push({type:"carousel",content:a})):s.content.push(a);return s.content.length>0&&t.push(s),t},[e]))(s),{spec:i,UBIFragment:n}=(0,O.r)(xs.l,{}),o=(0,de.y)(),l=!(!o||[ue.E.XSMALL,ue.E.SMALL].includes(o))&&(0,ra.Kx)(s);if(!s.length)return(0,x.jsx)(ie,{});let c=-1;return(0,x.jsx)(n,{spec:i,children:(0,x.jsx)("div",{children:r.map((t,a)=>"carousel"===t.type?(c+=1,(0,x.jsx)(n,{spec:i.sectionItemFactory({position:c}),children:(0,x.jsx)(Gs,{item:t.content,index:a})},t.content.title)):(0,x.jsx)(fs.f,{"aria-label":m.Ru.get("web-player.search.list.a11y.label"),"aria-rowcount":s.length,"aria-colcount":3,children:t.content.map((t,s)=>{c+=1;const r=i.listItemFactory({position:c,uri:t.uri});return(0,x.jsx)(n,{spec:r,children:0===a&&0===s&&e?(0,x.jsx)(Oa,{item:t,spec:r}):(0,x.jsx)(_a,{index:s,item:t,isWide:l,spec:r},t.uri)},t.uri)})},a))})})};var Ma=s(87019),Da=s(32467);const Wa=a.memo(function({uri:e,name:t,duration:s,album:r,artists:i,index:n,imgUrl:o,isPlayable:l,isExplicit:c,is19PlusOnly:d,requestId:p,isLyricsMatch:h,hasAssociatedVideo:y,hasAssociatedAudio:g,mediaType:f,type:b,onPlay:j}){const v=!y&&!g&&b===yt.c.TRACK&&f===ht.IX.Video,C=(0,tt.o)(c,v),R=(0,u.NC)(Ce.LX5),{isActive:A,isPlaying:k,triggerPlay:I,togglePlay:P}=(0,me.P)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),S=a.useMemo(()=>v?{modes:{media:"audio"}}:void 0,[v]),{spec:E}=(0,J.D)(qe.i,{data:{position:n,reason:p??"",uri:e}}),w=(0,mt.T)(e),{isArtistBanned:T,unbanArtist:N}=(0,it.D)(i[0]?.uri),U=(0,lt.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,isArtistBanned:T}),{badges:B,hasBadges:_}=(0,gt.b)({downloadAvailability:w,isExplicit:c,isMOGEFRestricted:d,isVideo:R&&(y||v)}),q=(i||[]).map(e=>e.name).join(m.Ru.getSeparator()),{isWeb:L}=(0,ct.V)(),F=(0,ee.n)(E.getAbsoluteLocation(),E);return(0,x.jsx)("div",{ref:F,children:(0,x.jsx)(Le.h,{menu:(0,x.jsx)(Fe.P,{uri:e,artists:i,contextUri:e,albumUri:r?.uri}),children:(0,x.jsxs)(st.w,{uri:e,contextUri:e,index:n,ariaRowIndex:n,onTriggerPlay:(e,t)=>{j?.(),I({loggingParams:t,...S})},isActive:A,isPlayable:U,isArtistBanned:T,handleArtistBanUndoClick:N,ageRestricted:d,dragMetadata:{name:t,createdBy:q},spec:E,isExplicit:c,children:[(0,x.jsxs)(Ze.U,{ariaColIndex:0,children:[(0,x.jsx)(Da.u,{uri:e,src:C?void 0:o,onClick:(e,t)=>{j?.(),P({loggingParams:t,...S})},isLocked:!1,isPlaying:k,isActive:A,playAriaLabel:m.Ru.get("tracklist.a11y.play",t,q),spec:E}),(0,x.jsxs)($e.l,{children:[(0,x.jsx)(Oe.R,{enabled:L,uri:e,className:xt.A.rowTitle,children:(0,x.jsx)(et.p,{titleText:t,children:t})}),_&&(0,x.jsxs)(De.P,{children:[B.download&&(0,x.jsx)(dt._,{}),B.explicit&&(0,x.jsx)(ut.U,{}),B.nineteen&&(0,x.jsx)(pt.q,{className:xt.A.nineteen,size:16}),B.isVideo&&(0,x.jsx)(at.l,{})]}),(0,x.jsxs)(Je.p,{children:[(0,x.jsx)(Me.l,{artists:i,spec:E}),h&&(0,x.jsx)(ot.G,{})]})]})]}),(0,x.jsxs)(Qe.l,{ariaColIndex:1,children:[(0,x.jsx)(rt.d,{uri:e,spec:E}),(0,x.jsx)(We.P,{duration:s.milliseconds}),(0,x.jsx)(Ge.Y,{menu:(0,x.jsx)(Fe.P,{uri:e,artists:i,contextUri:e,albumUri:r?.uri}),label:m.Ru.get("more.label.track",t,q),spec:E})]})]})})})},(e,t)=>e.uri===t.uri&&e.index===t.index),Ha=a.memo(function({tracks:e,query:t}){const s=(0,Z.H6)(),r=(0,a.useCallback)((e,t)=>{const a=(0,Ut.g)(e.album?.images,{desiredSize:40});return(0,x.jsx)(Wa,{uri:(0,Nt.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:a?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo,hasAssociatedAudio:e.hasAssociatedAudio,mediaType:e.mediaType,type:e.type,onPlay:()=>s({entity:e})},e.uri)},[s]),i=(0,a.useMemo)(()=>[jt.$C.TITLE_AND_ARTIST,jt.$C.DURATION],[]),n=(0,a.useCallback)(e=>({uri:e.uri}),[]);return e&&(0,x.jsx)(bt.S4,{ariaLabel:m.Ru.get("search.a11y.songs-search-results"),renderRow:r,rowPlaceholder:Ma.qq,nrTracks:Math.min(e.length,4),tracks:e,resolveItem:n,columns:i},t)},(e,t)=>e.tracks===t.tracks),$a="kirGYFqgK2hZv4Yw4Jw3",za="n2LS0keVAmIDaBXo8edR",Ga=({tracks:e,query:t,className:s,showSeeAll:r=!0,spec:i})=>{const o=(0,he.s)(),l=(0,a.useCallback)(()=>(0,x.jsx)("div",{className:za,children:(0,x.jsx)(a.Suspense,{fallback:null,children:(0,x.jsx)(Ha,{tracks:e.items,query:t})})}),[t,e]),c=`spotify:app:search:${encodeURIComponent(t)}:tracks`,u=(0,a.useCallback)(()=>{const e=i.headerFactory().titleFactory().hitUiNavigate({destination:c});o.logInteraction(e)},[o,i,c]),d=(0,a.useCallback)(()=>{const e=i.headerFactory().seeAllFactory().hitUiNavigate({destination:c});o.logInteraction(e)},[o,i,c]);return e.items.length?(0,x.jsxs)("section",{className:n()($a,s),"aria-label":m.Ru.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,x.jsx)("div",{className:us.A.header,children:(0,x.jsx)($.k,{seeAllUri:c,onClickTitle:u,onClickSeeAll:d,title:m.Ru.get("search.title.tracks"),titleUri:c,showSeeAll:r&&e.items.length>4})}),(0,x.jsx)(q.r,{spec:i,children:(0,x.jsx)(Ie.E,{render:l})})]}):null},Ka=({topRecommendations:e,className:t,position:s})=>{const a=e.totalCount||0;return(0,x.jsx)(C.p,{index:s,id:"top-recommendations",className:t,total:a,title:m.Ru.get("artist-page.featuring",e.artistName),children:e.items.map((e,t)=>(0,x.jsx)(ke.Q,{entity:e,index:t},e.uri))})};var Qa=s(10812);const Xa="FrwBgPrLggPSOmlAUDp_",Za="tyPeARr1PSxTUMloPfkQ",Ya="bBTOlKrKa83pyqm_jr3g",Ja="b6GDe9RWUUWJuNG60pV3",er="yO5mfylEgNTzJFBCb28Z",tr="el8FLMHR9OfkajiC94nI",sr="LgoK_8x1Dmb3oxlhpz5Z",ar="lAhzE56mV62WYHoTY9gg",rr=({topResults:e})=>{const t=e.items.find(js);return t&&(0,x.jsx)(Qa.$,{total:1,className:Xa,title:m.Ru.get("search.title.top-result"),withEncoreCards:!1,children:[(0,x.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Za,children:(0,x.jsx)(ke.Q,{isHero:!0,index:0,entity:t})},"top-result-item")]})};var ir=s(55517);const nr=e=>e?.type===yt.c.ARTIST,or=({results:e})=>{const{query:t,serpId:s}=(0,Z.$A)(),r=(0,H.RuZ)(t).toURI(),{spec:i,UBIFragment:n}=(0,ir.$)(Ft.P,{data:{uri:r,reason:s}}),o=e.topResults.items.length>0,l=e.tracks.items.length>0,c=e.topRecommendations.items.length>0,u=e.topResults.items.find(js),d=nr(u)?(e=>{const[t]=e??[];if(t&&"uri"in(t.data??{}))return{uri:t.data.uri,date:t.data.startDateIsoString,title:t.data.location.city,subtitle:t.data.location.name,saved:t.data.saved}})(u.localConcerts?.items):void 0,p=nr(u)&&(u.hasConcerts||!!d),m=(0,a.useMemo)(()=>({topResult:i.topResultFactory(),trackList:i.trackListFactory(),shelves:i.shelvesFactory()}),[i]);return(0,x.jsx)(Ie.E,{className:Ya,rowGap:Lt.WG,colGap:Lt.CJ,testId:"search-results",render:({columnCount:s})=>{let a,r;return o?a=s>3?er:tr:c&&(s>5&&l?(a=Ja,r=sr):(a=tr,r=ar)),(0,x.jsxs)(x.Fragment,{children:[o&&(0,x.jsx)(n,{spec:m.topResult,children:(0,x.jsx)(rr,{topResults:e.topResults})}),(0,x.jsxs)("section",{className:a,children:[p&&(0,x.jsx)(gs,{artistUri:u.uri,concert:d}),l&&(0,x.jsx)(Ga,{spec:m.trackList,query:t,tracks:p?{totalCount:3,items:e.tracks.items.slice(0,3)}:e.tracks,showSeeAll:!1})]}),c&&(0,x.jsx)(n,{spec:m.shelves,children:(0,x.jsx)(Ka,{position:0,query:t,className:r,topRecommendations:e.topRecommendations,showSeeAll:!1})}),z.ud.map((s,a)=>(0,x.jsx)(n,{spec:m.shelves,children:(0,x.jsx)(Te,{position:a+1,category:s,title:z.j7[s](),query:t,results:e[s],showSeeAll:!1})},`search-shelf-${s}`))]})}})},lr=({results:e,hasResults:t})=>{const{query:s,serpId:a}=(0,Z.$A)(),r=(0,H.RuZ)(s).toURI(),i=!(0,Y.n)(),n=(0,u.NC)(Ce.Yxo),{spec:o,UBIFragment:l}=(0,ir.$)(Ft.P,{data:{uri:r,reason:a}});return i?(0,x.jsx)(ie,{}):e?e&&!t?(0,x.jsx)(l,{spec:o.emptyResultsFactory(),children:(0,x.jsx)(ie,{})}):n!==Ce.EoQ.DISABLED?(0,x.jsx)(Va,{withTopResult:n===Ce.EoQ.LIST_WITH_TOP_RESULT,results:e}):(0,x.jsx)(or,{results:e}):(0,x.jsx)(Ot.LoadingPage,{hasError:!1,errorMessage:""})},cr=Spicetify.GraphQL.Definitions["searchDesktop"]=new w.l("searchDesktop","query","fcad5a3e0d5af727fb76966f06971c19cfa2275e6ff7671196753e008611873c",null);var ur=s(12295);const dr=Spicetify.GraphQL.Definitions["searchAlbums"]=new w.l("searchAlbums","query","5e7d2724fbef31a25f714844bf1313ffc748ebd4bd199eaad50628a4f246a7ab",null),pr=(e,t)=>{const s="object"==typeof e?.requestIds?e?.requestIds:void 0,a=s?.[t],r="object"==typeof a?a:void 0;return"string"==typeof r?.["search-api"]?r?.["search-api"]:void 0},mr=e=>pr(e,"/searchV2"),hr=e=>pr(e,"/searchV2/topResultsV2"),yr=(e,t)=>({...e,pagingInfo:t});var gr=s(82597);const xr=Spicetify.GraphQL.Definitions["searchArtists"]=new w.l("searchArtists","query","a29efc8cb3c99db4581c6bf5d6650d5353236aa8342a065b6f75961076e59fcb",null);var fr=s(5671);const br=Spicetify.GraphQL.Definitions["searchAudiobooks"]=new w.l("searchAudiobooks","query","e05ac765d02c084f8783d3c1572b23d57761c43f47eb8b87ce2f9ccced3fa068",null);var jr=s(36285);const vr=Spicetify.GraphQL.Definitions["searchAuthors"]=new w.l("searchAuthors","query","4a9d403a7cbc7e19da5520d619a865472b35382b043bfa458154e73a5c6f46bd",null);var Cr=s(82761);const Rr=Spicetify.GraphQL.Definitions["searchEpisodes"]=new w.l("searchEpisodes","query","d73d36ba8b7210b60ea8482d61b8ea51d76f3f59d9ed09c18e69f4d69d1f8618",null);const Ar=Spicetify.GraphQL.Definitions["searchFullEpisodes"]=new w.l("searchFullEpisodes","query","e2d515adf105a9c76ee892a14829f6264f2a201587663eb90f7ead282b6c6455",null);var kr=s(16447),Ir=s(10183);const Pr={...Cr.q,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",gatedContentAccessReason:void 0,isLocked:!1};function Sr(e,t){return e.map(e=>function(e,t){if("Episode"!==e.data?.__typename)return null;let s=Pr;"Podcast"===e.data.podcastV2.data.__typename&&(s=(0,kr._v)(e.data.podcastV2.data));return{requestId:t,episode:(0,kr.S)(e.data),show:s}}(e,t)).filter(Ir.P)}async function Er(e,t,s){const a=await e(Ar,t,void 0,void 0,s),r=a?.data?.searchV2?.episodes;return r?function(e,t){return{items:Sr(e?.items||[],t),totalCount:e?.totalCount||0}}(r,mr(a?.extensions)):null}var wr=s(2139);const Tr=Spicetify.GraphQL.Definitions["searchGenres"]=new w.l("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);var Nr=s(3166);const Ur=Spicetify.GraphQL.Definitions["searchPlaylists"]=new w.l("searchPlaylists","query","af1730623dc1248b75a61a18bad1f47f1fc7eff802fb0676683de88815c958d8",null);var Br=s(89478);const _r=Spicetify.GraphQL.Definitions["searchPodcasts"]=new w.l("searchPodcasts","query","0195d9f61b43606d490bca64c3456e3593528cea6cc05c7e822c7c42beed0f4e",null);var qr=s(96777),Lr=s(65479),Fr=s(50201),Or=s(96497);function Vr(e,t){const s=e?.itemsV2??[],a=s.map(({item:e,matchedFields:s})=>{const{__typename:a}=e;switch(a){case"AlbumResponseWrapper":return(0,ur.l)(e,t);case"ArtistResponseWrapper":return(0,gr.f)(e,t);case"AudiobookResponseWrapper":return(0,fr.V)(e,t);case"EpisodeResponseWrapper":return(0,Cr.t)(e,t);case"GenreResponseWrapper":return(0,wr.z)(e,t);case"PlaylistResponseWrapper":return(0,Nr.G)(e,t);case"PodcastResponseWrapper":return(0,Br.yY)(e,t);case"TrackResponseWrapper":return(0,Lr.g)(e,s,t);case"UserResponseWrapper":return(0,Fr.n)(e,t);case"PreReleaseResponseWrapper":return(0,qr.M)(e,t);case"AuthorResponseWrapper":return(0,jr.j)(e,t);case"UnknownTypeWrapper":case"SearchAutoCompleteEntity":case"SearchSectionEntity":return null;default:return(0,I.k)(a),null}}).filter(Ir.P);return{totalCount:s.length,items:a}}function Mr(e,t){const s=e?.featured||[];return{artistName:s.length?Dr(e):"",items:s?.map(e=>(0,Nr.G)(e,t)).filter(Ir.P)||[],totalCount:s.length||0}}function Dr(e){const t=(0,Or.no)(e,"itemsV2",[]);try{const e=(0,Or.Jt)(t.map(({item:e})=>e).filter(Boolean),"0.data");return e?.profile?.name||""}catch{return""}}const Wr=Spicetify.GraphQL.Definitions["searchTopResultsOnly"]=new w.l("searchTopResultsOnly","query","3a6ca725777716bfaba48535a178a45a78064ff94ca86c4c0f33221b38de8674",null);const Hr=Spicetify.GraphQL.Definitions["searchTopResultsList"]=new w.l("searchTopResultsList","query","cb0c9e3b63b19b1836afd448a39189f266e602d8824a27b017ef0a1529c6249a",null);var $r=s(74777),zr=s(95438);const Gr=[];function Kr({item:e,matchedFields:t},s){switch(e.__typename){case"AlbumResponseWrapper":return(0,ur.l)(e,s);case"ArtistResponseWrapper":return(0,gr.f)(e,s);case"AuthorResponseWrapper":return(0,jr.j)(e,s);case"EpisodeResponseWrapper":return(0,Cr.t)(e,s);case"GenreResponseWrapper":return(0,wr.z)(e,s);case"PlaylistResponseWrapper":return(0,Nr.G)(e,s);case"PodcastResponseWrapper":return(0,Br.yY)(e,s);case"AudiobookResponseWrapper":return(0,fr.V)(e,s);case"TrackResponseWrapper":return(0,Lr.g)(e,t,s);case"UserResponseWrapper":return(0,Fr.n)(e,s);case"PreReleaseResponseWrapper":return(0,qr.M)(e,s);case"SearchSectionEntity":return function(e,t){if(!e.data.title?.transformedLabel||e.data.items.length<1)return null;const s=e.data.items.map(e=>"ConcertResponseWrapper"===e.__typename||"EpisodeOrChapterResponseWrapper"===e.__typename||"MerchResponseWrapper"===e.__typename||"PodcastOrAudiobookResponseWrapper"===e.__typename||"UnknownTypeWrapper"===e.__typename?null:Kr({__typename:"TopResultHit",item:e,matchedFields:[]},t)).filter(Ir.P);if(s.length<1)return null;return{type:yt.c.SEARCH_SECTION,title:e.data.title.transformedLabel,items:s}}(e,s);case"SearchAutoCompleteEntity":return null;case"UnknownTypeWrapper":if((0,zr.h)(e._uri)){const{name:t,images:a}=(0,$r.zK)();return{uri:e._uri,type:yt.c.LIKED_SONGS,name:t,images:a,color:void 0,requestId:s}}return null;default:return(0,I.k)(e),null}}const Qr=Spicetify.GraphQL.Definitions["searchTracks"]=new w.l("searchTracks","query","131fd38c13431be963a851082dca0108a4200998b886e7e9d20a21fc51a36aaf",null);const Xr=Spicetify.GraphQL.Definitions["searchUsers"]=new w.l("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);const Zr={items:[],totalCount:0,pagingInfo:{nextOffset:null}},Yr={artistName:"",items:[],totalCount:0},Jr={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},authors:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:Yr,chipOrder:{items:[]}};class ei{constructor(e){this._request=e}async getSearchResults(e,t,s=!1){if(s)return this.getSearchResultsList(e,t);const a=await this._request(cr,e,void 0,void 0,t),r=a?.data?.searchV2;if(!r)return Jr;const i=mr(a?.extensions),n=hr(a?.extensions);return{albums:(0,ur.r)(r.albumsV2,i),artists:(0,gr.P)(r.artists,i),authors:(0,jr.z)(r.authors??null,i),episodes:(0,Cr.NU)(r.episodes,i),genres:(0,wr.F)(r.genres,i),playlists:(0,Nr.Q)(r.playlists,i),podcasts:(0,Br.Yq)(r.podcasts,i),audiobooks:(0,fr.t)(r.audiobooks??null,i),tracks:(0,Lr.x)(r.tracksV2,i),users:(0,Fr.H)(r.users,i),topResults:Vr(r.topResultsV2,n),topRecommendations:Mr(r.topResultsV2,n),chipOrder:r.chipOrder}}async getSearchResultsList(e,t){const s={query:e.searchTerm,limit:e.limit,offset:e.offset,numberOfTopResults:e.numberOfTopResults,includeArtistHasConcertsField:e.includeArtistHasConcertsField,includeLocalConcertsField:e.includeLocalConcertsField,includeAudiobooks:e.includeAudiobooks,includeAuthors:e.includeAuthors,includePreReleases:e.includePreReleases,sectionFilters:[ht.gX.Generic,ht.gX.VideoContent]},a=await this._request(Hr,s,void 0,void 0,t),r=a?.data;if(!r?.searchV2)return Jr;const i=function(e,t){return e.searchV2?.topResultsV2?.itemsV2.length?e.searchV2.topResultsV2.itemsV2.map(e=>Kr(e,t)).filter(Ir.P):Gr}(r,hr(a?.extensions));return{topResults:{items:i},chipOrder:r.searchV2.chipOrder,albums:{totalCount:r.searchV2.albumsV2?.totalCount??0,items:[]},artists:{totalCount:r.searchV2.artists?.totalCount??0,items:[]},authors:{totalCount:r.searchV2.authors?.totalCount??0,items:[]},episodes:{totalCount:r.searchV2.episodes?.totalCount??0,items:[]},genres:{totalCount:r.searchV2.genres?.totalCount??0,items:[]},playlists:{totalCount:r.searchV2.playlists?.totalCount??0,items:[]},podcasts:{totalCount:r.searchV2.podcasts?.totalCount??0,items:[]},audiobooks:{totalCount:r.searchV2.audiobooks?.totalCount??0,items:[]},tracks:{totalCount:r.searchV2.tracksV2?.totalCount??0,items:[]},users:{totalCount:r.searchV2.users?.totalCount??0,items:[]},topRecommendations:Yr}}async getSearchCategoryResults(e,t,s){let a=null;const r={includePreReleases:!1,numberOfTopResults:20,...t};switch(e){case"albums":a=await async function(e,t,s){const a=await e(dr,t,void 0,void 0,s),r=a?.data?.searchV2?.albumsV2;return r?yr((0,ur.r)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"artists":a=await async function(e,t,s){const a=await e(xr,t,void 0,void 0,s),r=a?.data?.searchV2?.artists;return r?yr((0,gr.P)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"authors":a=await async function(e,t,s){const a=await e(vr,t,void 0,void 0,s),r=a?.data?.searchV2?.authors;return r?yr((0,jr.z)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"episodes":a=await async function(e,t,s){const a=await e(Rr,t,void 0,void 0,s),r=a?.data?.searchV2?.episodes;return r?yr((0,Cr.NU)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"genres":a=await async function(e,t,s){const a=await e(Tr,t,void 0,void 0,s),r=a?.data?.searchV2?.genres;return r?yr((0,wr.F)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"playlists":a=await async function(e,t,s){const a=await e(Ur,t,void 0,void 0,s),r=a?.data?.searchV2?.playlists;return r?yr((0,Nr.Q)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"podcasts":a=await async function(e,t,s){const a=await e(_r,t,void 0,void 0,s),r=a?.data?.searchV2?.podcasts;return r?yr((0,Br.Yq)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"audiobooks":a=await async function(e,t,s){const a=await e(br,t,void 0,void 0,s),r=a?.data?.searchV2?.audiobooks;return r?yr((0,fr.t)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"tracks":a=await async function(e,t,s){const a=await e(Qr,t,void 0,void 0,s),r=a?.data?.searchV2?.tracksV2;return r?yr((0,Lr.x)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"users":a=await async function(e,t,s){const a=await e(Xr,t,void 0,void 0,s),r=a?.data?.searchV2?.users;return r?yr((0,Fr.H)(r,mr(a?.extensions)),r.pagingInfo):null}(this._request,r,s);break;case"topResults":a=await async function(e,t,s){const a=await e(Wr,t,void 0,void 0,s),r=a?.data?.searchV2?.topResultsV2;return r?Vr(r,hr(a?.extensions)):null}(this._request,r,s);break;case"podcastAndEpisodes":a=await Er(this._request,r,s);break;default:(0,I.k)(e)}return a??Zr}async getFullEpisodes(e,t=0,s=25){const a={searchTerm:e,offset:t,limit:s};return await Er(this._request,a)||Zr}}var ti=s(42359),si=s(10994),ai=s(794);const ri="_uouXVwE3B06KFxHX0Rj",ii="KByLl14Lq21GjVrEiPJg",ni="c6LxaampIZp4otizCkkQ";const oi=({results:e,hasResults:t})=>{const{category:s}=(0,Z.$A)(),a=(0,u.NC)(Ce.Yxo),r=(0,ra.Qe)(e,s,!1),i="podcasts"!==s&&"episodes"!==s,l=function(e){return!e||"podcastAndEpisodes"===e||"episodes"===e}(s)&&a!==Ce.EoQ.DISABLED;return(0,x.jsxs)("div",{children:[(0,x.jsx)(Tt,{searchCategories:r,selectedCategory:s,displayChips:i}),(0,x.jsx)("div",{className:n()("contentSpacing",ri,{[ni]:l}),id:"searchPage",children:(0,x.jsx)(Ie.E,{className:ii,render:()=>(0,x.jsxs)(o.BV,{children:[(0,x.jsx)(o.qh,{path:"/",element:(0,x.jsx)(y.eZ,{pageId:p.$.FIND,entityUri:"spotify:app:search",navigationalRoot:g.g.SEARCH,children:(0,x.jsx)(M,{})})}),(0,x.jsx)(o.qh,{path:":query",element:(0,x.jsx)(j,{children:(0,x.jsx)(lr,{results:e,hasResults:t})})}),(0,x.jsx)(o.qh,{path:":query/:category",element:(0,x.jsx)(b,{children:(0,x.jsx)(qt,{results:e,displayChips:i})})})]})})})]})};const li=a.memo(function(){const e=(0,r.jE)(),t=(0,u.NC)(Ce.Yxo),s=(0,u.NC)(Ce.Wvg),i=!(0,Y.n)(),[{category:n,query:o},l]=(0,ti.o)();(0,si.m)("search");const[p,y]=(0,a.useState)({results:null,queryForResults:o??""}),g=p.results,f=function(e){return null!==e&&void 0!==Object.keys(e).find(t=>"chipOrder"!==t&&e[t].items.length>0)}(g),{request:b}=a.useContext(ai.j),j=(0,a.useMemo)(()=>new ei(b),[b]),{addToSearchHistory:v,addToSearchHistoryByUri:C}=(0,Ua.k)(),R=(0,a.useCallback)(e=>{"entity"in e?v([e.entity]):C([{uri:e.uri}])},[v,C]),A=(0,a.useCallback)(async e=>{e===p.queryForResults&&f||l(e,n,!1)},[p.queryForResults,n,f,l]);(0,a.useEffect)(()=>{if(!o)return;if(i)return void y({results:null,queryForResults:o});const a=t!==Ce.EoQ.DISABLED,r=a?30:5,n=a?30:10,l=["searchPageResults",o,{numberOfTopResults:r,isAuthorsInSearchEnabled:s}];let c=!0;return e.ensureQueryData({queryKey:l,queryFn:({signal:e})=>{const t={searchTerm:o,offset:0,limit:n,numberOfTopResults:r,includeAudiobooks:!0,includeArtistHasConcertsField:!1,includePreReleases:!0,includeAuthors:s};return j.getSearchResults(t,e,a)},gcTime:9e5,staleTime:9e5}).then(e=>{c&&y({results:e,queryForResults:o})}).catch(e=>{if(("code"in e?e.code:null)!==d.TransportErrors.HTTP_REQUEST_ABORTED)throw e}),()=>{c=!1}},[j,s,i,o,e,t]),(0,a.useEffect)(()=>{o||y({results:null,queryForResults:""})},[o]);const k=(0,a.useMemo)(()=>c().create().toString(),[n,p.queryForResults]),I=(0,a.useMemo)(()=>({api:j,category:n,query:p.queryForResults,onSearchRequest:A,onSearchResultInteraction:R,serpId:k}),[j,n,A,R,p.queryForResults,k]);return(0,x.jsxs)(Z.Lt,{value:I,children:[(0,x.jsx)(h.Q,{children:m.Ru.get("search.page-title")}),(0,x.jsx)(oi,{results:g,hasResults:f})]})})},68930:(e,t,s)=>{s.d(t,{P:()=>p});var a=s(18204),r=s(54691),i=s(97727),n=s(67793),o=s(31139),l=s(54635),c=s(4291),u=s(24238),d=s(86070);const p=({episode:e,showVideoBadge:t=!1})=>{const{badges:s}=(0,u.b)((e=>"contentRating"in e)(e)?{contentRating:e?.contentRating?.label,isPaywalled:e.podcastSubscription?.isPaywalled,isVideo:e.mediaTypes?.includes(c.C.Video)}:{isExplicit:e?.isExplicit,isMOGEFRestricted:e?.is19PlusOnly,isPaywalled:e.podcastSubscription?.isPaywalled}),p=e.gatedEntityRelations&&e.gatedEntityRelations.entitiesWithValueProps.at(0),m=(0,i.B)(p,e);return(0,d.jsxs)(d.Fragment,{children:[s.explicit&&(0,d.jsx)(n.U,{}),m?(0,d.jsx)(r.x,{gatedEntityRelations:e.gatedEntityRelations}):s.paid&&(0,d.jsx)(o.y,{}),s.nineteen&&(0,d.jsx)(l.q,{size:16}),t&&s.isVideo&&(0,d.jsx)(a.T,{})]})}},94639:(e,t,s)=>{s.d(t,{e:()=>o});var a=s(30758),r=s(63918),i=s(39140),n=s(85059);const o=({uri:e,durationMs:t,episodePlaybackState:s,isPlaying:o})=>{const l=(0,r.p)(e),[c,u]=(0,a.useState)(s===i._w.Completed||l?.state===i.H7.Completed),[d]=(0,n.S9)(1e4,t=>t?.item?.uri===e);return(0,a.useEffect)(()=>{!o&&(s===i._w.Completed||l?.state===i.H7.Completed||d>t-1e4)&&u(!0)},[t,s,o,d,l?.state]),{isFullyPlayed:c,setIsFullyPlayed:u}}},96219:(e,t,s)=>{s.d(t,{d:()=>a});const a=new(s(75072).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)}}]);
//# sourceMappingURL=xpui-routes-search.js.map