"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[983],{11511:(e,t,n)=>{n.d(t,{DebugWindowContents:()=>rl});var a=n(30758),s=n(97500),r=n.n(s),l=n(5834),i=n(4913),o=n(38662),c=n(13667),d=n(73704),u=n(89790),m=n(55043),h=n(78328),p=n(7841),x=n(21903),f=n(27689),j=n(39573),g=n(46807);const v="qN_Rb1QBX0afUoFuMwiE",y="IWFEeZIAVP1KJGhL3aXX",b="NET2xgfCPtq_ATgU8EB7",S="XHFptcrMOJyCbq_LosQn",N="UTtZ28okj0S3Qy75wHc9",C="tPKRLbjM2qPmvwFUS_AV",E="TqkogO3mlf4Dw2HyuO2l",w="vAWNZi0S61F6hqMFNF7u",k="uoe5INxEEQCPxBsSodlM",A="hnziQ269wZXTRHLpWVPQ",O="q74ncfik67EgGJSBCImd",I="ab0l_v2qsi5K0bW60GNc",R="w_Nk11JUiHu5qL262Mq8";var P=n(86070);const T=({title:e,titleExtra:t,rows:n,cols:s,canCollapse:l=!1,isCollapsedInitially:i=!1,renderHead:o=!1,renderRow:c})=>{const[d,u]=(0,a.useState)(!!l&&i);return(0,P.jsxs)(p.K,{className:r()(v,{[y]:d}),children:[e?(0,P.jsxs)("div",{className:b,onClick:()=>{l&&u(!d)},children:[l?(0,P.jsx)("button",{className:S,children:d?(0,P.jsx)(x.V,{size:"small"}):(0,P.jsx)(f.r,{size:"small"})}):null,(0,P.jsx)("h3",{children:e}),t]}):null,(0,P.jsxs)(j.X,{className:N,children:[(0,P.jsx)("colgroup",{children:s.map((e,t)=>(0,P.jsx)("col",{width:e.width,className:e.className},t))}),o?(0,P.jsx)("thead",{children:(0,P.jsx)("tr",{children:s.map((e,t)=>(0,P.jsx)(g.M,{className:C,children:e.name},t))})}):null,(0,P.jsx)("tbody",{children:Array.isArray(n)?n.map(e=>c?c(e,s):null):n})]})]})};var L=n(56460),U=n(43038),M=n(89307);const F="jR5orOMQKPUjTM_Kz0yn",D="Nt57YIwnF68qcJPnY9QA",_="l47MjTC2HtI5OOiVZdm_",B="UyBPNR0V34mYz8ob9elI",z="iMSDOo8w0UFWi1UYRdqi",J="wymlC2IK9yitnA_ncapC",H="zOyjHFwk6Rp1yNU1caaq",V="nnjMyZx8xHB7I99jgQDb",$=[{language:"en",uri:"spotify:audio:50PZU7JmDySDzojKzTapDx"},{language:"fr-CA",uri:"spotify:audio:0j61Bw8ZF9wfyW65Cpugt9"}],W=new Intl.DisplayNames(["en"],{type:"language"}),q=({language:e,uri:t})=>{const n=(0,U.z)(),a=(0,L.C)();return(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:e}),(0,P.jsx)(u.n,{className:w,highlight:!0,children:W.of(e)}),(0,P.jsx)(u.n,{className:w,highlight:!0,children:t}),(0,P.jsxs)(u.n,{className:A,children:[(0,P.jsx)("button",{className:I,onClick:()=>{n.play({uri:"spotify:internal:fileplayback",pages:[{items:[{type:M.c.UNKNOWN,uri:t,uid:t,provider:"context",metadata:{title:"Spotify",image_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-300.jpg",image_small_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-64.jpg",image_large_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-640.jpg",image_xlarge_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-640.jpg","actions.advancing_past_track":"stop"}}]}],restrictions:{disallowPausingReasons:["narration"],disallowResumingReasons:["narration"],disallowSeekingReasons:["narration"],disallowSkippingPreviousReasons:["narration"],disallowSkippingNextReasons:["narration"],disallowTogglingRepeatContextReasons:["narration"],disallowTogglingRepeatTrackReasons:["narration"],disallowTogglingShuffleReasons:["narration"],disallowAddToQueueReasons:["narration"],disallowSetQueueReasons:["narration"],disallowSettingPlaybackSpeedReasons:["narration"]}},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"},{skipTo:{index:0}})},children:(0,P.jsx)(m.A,{size:"small"})}),(0,P.jsx)("button",{className:I,onClick:()=>{a(t)},children:(0,P.jsx)(h._,{size:"small"})})]})]})},Y=()=>(0,P.jsx)(T,{title:"Consumption Cap Audio Disclaimer",rows:$,cols:[],renderRow:e=>(0,P.jsx)(q,{...e},e.uri),canCollapse:!0}),Z=()=>(0,P.jsx)("div",{className:F,children:(0,P.jsx)(Y,{})});var G=n(11288);const K="xLTotbpEhG0WwoJtCNo1",Q=()=>{const e=(0,L.C)(),t=(0,G.Y)(),n=t.token?.accessToken??"Not authorized",a=new Date(t.token?.accessTokenExpirationTimestampMs??0);return(0,P.jsx)("div",{className:K,children:(0,P.jsx)(T,{title:"Authorization",rows:[{name:"Token",value:n},{name:"Expires At",value:a.toLocaleString()},{name:"Retry Attempt",value:t.retryAttempt?.toString()??"N/A"},{name:"Retry At",value:t.retryAt?.toLocaleString()??"N/A"}],cols:[{width:"30%"},{},{width:"16px"}],renderRow:({name:t,value:n})=>(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:t}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:n}),(0,P.jsx)(u.n,{className:A,children:(0,P.jsx)("button",{className:I,onClick:()=>e(n),children:(0,P.jsx)(h._,{size:"small"})})})]})})})};var X=n(78717),ee=n(49608),te=n(81739),ne=n(54361),ae=n(87694),se=n(36466),re=n(20005),le=n(39686),ie=n(25109);const oe="c99QLiadJ7NZioHppubX",ce="RSVKpQoViA8QDBcbrklw",de="HI9iaQvp9paZSkt7MT_i",ue="B9nQ0KndR9X0HRystkYQ",me="bkxq65gLH937MjlMMoEm",he=({device:e})=>{const{Editor:t,setContent:n}=(0,le.h)({readOnly:!0,id:`connect:device:${e.id}`,filterable:!0});return(0,a.useEffect)(()=>{n(JSON.stringify(e,null,2))},[e,n]),t},pe=()=>{const[e,t]=(0,a.useState)(new Set),{activeDevice:n,connectionStatus:s,devices:r}=(0,ie.v)(e=>({activeDevice:e.activeDevice,connectionStatus:e.connectionStatus,devices:e.devices})),l=(0,a.useMemo)(()=>{switch(s){case"connected":return"textPositive";case"connecting":return"textWarning";default:return"textNegative"}},[s]);return(0,P.jsxs)("div",{className:oe,children:[(0,P.jsxs)("div",{className:ce,children:[(0,P.jsx)(X.E,{variant:"titleMedium",semanticColor:"textBase",children:"Connect"}),(0,P.jsxs)("div",{className:de,children:[(0,P.jsx)(X.E,{variant:"marginal",semanticColor:"textSubdued",children:"Status:"}),(0,P.jsx)(X.E,{variant:"marginalBold",semanticColor:l,children:s.toUpperCase()})]})]}),(0,P.jsx)(ee.n,{children:r.map(a=>{const s=e.has(a.id),r=n?.id===a.id;return(0,P.jsxs)(te.A,{children:[(0,P.jsxs)(ne.J,{className:ue,onClick:e=>{e.preventDefault(),t(e=>{const t=new Set(e);return s?t.delete(a.id):t.add(a.id),t})},isExpanded:s,children:[(0,P.jsx)(X.E,{variant:"titleSmall",semanticColor:r?"textBase":"textSubdued",children:a.name||`Device ${a.id}`}),r&&(0,P.jsx)(re.Zp,{label:"Active device",children:(0,P.jsx)(ae.E,{className:me,semanticColor:"textBrightAccent",size:"small"})})]}),(0,P.jsx)(se.u,{isExpanded:s,children:(0,P.jsx)(he,{device:a})})]},a.id)})})]})};var xe=n(22396);const fe={ranges:[{name:"Basic Latin (ASCII)",start:"U+0000",end:"U+007F"},{name:"Latin-1 Supplement",start:"U+0080",end:"U+00FF"},{name:"Latin Extended-A",start:"U+0100",end:"U+017F"},{name:"Latin Extended-B",start:"U+0180",end:"U+024F"},{name:"Greek and Coptic",start:"U+0370",end:"U+03FF"},{name:"Cyrillic",start:"U+0400",end:"U+04FF"},{name:"Armenian",start:"U+0530",end:"U+058F"},{name:"Hebrew",start:"U+0590",end:"U+05FF"},{name:"Arabic",start:"U+0600",end:"U+06FF"},{name:"Devanagari",start:"U+0900",end:"U+097F"},{name:"General Punctuation",start:"U+2000",end:"U+206F"}]},je={},ge=()=>{const e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useRef)(null),s=(0,a.useRef)(null),r=(0,a.useCallback)(()=>{const e=n.current?.getBoundingClientRect().width,t=(0,xe.L)(n.current.textContent,20,400);s.current.textContent=`Real width: ${e}px, Estimated width: ${t}px`},[]),l=(0,a.useCallback)(()=>{fe.ranges.forEach(t=>{const n=parseInt(t.start.slice(2),16),a=parseInt(t.end.slice(2),16);for(let t=n;t<=a;t++){const n=String.fromCharCode(t),a=document.createElement("span");a.style.display="inline",a.style.fontSize="20px",a.style.fontWeight="400",a.textContent=n,e.current?.appendChild(a);const s=a.getBoundingClientRect().width,r=Math.floor(s/20*100);je[t]=r}}),t.current.textContent=JSON.stringify(je)},[]);return(0,a.useEffect)(()=>{r()},[r]),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("h2",{children:"Change the text below if the map is working correctly"}),(0,P.jsx)("div",{children:(0,P.jsx)("span",{contentEditable:!0,style:{fontSize:"20px",fontWeight:400,background:"#fff",border:"1px solid blue",margin:"16px 0",padding:"0px"},ref:n,onInput:r,children:"Lorem ipsum dolor sit amet."})}),(0,P.jsx)("pre",{ref:s})]}),(0,P.jsx)("hr",{}),(0,P.jsx)("h2",{children:"JSON font map output"}),(0,P.jsx)("div",{children:(0,P.jsx)("textarea",{style:{width:"100%",height:"200px"},ref:t})}),(0,P.jsx)("hr",{}),(0,P.jsx)("h2",{children:"Rendering Area"}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{onClick:l,children:"Render chars"})}),(0,P.jsx)("div",{style:{width:"100%",maxWidth:"100%",border:"1px solid red"},ref:e})]})};var ve=n(98014),ye=n(281),be=n(40765),Se=n(78776),Ne=n(58109),Ce=n(62960),Ee=n(77075),we=n(40539),ke=n(35394),Ae=n(30920),Oe=n(72398),Ie=n(2061),Re=n(24350),Pe=n(35843),Te=n(73136),Le=n(58090),Ue=n(13074),Me=n(65210),Fe=n(27360),De=n(51708),_e=n(57004),Be=(n(14248),n(91906),n(33214),n(59800),n(1443));function ze(e){return e instanceof Uint8Array?(0,Be.U5)(e):Array.isArray(e)?e.map(ze):"object"!=typeof e||null===e||e instanceof Date?e:Object.fromEntries(Object.entries(e).map(([e,t])=>[e,ze(t)]))}var Je=n(29742);var He=n(24189),Ve=n(28516),$e=n(59861),We=n(18372),qe=n(36267),Ye=n(10183),Ze=n(86182),Ge=n(37451);const Ke="V90zdpW9bDLvtGn402Lg",Qe="vLfGnG7JxCxWbovgEfGC",Xe="JGEfVFpXQS1UQ1pAGhyb",et="K4LwDBk0_q2ysKjHFG5E",tt="I049QOfwzYeH7eIlLfl5",nt="WK9xIqHYOujjm8xmtrLF",at="FCisqOdV6eVzVDhJZTha",st="MFBiOMtfw0wQoRiNKimA",rt="vNb7U46Y9kNiEs39H0vr",lt="mm4uIUv4CtD_30BJCj0k",it="RneAZIIoptwL56E0JRqF",ot="QVltPI5UJe7BMaF7JJ1s",ct=(0,Ze.g)(We.UH);const dt=ve.YOg(ve.Ikc({value:ve.k5n(We.UH),label:ve.YjP()})).catch([]),ut=ve.g1P(ve.YjP(),ve.YOg(ve.k5n(We.UH))).catch({}),mt=ve.zMY().catch(!0),ht=ve.zMY().catch(!0),pt=()=>{const e=(0,qe.t)(),{enqueueSnackbar:t}=(0,He.d)(),n=(0,L.C)(),s=function(){const e=(0,Je.ox)();return(0,a.useMemo)(()=>e?new e.Function("","return navigator.clipboard.readText()"):()=>{},[e])}(),{Editor:r,setContent:l,getContent:i}=(0,le.h)({readOnly:!0,id:"metadataExtensions:response"}),o=Object.values(We.UH).filter(e=>"number"==typeof e).map(e=>({value:e,label:We.UH[e]})),c=(0,a.useMemo)(()=>Object.fromEntries(o.map(e=>[e.value,e])),[o]),[m,p]=(0,a.useState)(""),[x,f]=(0,$e.x)("mex-debug-extensions",dt),[v,y]=(0,$e.x)("mex-debug-extension-kinds-by-entity-uri-to-request",ut),[b,S]=(0,$e.x)("mex-debug-show-decorated-entities",mt),[N,C]=(0,$e.x)("mex-debug-should-hex-encode-bytes",ht),[E,w]=(0,a.useState)(null),k=(0,_e.u)(b?Object.keys(v):[]);(0,a.useEffect)(()=>{if(!E)return void l("");const{requestedExtensionKindsByEntityUri:e,extensionsByEntityUri:t}=E,n=Object.entries(e).map(([e,n])=>({entityUri:e,...Object.fromEntries(n.map(n=>[We.UH[n],t[e]?.[n]??null]))}));l(JSON.stringify(N?ze(n):n,null,2))},[E,l,N]);const A=(0,a.useMemo)(()=>Array.from(new Set(Object.values(v).flat().filter(e=>!(0,We.V$)(e)))),[v]);return(0,P.jsxs)("div",{className:Ke,children:[(0,P.jsx)(X.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:"Metadata extensions"}),(0,P.jsxs)("div",{className:Xe,children:[(0,P.jsx)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation();const n=xt(m).split(/\n/).filter(e=>null!==(0,Fe.o_h)(e,{parseUnknown:!0}));if(!n.length)return void t(`Invalid entity URIs: "${m}"`);if(!x.length)return void t("Please select some metadata extensions before adding");const a=x.map(e=>e.value),s=(0,Ge.h)(v);for(const e of n)s[e]=Array.from(new Set([...s[e]??[],...a]));y(s)},children:(0,P.jsxs)(ye.a,{className:et,variant:"tinted",tabIndex:-1,children:[(0,P.jsx)(X.E,{variant:"titleSmall",paddingBottom:"tighter-2",as:"h3",children:"Add entities"}),(0,P.jsxs)(be.g,{label:"Entity URI(s)",labelFor:"entity-uri",children:[(0,P.jsx)(Se.h,{id:"entity-uri",type:"text",placeholder:"Entity URI(s) to fetch extensions for",value:m,className:tt,autoFocus:!0,onChange:e=>{const t=e.currentTarget.value;p(e.nativeEvent instanceof InputEvent&&"insertFromPaste"===e.nativeEvent.inputType?xt(t):t)},required:!0}),(0,P.jsx)(Ne.N,{children:"Entity URI(s) to request metadata extensions for."})]}),(0,P.jsxs)(be.g,{label:"Metadata extension(s)",labelFor:"metadata-extensions",children:[(0,P.jsx)(Me.Ay,{value:x,id:"metadata-extensions",placeholder:"Metadata extension(s) to fetch",isMulti:!0,name:"Metadata extensions",options:o,onChange:e=>{f([...e])}}),(0,P.jsx)(Ne.N,{children:"Metadata extension(s) to request for the specified entity uri(s)."})]}),(0,P.jsx)(Ce.n,{className:at,type:"submit",disabled:!m||!x.length,children:"Add"})]})}),(0,P.jsxs)(ye.a,{className:nt,variant:"tinted",tabIndex:-1,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(X.E,{variant:"titleSmall",paddingBottom:"tighter-2",as:"h3",children:"Added entities"}),(0,P.jsx)(Ee.X,{checked:b,onChange:e=>{S(e.target.checked)},children:"Show decorated entities"})]}),Object.keys(v).length?(0,P.jsxs)(j.X,{children:[(0,P.jsxs)("colgroup",{children:[(0,P.jsx)("col",{width:"375px"}),(0,P.jsx)("col",{}),(0,P.jsx)("col",{width:"48px"})]}),(0,P.jsx)("thead",{children:(0,P.jsxs)(d.H,{children:[(0,P.jsx)(g.M,{children:"Entity"}),(0,P.jsx)(g.M,{children:"Extensions to request"}),(0,P.jsx)(g.M,{})]})}),(0,P.jsx)("tbody",{children:Object.entries(v).map(([e,a])=>(0,P.jsxs)(d.H,{children:[(0,P.jsx)(u.n,{condensed:!0,children:b?(0,P.jsx)(De.Z,{loading:k.loading&&!(e in k.entitiesByUri),...k.entitiesByUri[e],uri:e}):(0,P.jsx)(we.v,{iconLeading:()=>(0,P.jsx)(Ve.s,{size:"small",type:k.entitiesByUri[e]?.type??(0,Fe.o_h)(e)?.type}),onClick:()=>{n(e),t("URI copied to clipboard")},style:{marginBlockEnd:0},children:e})}),(0,P.jsx)(u.n,{condensed:!0,children:(0,P.jsx)(Me.Ay,{value:a.map(e=>c[e]),placeholder:"Metadata extension(s) to fetch",isMulti:!0,isClearable:!1,name:"Metadata extensions",options:o,onChange:t=>{const n=(0,Ge.h)(v);n[e]=t.map(e=>e?.value??null).filter(Ye.P),y(n)}})}),(0,P.jsx)(u.n,{condensed:!0,children:(0,P.jsx)(re.Zp,{label:"Remove entity",children:(0,P.jsx)(ke.H,{className:at,iconOnly:Ae.M,label:"Remove",onClick:()=>{const{[e]:t,...n}=v;y(n)}})})})]},e))})]}):(0,P.jsxs)(Oe.p,{icon:Ie.Z,variant:"contextual",children:[(0,P.jsx)(Re.R,{children:"No entities added"}),(0,P.jsx)(Pe.S,{children:"Add entities to request metadata extensions for and they'll be listed here."})]})]})]}),(0,P.jsxs)("div",{className:st,tabIndex:-1,children:[(0,P.jsx)(Te.$,{className:at,onClick:async()=>{const t=v,n=await e.fetch(...Object.entries(t).map(([e,t])=>[e,...t]));w({requestedExtensionKindsByEntityUri:t,extensionsByEntityUri:n})},children:"Fetch extensions"}),(0,P.jsx)(Ce.n,{className:at,onClick:async()=>{const n=new Map;for(const[e,t]of Object.entries(v))for(const a of t)n.has(a)||n.set(a,[]),n.get(a)?.push(e);await Promise.all(Array.from(n.entries()).map(([t,n])=>e.expire(n,t))),t("Extensions expired!")},children:"Expire extensions"}),(0,P.jsx)(re.Zp,{label:"Copy request parameters",children:(0,P.jsx)(ke.H,{className:at,iconOnly:Le.C,condensed:!0,onClick:()=>{t("Request parameters copied to clipboard"),n(JSON.stringify(v,null,2))}})}),(0,P.jsx)(re.Zp,{label:"Import request parameters from clipboard",children:(0,P.jsx)(ke.H,{className:at,iconOnly:e=>(0,P.jsx)(Le.C,{...e,className:Qe}),condensed:!0,onClick:async()=>{try{const n=JSON.parse(await s());"object"==typeof(e=n)&&null!==e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&Array.isArray(t)&&t.every(ct))?(y(n),t("Request parameters imported from clipboard")):t("Invalid request parameters in clipboard")}catch(e){t(`Failed to import request parameters from clipboard due to the error: ${e instanceof Error?e.message:e}`)}var e}})})]}),E&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ue.d,{className:rt}),(0,P.jsxs)("div",{className:ot,tabIndex:-1,children:[(0,P.jsxs)("div",{className:lt,children:[(0,P.jsx)(X.E,{variant:"titleMedium",as:"h2",semanticColor:"textBase",children:"Response"}),(0,P.jsxs)("div",{className:it,children:[(0,P.jsx)(re.Zp,{label:"Hex encode all byte fields",children:(0,P.jsx)("div",{children:(0,P.jsx)(Ee.X,{checked:N,onChange:e=>{C(e.target.checked)},children:"Hexify bytes"})})}),(0,P.jsx)(re.Zp,{label:"Copy response to clipboard",children:(0,P.jsx)(ke.H,{className:at,iconOnly:h._,onClick:()=>{n(i()??void 0),t("Response copied to clipboard")}})}),(0,P.jsx)(re.Zp,{label:"Clear response",children:(0,P.jsx)(ke.H,{className:at,iconOnly:Ae.M,onClick:()=>{w(null)}})})]})]}),A.length?(0,P.jsxs)(ye.a,{variant:"contrasting",colorSet:"warning",children:[(0,P.jsx)(X.E,{variant:"titleSmall",paddingBottom:"tighter-2",as:"h3",children:"Warning: requested extensions lacking decoders:"}),(0,P.jsx)("div",{children:A.map(e=>(0,P.jsx)(we.v,{children:We.UH[e]},e))}),(0,P.jsx)(X.E,{variant:"bodyMedium",paddingBottom:"tighter-2",children:"You might want to add proto files and generate a decoders for these in the MetadataExtensionsAPI."})]}):null,r]})]})]})};function xt(e){return e.trimStart().split(/([\s,]+)/).map((e,t)=>t%2?"\n":(0,Fe.o_h)(e,{parseUnknown:!0})?.toURI()??e).join("")}var ft=n(75564),jt=n(67735),gt=n(74097),vt=n(83787),yt=n(30874),bt=n(28838),St=n(9018),Nt=n(59039),Ct=n(25561),Et=n(66446);var wt=n(88840),kt=n(71446);var At=n(50253),Ot=n(62887);const It=({size:e,ranges:t})=>{if(0===t.length)return(0,P.jsx)("div",{className:_,children:(0,P.jsx)("div",{className:B})});const n=`linear-gradient(90deg, ${t.map(t=>{const n=100*t.fromByte/e,a=100*t.toByte/e;return`transparent ${n}%, ${jt.pfM} ${n}%, ${jt.pfM} ${a}%, transparent ${a}%`}).join(", ")})`;return(0,P.jsx)("div",{className:_,children:(0,P.jsx)("div",{className:B,style:{background:n}})})},Rt=({item:e,file:t})=>{const n=(0,U.z)(),a=(0,L.C)(),s=(function(e){let t,n,a=0;if(0===e.length)return a;for(t=0;t<e.length;t++)n=e.charCodeAt(t),a=(a<<5)-a+n,a|=0;return a}(`${t.format}${t.bitrate}${t.formatEnum}`)+180)%360;return(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:(0,P.jsxs)("div",{className:z,style:{background:`linear-gradient(180deg, hsl(${s}, 60%, 30%), hsl(${s}, 40%, 70%))`},children:[(0,P.jsx)("span",{className:J,children:t.format}),(0,P.jsx)("span",{className:H,children:Pt(t)})]})}),(0,P.jsx)(u.n,{className:k,truncate:!0,children:(0,P.jsxs)("div",{className:D,children:[t.fileId,(0,P.jsx)(It,{size:t.byteSize,ranges:t.byteRanges})]})}),(0,P.jsxs)(u.n,{className:A,children:[(0,P.jsx)("button",{className:I,onClick:()=>{n.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...e,provider:"context",metadata:{"media.manifest":JSON.stringify({id:t.fileId,bitrate:t.bitrate,format:t.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,P.jsx)(m.A,{size:"small"})}),(0,P.jsx)("button",{className:I,onClick:()=>{a(t.fileId)},children:(0,P.jsx)(h._,{size:"small"})})]})]})};function Pt(e){switch(e.formatEnum){case 16:return"16-bit";case 22:return"24-bit";default:return Tt(e.bitrate,1e3,"k")}}function Tt(e=void 0,t=1,n=""){if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(Number(e)/t).toLocaleString("en",{maximumFractionDigits:10})}${n}`}function Lt(e=void 0){return!0===e?"Yes":"No"}function Ut(e=void 0){if(void 0!==e)return(0,Ot.f)(Number(e))}const Mt=({name:e,value:t})=>{const n=(0,L.C)();return(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:e}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:t}),(0,P.jsx)(u.n,{className:A,children:(0,P.jsx)("button",{className:I,onClick:()=>n(t),children:(0,P.jsx)(h._,{size:"small"})})})]})},Ft=({terminalType:e,transportType:t,isDefaultDevice:n})=>{const a=n?"essentialPositive":"essentialBase",s=[];switch(e){case ft.FI.TERMINAL_TYPE_SPEAKERS:s.push((0,P.jsx)(gt.r,{semanticColor:a,size:"small"}));break;case ft.FI.TERMINAL_TYPE_HEADPHONES:s.push((0,P.jsx)(vt.r,{semanticColor:a,size:"small"}));break;case ft.FI.TERMINAL_TYPE_DISPLAY_DEVICE:s.push((0,P.jsx)(yt.I,{semanticColor:a,size:"small"}))}switch(t){case ft.Yg.TRANSPORT_TYPE_BUILT_IN:case ft.Yg.TRANSPORT_TYPE_VIRTUAL:break;case ft.Yg.TRANSPORT_TYPE_USB:s.push((0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",style:{position:"relative",top:"3px",width:16,height:16,fill:(0,bt.oj)(a)},children:(0,P.jsx)("path",{d:"m7.792.312-1.533 2.3A.25.25 0 0 0 6.467 3H7.5v7.319a2.5 2.5 0 0 0-.515-.298L5.909 9.56A1.5 1.5 0 0 1 5 8.18v-.266a1.5 1.5 0 1 0-1 0v.266a2.5 2.5 0 0 0 1.515 2.298l1.076.461a1.5 1.5 0 0 1 .888 1.129 2.001 2.001 0 1 0 1.021-.006v-.902a1.5 1.5 0 0 1 .756-1.303l1.484-.848A2.5 2.5 0 0 0 11.995 7h.755a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h.741a1.5 1.5 0 0 1-.747 1.142L8.76 8.99a2.584 2.584 0 0 0-.26.17V3h1.033a.25.25 0 0 0 .208-.389L8.208.312a.25.25 0 0 0-.416 0Z"})}));break;case ft.Yg.TRANSPORT_TYPE_BLUETOOTH:s.push((0,P.jsx)(St.C,{semanticColor:a,size:"small"}));break;case ft.Yg.TRANSPORT_TYPE_DISPLAY_DEVICE:s.push((0,P.jsx)(yt.I,{semanticColor:a,size:"small"}))}return 0===s.length&&s.push((0,P.jsx)(Nt.N,{semanticColor:a,size:"small"})),(0,P.jsx)(P.Fragment,{children:s})},Dt=({name:e,id:t,isDefaultDevice:n,terminalType:a,terminalTypeRaw:s,transportType:r,transportTypeRaw:l})=>{const i=(0,L.C)();return(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsxs)(u.n,{className:w,highlight:!0,children:[(0,P.jsx)(Ft,{terminalType:a,transportType:r,isDefaultDevice:n})," ",e]}),(0,P.jsx)(u.n,{className:k,truncate:!0,children:t}),(0,P.jsx)(u.n,{className:k,children:s}),(0,P.jsx)(u.n,{className:k,children:l}),(0,P.jsx)(u.n,{className:A,children:(0,P.jsx)("button",{className:I,onClick:()=>i(t),children:(0,P.jsx)(h._,{size:"small"})})})]})},_t=()=>{const e=(0,At.o)(e=>e?.item??null),t=function(){const[e,t]=(0,a.useState)(null),n=(0,Et.p)();return(0,a.useEffect)(()=>{let e=!0;return n.getPlaybackInfo().then(n=>{e&&t(n)}),()=>{e=!1}},[n]),(0,kt.F)(wt._.INFO,({data:e})=>{t(e)}),e}(),n=function(e=null,t=null){const[n,s]=(0,a.useState)(null),r=(0,Et.p)();return(0,a.useEffect)(()=>{let n=!0,a=null;if(null===e)s(null);else{const l=async()=>{const t=await r.getFiles(e);n&&s(t)};l(),null!==t&&(a=window.setInterval(l,t))}return()=>{n=!1,null!==a&&window.clearInterval(a)}},[r,e,t]),n}(e?.uri,500),s=(0,U.z)(),[r,l]=(0,a.useState)([]);return(0,a.useEffect)(()=>{const e=(0,Ct.X)(),t=new ft.Ag(e).getAudioOutputDevices({},e=>{l(e.devices.sort((e,t)=>e.isDefaultDevice?-1:t.isDefaultDevice?1:e.name.localeCompare(t.name)))});return()=>{t.cancel()}},[]),null===e?(0,P.jsx)("div",{className:F,children:"Nothing is currently playing."}):(0,P.jsxs)("div",{className:F,children:[(0,P.jsx)("div",{children:(0,P.jsx)("button",{className:V,onClick:()=>{s.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,P.jsx)("span",{children:"Clear context"})})}),(0,P.jsx)(T,{title:"Devices",rows:r,cols:[{name:"Name",width:"30%"},{name:"ID"},{name:"Terminal"},{name:"Transport"},{name:"Actions",width:"16px"}],renderRow:e=>(0,P.jsx)(Dt,{...e}),canCollapse:!0}),(0,P.jsx)(T,{title:"Details",rows:[{name:"url"===t?.fileType?"URL":"File ID",value:t?.fileId},{name:"Type",value:t?.fileType},{name:"Codec",value:t?.codecName},{name:"Bitrate",value:Tt(t?.fileBitrate,1e3,"k")},{name:"Strategy",value:t?.strategy},{name:"Target Bitrate",value:Tt(t?.targetBitrate,1e3,"k")},{name:"Advisted Bitrate",value:Tt(t?.advisedBitrate,1e3,"k")},{name:"Target File Available",value:Lt(t?.targetFileAvailable)},{name:"Duration (hh:mm)",value:Ut(t?.lengthMs)},{name:"Duration (ms)",value:Tt(t?.lengthMs,1," ms")},{name:"Speed",value:Tt(t?.playbackSpeed)},{name:"Gain Adjustment",value:Tt(t?.gainAdjustment)},{name:"Loudness",value:t?.hasLoudness?Tt(t?.loudness):void 0}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,P.jsx)(Mt,{...e}),canCollapse:!0}),(0,P.jsx)(T,{title:"Files",rows:n??[],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:t=>(0,P.jsx)(Rt,{item:e,file:t},t.fileId),canCollapse:!0,isCollapsedInitially:!0})]})};var Bt=n(99944),zt=n(97210),Jt=n(18662),Ht=n(24013),Vt=n(50867),$t=n(36544),Wt=n(60175),qt=n(93208);const Yt="sMYA1cVt3ifF9SLaK_sA",Zt="PDkjW41pQJnZO1zxFL_m",Gt="l3gjzd2M4CJwXoG3yt_n",Kt="QDMhYn2mAvRTRxujLWkm",Qt="Vkqy80apCOHyeJPzmglz",Xt="GSPglbbLg3yW_nHkMFp5",en="XcVLw5XVqNbgwqTwBm0a",tn="BAv1BUCfayg3Pi9ZPdQT",nn="SxzyxFvvhR4Ll_XWDuFq",an="pDoZZCTLs7j5g4kHdGFV",sn="r5qmZrRnkFFxZgSpgf06",rn=()=>{const e=(0,U.z)(),[t,n]=(0,a.useState)(Wt.Yq.TRANSIENT),[s,r]=(0,a.useState)(Wt.Z9.UNKNOWN),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)("Debug Error"),{Editor:m,setContent:h}=(0,le.h)({readOnly:!0,id:"player:errorEvents"}),p=(0,a.useMemo)(()=>({type:t,code:s,reasons:o,message:d}),[t,s,o,d]);(0,a.useEffect)(()=>{h(JSON.stringify(p,null,2))},[p,h]);const x=(0,a.useCallback)(()=>{const t=e.getEvents(),n=new Wt.Mk(p.type,p.code,p.reasons,new Error(p.message));t.emit(qt.gd.ERROR,n)},[e,p]),f=(0,a.useCallback)(()=>{l&&!o.includes(l)&&(c([...o,l]),i(null))},[l,o]),j=(0,a.useCallback)(e=>{c(o.filter(t=>t!==e))},[o]),g=[{label:"TRANSIENT",value:Wt.Yq.TRANSIENT},{label:"PERSISTENT",value:Wt.Yq.PERSISTENT}],v=Object.values(Wt.Z9).map(e=>({label:e,value:e})),y=Object.values(Wt.K7).map(e=>({label:e,value:e}));return(0,P.jsxs)("div",{className:Yt,children:[(0,P.jsxs)("div",{className:Zt,children:[(0,P.jsxs)("div",{className:Gt,children:[(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",children:"Type"}),(0,P.jsx)(Me.Ay,{value:{label:Wt.Yq[t],value:t},options:g,onChange:e=>{e&&n(e.value)}})]}),(0,P.jsxs)("div",{className:Gt,children:[(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",children:"Code"}),(0,P.jsx)(Me.Ay,{value:{label:s,value:s},options:v,onChange:e=>{e&&r(e.value)},isSearchable:!0})]}),(0,P.jsxs)("div",{className:Gt,children:[(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",children:"Message"}),(0,P.jsx)($t.Z,{className:tn,value:d,onChange:e=>u(e.target.value)})]}),(0,P.jsxs)("div",{className:Gt,children:[(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",children:"Add Reason"}),(0,P.jsxs)("div",{className:Kt,children:[(0,P.jsx)(Me.Ay,{value:l?{label:l,value:l}:null,options:y,onChange:e=>{e&&i(e.value)},isSearchable:!0,placeholder:"Select reason...",className:Qt}),(0,P.jsx)(Ce.n,{size:"medium",onClick:f,disabled:!l,children:"Add"})]})]}),o.length>0&&(0,P.jsxs)("div",{className:Gt,children:[(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",children:"Reasons"}),(0,P.jsx)("div",{className:Xt,children:o.map(e=>(0,P.jsxs)("div",{className:en,children:[(0,P.jsx)(X.E,{as:"span",variant:"bodySmall",children:e}),(0,P.jsx)(Ce.n,{iconOnly:Ae.M,size:"small",onClick:()=>j(e),"aria-label":`Remove ${e}`})]},e))})]})]}),(0,P.jsxs)("div",{className:nn,children:[(0,P.jsxs)("div",{className:an,children:[(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",children:"Preview Payload"}),(0,P.jsx)(Ce.n,{className:sn,size:"small",onClick:x,children:"Trigger Error"})]}),m]})]})},ln=()=>{const e=(0,At.o)(e=>e),t=(0,a.useMemo)(()=>JSON.stringify(e,(e,t)=>"metadata"===e&&t?.constructor===Object?Object.fromEntries(Object.entries(t).sort()):t,2),[e]),{Editor:n,setContent:s}=(0,le.h)({readOnly:!0,id:"player:state",filterable:!0});return(0,a.useEffect)(()=>{s(t)},[t,s]),n},on="hSf1W0s4xzBzw0JAsIy1",cn="cDJ9pagbBjSiCMNJQGUW",dn=()=>{const e=(0,a.useMemo)(()=>[{name:"STATE",component:(0,P.jsx)(ln,{})},{name:"ERRORS",component:(0,P.jsx)(rn,{})}],[]);return(0,P.jsxs)("div",{className:on,children:[(0,P.jsx)(X.E,{variant:"titleMedium",semanticColor:"textBase",children:(0,Vt.v)("Player")}),(0,P.jsxs)(Bt.t,{children:[(0,P.jsx)(zt.w,{"aria-label":"See player state or errors",children:e.map(e=>(0,P.jsx)(Jt.V,{value:e.name,label:(0,Vt.v)(e.name)},`player-tab-${e.name}`))}),e.map(e=>(0,P.jsx)(Ht.K,{value:e.name,className:cn,children:e.component},`player-source-${e.name}`))]})]})};var un=n(85387),mn=n(18572),hn=n(78723);const pn="FgFyfBJdyY9lxRNChrKw",xn="X8EZL52xUd1trHjxELIf",fn="haHj0DuwJnjZ_7BHFXGQ",jn="sLwbOR3RncPNzuRP9yJO",gn="_NigK7JOD3FRtSQQ8Pw1",vn="T_ir98NQ2RbR0pil2jVA",yn="CqxO7M8XSktk6seQnUyk",bn="WqNLf15UG9I0BRVdJVSg",Sn=({title:e,items:t,emptyMessage:n,ariaLabel:a,icon:s})=>(0,P.jsxs)("div",{className:xn,children:[(0,P.jsx)(X.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:e}),t.length>0?(0,P.jsx)(hn.I,{mode:"action",layout:"multi-line","aria-label":a,children:t.map(e=>(0,P.jsx)(re.Zp,{label:e.tooltipLabel,showDelay:500,children:(0,P.jsx)(we.v,{iconTrailing:s,onClick:e.handleAction,children:e.label},e.key)},e.key))}):(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textSubdued",children:n})]}),Nn=({value:e,onChange:t,onSubmit:n})=>(0,P.jsxs)("div",{className:jn,children:[(0,P.jsx)(be.g,{label:"Request lens",className:gn,children:(0,P.jsx)($t.Z,{value:e,onChange:e=>t(e.currentTarget.value),placeholder:"Lens identifier"})}),(0,P.jsx)(Te.$,{className:vn,colorSet:"brightAccent",size:"small",iconOnly:mn.U,onClick:n})]}),Cn=({content:e})=>{const{Editor:t,setContent:n}=(0,le.h)({readOnly:!0,id:"playlist:lens"});return(0,a.useEffect)(()=>{const t=JSON.stringify(e,null,2);n(t)},[e,n]),(0,P.jsxs)("div",{className:yn,children:[(0,P.jsx)(X.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:"Current State"}),(0,P.jsx)("div",{className:bn,children:t})]})};var En=n(78146),wn=n(85093);const kn=({playlistUri:e})=>{const t=(0,wn.J)(e),n=(0,En.m)(),[s,r]=(0,a.useState)(""),l=(0,a.useMemo)(()=>({appliedLenses:t?.appliedLenses,autoLenses:t?.autoLenses,availableSignals:t?.availableSignals,formatListData:t?.formatListData}),[t]),i=(0,a.useCallback)(async(t,a)=>{await n.requestLenses(e,t,a),r("")},[n,e]),o=(0,a.useMemo)(()=>t?.appliedLenses?.map(e=>({key:e,label:e,handleAction:()=>i(e,!1),tooltipLabel:`Disable '${e}' lens`}))??[],[t?.appliedLenses,i]),c=(0,a.useCallback)((t,a)=>{n.sendSignal(e,t,a)},[n,e]),d=(0,a.useMemo)(()=>t?.availableSignals?.map(e=>({key:e.name,label:e.name,tooltipLabel:`Send '${e.name}' signal`,handleAction:()=>c(e.name)}))??[],[t?.availableSignals,c]);return(0,P.jsxs)(ye.a,{variant:"bordered",className:pn,children:[(0,P.jsx)(Nn,{value:s,onChange:r,onSubmit:()=>i(s,!0)}),(0,P.jsx)(Sn,{title:"Applied Lenses",items:o,emptyMessage:"No lenses applied",ariaLabel:"Applied lenses",icon:Ae.M}),(0,P.jsx)("div",{className:fn}),(0,P.jsx)(Sn,{title:"Available signals",items:d,emptyMessage:"No available signals",ariaLabel:"Available signals",icon:mn.U}),(0,P.jsx)("div",{className:fn}),(0,P.jsx)(Cn,{content:l})]})};var An=n(70796),On=n(79898),In=n(10622),Rn=n(54091),Pn=n(51173),Tn=n(90970),Ln=n(53032),Un=n(35274),Mn=n(16615),Fn=n(94596);const Dn="P71nkHAdhK5yhjVlI9qx",_n="AiFwWeAulWb63Fs2VNNF",Bn="jMfTJnm3fbGajjvOOhZN",zn="pQayvCOpWMd5F7jRZWyj",Jn="r32hdQMuOatMRUZ9vSJr",Hn="KExqKhXBSVw4UzJPuMUw",Vn="zIPXqeWnLbOa2pH7WcRu",$n=(0,a.memo)(({trackA:e,trackB:t})=>{const[n,a,s]=(0,Tn.P)(e.album?.images??[]),[r,l,i]=(0,Tn.P)(t.album?.images??[]);return(0,P.jsxs)("div",{className:zn,children:[(0,P.jsx)(An.v,{id:`${e.uid}`,variant:"naked",title:e.name,subtitle:e.artists.map(e=>e.name).join(Rn.Ru.getSeparator()),leading:(0,P.jsx)(Un._,{src:n,height:48,width:48,loading:"eager",radius:4})}),(0,P.jsx)(An.v,{id:`${t.uid}`,className:Jn,variant:"naked",title:(0,P.jsx)(On.d,{className:Jn,children:t.name}),subtitle:(0,P.jsx)(In.j,{className:Jn,children:t.artists.map(e=>e.name).join(Rn.Ru.getSeparator())}),trailing:(0,P.jsx)(Un._,{src:r,height:48,width:48,loading:"eager",radius:4})})]})}),Wn=(0,a.memo)(({playlistUri:e,trackA:t,trackB:n})=>{const s=(0,Ln.o)(),{Editor:r,setContent:l}=(0,le.h)({readOnly:!0,id:"custom-transition"}),{Editor:i,setContent:o}=(0,le.h)({readOnly:!0,id:"auto-transition"});return(0,a.useEffect)(()=>{s.getAutoTransitionForTrackPair(t.uri,n.uri).then(e=>{const t=JSON.stringify(e,null,2);o(t)})},[s,o,l,t.uri,n.uri]),(0,a.useEffect)(()=>{s.getCustomTransitionForTrackPair(e,t.uri,n.uri).then(e=>{const t=JSON.stringify(e,null,2);l(t)})},[s,e,o,l,t.uri,n.uri]),(0,P.jsxs)("div",{className:Hn,children:[(0,P.jsxs)("div",{className:Vn,children:[(0,P.jsx)(X.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:(0,Vt.v)("Auto Transition")}),i]}),(0,P.jsxs)("div",{className:Vn,children:[(0,P.jsx)(X.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:(0,Vt.v)("Custom Transition")}),r]})]})}),qn=({playlistUri:e})=>{const{data:t}=(0,Fn.W)(e,{},{isExtraColumnsEnabled:!0}),n=(0,Pn.e)(t?.metadata??null),[s,r]=(0,a.useState)(null),[l,i]=(0,a.useState)(new Set);return(0,a.useEffect)(()=>{if(t?.contents.items&&n){const e=[];for(let n=0;n<t.contents.items.length-1;n++){const a=t.contents.items[n],s=t.contents.items[n+1];a&&s&&(0,Mn.Jy)(a)&&(0,Mn.Jy)(s)&&e.push({trackA:a,trackB:s})}r(e)}},[t,n]),n?(0,P.jsx)(ee.n,{children:s?.map(({trackA:t,trackB:n})=>{const a=`${t.uid}-${n.uid}`,s=l.has(a);return(0,P.jsxs)(te.A,{children:[(0,P.jsx)(ne.J,{className:Bn,isExpanded:s,onClick:e=>{e.preventDefault(),i(e=>{const t=new Set(e);return s?t.delete(a):t.add(a),t})},children:(0,P.jsx)($n,{trackA:t,trackB:n})}),(0,P.jsx)(se.u,{isExpanded:s,children:(0,P.jsx)(Wn,{playlistUri:e,trackA:t,trackB:n})})]},a)})}):(0,P.jsx)(X.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:(0,Vt.v)("Playlist is not mixed.")})},Yn=({playlistUri:e})=>{const t=(0,wn.J)(e),{Editor:n,setContent:s}=(0,le.h)({readOnly:!0,id:"playlist:metadata",defaultFolds:["dynamicColors"],filterable:!0});return(0,a.useEffect)(()=>{const e=JSON.stringify(t,null,2);s(e)},[t,s]),n},Zn=({playlistUri:e})=>{const{data:t}=(0,Fn.W)(e),{Editor:n,setContent:s}=(0,le.h)({readOnly:!0,id:"playlist:contents",filterable:!0});return(0,a.useEffect)(()=>{const e=JSON.stringify(t?.contents,null,2);s(e)},[t?.contents,s]),t?.contents?n:(0,P.jsx)(X.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:(0,Vt.v)("Playlist has no contents")})},Gn=()=>{const e=(0,un.zy)(),t=(0,Fe.o_h)(e.pathname,{parseUnknown:!0}),n=(0,Fe.nuB)(t)||"list"===t?.args?.[0],s=(0,a.useMemo)(()=>[{name:"metadata",component:(0,P.jsx)(Yn,{playlistUri:t?.toURI()??""})},{name:"contents",component:(0,P.jsx)(Zn,{playlistUri:t?.toURI()??""})},{name:"lens",component:(0,P.jsx)(kn,{playlistUri:t?.toURI()??""})},{name:"transitions",component:(0,P.jsx)(qn,{playlistUri:t?.toURI()??""})}],[t]);return(0,P.jsxs)("div",{className:Dn,children:[(0,P.jsx)(X.E,{variant:"titleMedium",semanticColor:"textBase",children:(0,Vt.v)("Playlist")}),n?(0,P.jsxs)(Bt.t,{children:[(0,P.jsx)(zt.w,{"aria-label":"See playlist metadata or contents",children:s.map(e=>(0,P.jsx)(Jt.V,{value:e.name,label:(0,Vt.v)(e.name.toUpperCase())},`playlist-tab-${e.name}`))}),s.map(e=>(0,P.jsx)(Ht.K,{value:e.name,className:_n,children:e.component},`playlist-source-${e.name}`))]}):(0,P.jsx)(X.E,{variant:"bodyMedium",children:"Navigate to a playlist to see metadata here."})]})};var Kn=n(19818);const Qn="rdEKkcWtoCWdojG4c42o",Xn=()=>{const{data:e}=(0,Kn.k)(),t=(0,a.useMemo)(()=>{const t=Object.keys(e).sort().reduce((t,n)=>(t[n]=e[n],t),{});return JSON.stringify(t,null,2)},[e]),{Editor:n,setContent:s}=(0,le.h)({readOnly:!0,id:"productState",filterable:!0});return(0,a.useEffect)(()=>{s(t)},[t,s]),(0,P.jsx)("div",{className:Qn,children:n})};var ea=n(18868),ta=n(49950),na=n(44750),aa=n(85160),sa=n(73634);function ra(e,t){const n=(0,sa.x)();(0,a.useEffect)(()=>n.getEvents().addListener(e,t),[e,t,n])}const la="QpWtEimG3SdOxbAOiklI",ia="dgz7o_EM02bbWipn1YSe",oa="jXsZKHWjQ7gJXflDc9bu",ca=({name:e,value:t})=>{const n=(0,L.C)();return(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:e}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:t}),(0,P.jsx)(u.n,{className:A,children:(0,P.jsx)("button",{className:I,onClick:()=>n(t),children:(0,P.jsx)(h._,{size:"small"})})})]})},da=()=>{const e=(()=>{const e=(0,sa.x)(),[t,n]=(0,a.useState)(e.getSubscriptions()),s=(0,a.useCallback)(()=>{n(e.getSubscriptions())},[e,n]);return ra(aa.K.SUBSCRIBE,s),ra(aa.K.CANCEL,s),ra(aa.K.REFRESH,s),t})(),t=(0,L.C)(),n=Object.entries((s=e=>`${e.ident}${e.isPrefix?"*":""}`,e.reduce((e,t)=>{const n=s(t);return(e[n]=e[n]||[]).push(t),e},{})));var s;return(0,P.jsx)(T,{title:"Subscriptions",rows:n,cols:[{name:"Ident"},{name:"Actions",width:"16px"}],renderRow:([e,n])=>(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsxs)(u.n,{className:k,truncate:!0,children:[e," (",n.length,")"]}),(0,P.jsx)(u.n,{className:A,children:(0,P.jsx)("button",{className:I,onClick:()=>t(e),children:(0,P.jsx)(h._,{size:"small"})})})]},e),canCollapse:!0})};function ua(e){if(e.ident.endsWith("/json"))return!0;if(0===e.payloads.length)return!1;const t=(0,Be.dI)(e.payloads[0]);return t.length>0&&"{"===t[0]}const ma=({message:e})=>{const[t,n]=(0,a.useState)(!1),{Editor:s,setContent:r}=(0,le.h)({readOnly:!0});return(0,a.useEffect)(()=>{if(0!==e.payloads.length)if(ua(e)){const t=JSON.parse((0,Be.dI)(e.payloads[0]));r(JSON.stringify(t,void 0,2))}else{const t=(0,Be.U5)(e.payloads[0]);r(JSON.stringify(t,void 0,2))}},[e,r]),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,children:new Date(e.timestamp).toLocaleString()}),(0,P.jsx)(u.n,{className:w,children:e.ident}),(0,P.jsxs)(u.n,{className:w,children:[(0,P.jsx)("button",{className:I,onClick:()=>n(!t),children:(0,P.jsx)(ea.W,{size:"small"})}),(0,P.jsx)(na.M,{isOpen:t,className:oa,onClose:()=>n(!1),shouldCloseOnEsc:!0,shouldCloseOnBackdropClick:!0,animated:!0,children:s})]})]})},ha=()=>{const e=(0,sa.x)(),[t,n]=(0,a.useState)(0),[s,r]=(0,a.useState)(!0);ra(aa.K.MESSAGE,()=>{n(t+1)});const l=s?e.getMessages().filter(ua):e.getMessages();return(0,P.jsx)(T,{title:"Messages",titleExtra:(0,P.jsxs)("div",{className:ia,children:[(0,P.jsx)(ta.c,{id:"json-only",size:"small",checked:s,onChange:()=>r(!s)}),(0,P.jsx)(X.E,{as:"label",htmlFor:"json-only",variant:"marginal",children:"JSON only"})]}),rows:l,cols:[{name:"Time",width:"200px"},{name:"Ident"},{name:"Payload",width:"16px"}],renderRow:(e,t)=>(0,P.jsx)(ma,{message:e},`${t}-${e.ident}-${e.timestamp}`),canCollapse:!0})},pa=()=>{const e=(()=>{const e=(0,sa.x)(),[t,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{e.getConnectionId().then(e=>n(e))},[e,n]);const s=(0,a.useCallback)(e=>n(e.data.connectionId),[n]);return ra(aa.K.CONNECTION,s),t})();return(0,P.jsxs)("div",{className:la,children:[(0,P.jsx)(T,{title:"PubSub",rows:(0,P.jsx)(ca,{name:"Connection ID",value:e??"-"}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),(0,P.jsx)(da,{}),(0,P.jsx)(ha,{})]})};var xa=n(73075),fa=n.n(xa),ja=n(89408),ga=n(23436),va=n(65351),ya=n(60071),ba=n(94378),Sa=n(43762),Na=n(98449),Ca=n(95264),Ea=n(66147),wa=n(1812),ka=n(76757),Aa=n(242),Oa=n(67692),Ia=n(1566);const Ra=36e5;var Pa=n(39376),Ta=n(88236),La=n(96456),Ua=n(18041),Ma=n(12019),Fa=n(5448),Da=n(70560),_a=n(15106),Ba=n(8476);const za="w6iDTErBEMgsTALq3CZV",Ja="HIT3i7e_DTSXx4hUdMlU",Ha="aMc5eeSrlIKgFQineULh",Va="zvDaYncONuvk2CU0lLcj",$a="e3LvSNoi_mSYgM3YtrJG",Wa="lY_CUjTaNaPgCmm5e8bJ",qa=({property:e,onOverride:t})=>{if(!(0,Ma.OJ)(e)&&!(0,Ma.bF)(e))throw Error("Invalid property type for dropdown!");const n=(0,Ma.OJ)(e)?["true","false"]:e.spec.values,a=e.localValue!==e.remoteValue;return(0,P.jsx)(ga.F,{id:`${e.name}-dropdown`,value:(e.localValue??e.spec.defaultValue).toString(),onChange:n=>{var a;t(e,(a=n.currentTarget.value,(0,Ma.OJ)(e)?"true"===a:a))},className:r()({[$a]:a}),children:n.map(e=>(0,P.jsx)("option",{value:e,children:e},e))})},Ya=({property:e,onOverride:t})=>{if(!(0,Ma.ZK)(e))throw Error("Invalid property type for dropdown!");const n=e.localValue!==e.remoteValue,[s,l]=(0,a.useState)(e.localValue??e.spec.defaultValue),i=(0,ja.YQ)(n=>{t(e,n)},500);return(0,P.jsx)($t.Z,{type:"number",min:e.spec.lower,max:e.spec.upper,value:s,onChange:e=>{l(e.currentTarget.value),i(Number.parseInt(e.currentTarget.value,10))},className:r()({[$a]:n})})},Za=({property:e,experimentUrl:t,isRemoteUserSpecificOverride:n,onOverride:s,filter:r})=>{const{setFilter:l}=(0,a.useContext)(Ea.g),i=e.spec.defaultValue?.toString()??"",o=e.remoteValue?.toString()??"";let c="web-player";c=e.source===Ma.pS.NATIVE?e.component:"desktop-ui";let m=(t||i!==o?o:null)??null;return m&&t&&(m=(0,P.jsxs)("a",{href:t,target:"_blank",className:Wa,children:[o,n&&(0,P.jsx)(va.o,{size:"small"})]}),n&&(m=(0,P.jsx)(re.Zp,{label:"This value comes from a user-specific override in the linked experiment.",children:m}))),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsxs)(u.n,{className:w,title:e.name,highlight:!0,children:[(0,P.jsx)("a",{href:`https://backstage.spotify.net/experimentation/propertiesList?propertyName=${e.name}&scope=${c}`,rel:"noopener noreferrer",target:"_blank",children:r.length>0?(0,P.jsx)(Ca.M,{searchWords:[r,...r.split(".")],textToHighlight:e.name}):e.name}),e.source===Ma.pS.NATIVE?(0,P.jsx)("div",{className:O,children:(0,P.jsx)("a",{onClick:()=>l(e.component),children:r.length>0?(0,P.jsx)(Ca.M,{searchWords:[r,...r.split(".")],textToHighlight:e.component}):e.component})}):null,(0,P.jsx)("div",{className:O,children:e.description})]}),(0,P.jsx)(u.n,{className:k,children:i}),(0,P.jsx)(u.n,{className:k,children:m}),(0,P.jsx)(u.n,{className:k,children:(0,Ma.OJ)(e)||(0,Ma.bF)(e)?(0,P.jsx)(qa,{property:e,onOverride:s}):(0,Ma.ZK)(e)?(0,P.jsx)(Ya,{property:e,onOverride:s}):null})]})},Ga="debugPanelRemoteConfigLastChangedAtByPropertyName";var Ka=function(e){return e.ALL="All",e.WEB="Web",e.NATIVE="Native",e}(Ka||{});const Qa={source:Ka.ALL},Xa=({properties:e})=>{const{filter:t,setFilter:n}=(0,a.useContext)(Ea.g),[s,r]=(0,a.useState)(Qa),l=(0,_a.q)(),i=(0,La.n)(),o=(0,Ta.K)(),[c,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),x=()=>{u(!0)},f=()=>{o.restart()},v=()=>{u(!1)},y=()=>{window.top?.location.reload()},b=()=>{h(!1)},S=(0,a.useRef)(null),N=(0,a.useCallback)(()=>{S.current?.focus()},[]),{handle:C}=(0,Pa.j)(),w=(0,a.useMemo)(()=>new(fa())(C),[C]);(0,a.useEffect)(()=>(w.bind(["mod+f"],N),()=>{w.unbind(["mod+f"])}),[N,w]);const k="macOS"===(0,Ba.f)(),A=(0,a.useCallback)(()=>{const e=l.getItem(Ga);return e instanceof Fa.m||e instanceof Da.Y?{}:e},[l]),O=(0,a.useCallback)((e,t)=>{i.setOverride(e,t),e.source===Ma.pS.NATIVE&&x(),["enableAlbumSortByReleaseDate","enableAuthorPage","enableCoursesChipYlx","enableJamOverPathfinder","enableMixedFilterInYourLibrary","enableOutroPreviewReporting","enableTuna","enableWatchFeedEntityPages","enableYourDJ","enableSleepTimer","reallyEnableUnifiedSmartShuffleSignals","enableSendManualSmartShuffleResetSignalOnSmartShuffleApplied","enableSendManualSmartShuffleResetSignalOnSmartShufflePlayed","enableVenuesInYourLibrary","enableLikedSongsListPlatform","enableLikedSongsAsPlaylistUri","enableBLEJamBroadcasting","enableCentralisedSmartShuffle","enableCentralisedSmartShuffleToggle","enableJamNearbyJoining","enableSmartShuffle","enableStreamReportingTracker","enableStreamReportingTrackerStopVideoPlaybackOnError"]?.includes?.(e.name)&&h(!0),l.setItem(Ga,{...A(),[e.name]:Date.now()})},[i,l,A]),I=(0,a.useRef)(A()),R=e.filter(e=>{const n=e.source===Ma.pS.WEB,a=e.source===Ma.pS.NATIVE;if(s.source===Ka.WEB&&!n||s.source===Ka.NATIVE&&!a)return!1;return-1!==(a?`${e.component}.${e.name}`:e.name).toLowerCase().indexOf(t.toLowerCase())}).sort((e,t)=>{const n=e.localValue!==e.remoteValue;if(n!==(t.localValue!==t.remoteValue))return n?-1:1;const a=I.current[e.name]??0,s=I.current[t.name]??0;return a!==s?a-s:e.name.localeCompare(t.name)}),T=function(){const e=(0,Oa.d)(),t=(0,Kn.k)(),n=(0,Aa.C)()?.username,s=(0,a.useMemo)(()=>ka.mA.getPropertySetId({clientId:e.remote_config_client_id},(0,ka.v6)(),[]),[e.remote_config_client_id]),r=(0,a.useMemo)(()=>{if(!e||!t.data||!n)return null;const a="web-player"===e.remote_config_client_id||"1"===t.data.employee;return{data:{platform:"WEB",clientId:e.remote_config_client_id,country:t.data.country,propertySetKey:s,clientVersion:e.event_sender_context_information?.client_version_string??"",installationId:e.event_sender_context_information?.installation_id??"",oauthClientId:e.event_sender_context_information?.client_id??"",employee:a,catalogue:t.data.catalogue,originPlatform:e.app_platform,originVersion:e.os_version??"",userName:n}}},[n,e,t.data,s]),{data:l}=(0,wa.I)({queryKey:["traceback-config"],queryFn:()=>(0,Ia.V)().request("https://remote-configuration-resolver.spotify.net/debug/traceback-config",{method:"POST",responseType:"json",headers:{"content-type":"application/json"},payload:JSON.stringify(r)}).then(e=>{const t=e.body;return Object.fromEntries(t.data.map(e=>[e.name,e]))}),staleTime:5e3,gcTime:Ra,refetchInterval:Ra,refetchOnWindowFocus:!1,enabled:!!r});return l??{}}();return(0,P.jsxs)("div",{className:Ja,children:[(0,P.jsxs)("div",{className:Ha,children:[(0,P.jsx)(hn.I,{"aria-label":"Properties to show",mode:"single-select",onSelect:()=>{},children:Object.values(Ka).map(e=>(0,P.jsx)(we.v,{selected:s.source===e,variant:s.source===e?"contrasting":"tinted",onClick:()=>r({source:e}),children:e},e))}),(0,P.jsx)("div",{children:(0,P.jsx)(ya.E,{iconLeading:(0,P.jsx)(ba.C,{size:"small"}),iconTrailing:(0,P.jsx)(ke.H,{size:"small",iconLeading:Ae.M,condensedAll:!0,onClick:()=>n("")}),children:(0,P.jsx)($t.Z,{size:"small",type:"text",placeholder:k?"Find (âŒ˜+F)":"Find (Ctrl+F)",value:t,onChange:e=>n(e.currentTarget.value),ref:S})})}),(0,P.jsx)(Ce.n,{className:Va,size:"small",onClick:()=>{i.clearOverrides(),l.clearItem(Ga),x()},children:"Clear overrides"})]}),c?(0,P.jsx)(Sa.l,{contextual:!0,onClose:v,renderCloseButton:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ke.H,{size:"small",iconLeading:Na.H,condensedAll:!0,onClick:f,children:"Restart"}),(0,P.jsx)(ke.H,{size:"small",iconLeading:Ae.M,condensedAll:!0,onClick:v,children:"Dismiss"})]}),colorSet:"warningSubdued",children:(0,P.jsx)("span",{children:"Changing native overrides requires a restart."})}):null,m?(0,P.jsx)(Sa.l,{contextual:!0,onClose:b,renderCloseButton:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ke.H,{size:"small",iconLeading:Na.H,condensedAll:!0,onClick:y,children:"Reload"}),(0,P.jsx)(ke.H,{size:"small",iconLeading:Ae.M,condensedAll:!0,onClick:b,children:"Dismiss"})]}),colorSet:"warningSubdued",children:(0,P.jsx)("span",{children:"Changing platform overrides requires a reload."})}):null,(0,P.jsx)(p.K,{children:(0,P.jsxs)(j.X,{children:[(0,P.jsxs)("colgroup",{children:[(0,P.jsx)("col",{width:"30%"}),(0,P.jsx)("col",{}),(0,P.jsx)("col",{})]}),(0,P.jsxs)("tbody",{children:[(0,P.jsxs)(d.H,{children:[(0,P.jsx)(g.M,{className:E,children:"Name"}),(0,P.jsx)(g.M,{className:E,children:"Default"}),(0,P.jsx)(g.M,{className:E,children:"Remote"}),(0,P.jsx)(g.M,{className:E,children:"Local"})]}),R.map((e,n)=>(0,P.jsx)(Za,{property:e,experimentUrl:T?.[e.name]?.experimentRef?.experimentUrl,isRemoteUserSpecificOverride:T?.[e.name]?.isOverride??!1,onOverride:O,filter:t},`${n}-${e.name}`))]})]})})]})},es=()=>{const e=(0,Ua.a)();return(0,P.jsx)("div",{className:za,children:(0,P.jsx)(Ea.s,{uri:"spotify:internal:debug:remote-config-properties",children:(0,P.jsx)(Xa,{properties:e})})})},ts="l1lNOKBlBIDacRoQ4pQK",ns="Rsyb6eAGUhSKylBMNDIa",as=()=>{const e=(0,un.zy)(),t=(0,un.Zp)(),n=e=>{t(e,{state:{preventMoveFocus:!0}})},a=(0,Fe.o_h)(e.pathname);return(0,P.jsxs)("div",{className:ts,children:[(0,P.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target).get("navigateTo").toString(),a=new URL(t,"https://open.spotify.com");a.hostname&&a.pathname?n(a.pathname+a.search+a.hash):n(t)},className:ns,children:[(0,P.jsx)("label",{htmlFor:"navigate-input",children:"Navigate to"}),(0,P.jsx)(X.E,{variant:"bodySmall",as:"input",style:{color:jt.Ql9},name:"navigateTo",id:"navigate-input",type:"text",placeholder:"ex. /search/nirvana",onKeyDown:e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.stopPropagation()}})]}),(0,P.jsx)("h2",{children:"Current location:"}),(0,P.jsxs)("ul",{children:[(0,P.jsxs)("li",{children:["Location: ",e.pathname]}),e.search&&(0,P.jsxs)("li",{children:["Search params: ?",e.search]}),e.hash&&(0,P.jsxs)("li",{children:["Hash params: #",e.hash]}),a?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("li",{children:["URL: ",a.toURL()]}),(0,P.jsxs)("li",{children:["URI: ",a.toURI()]})]}):(0,P.jsx)("li",{children:"Not parseable as a Spotify URI!"}),(0,P.jsxs)("li",{children:["Location state: ",(0,P.jsx)("pre",{children:JSON.stringify(e.state,null,2)})]})]})]})};var ss=n(91198),rs=n(23251),ls=n(70613);const is=()=>{const e=(0,ss.NC)(ls.QMQ),t=(0,La.n)();return(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"React-Query Cache Persistence"}),(0,P.jsx)(u.n,{className:k,align:"right",children:(0,P.jsx)(Ee.X,{checked:e,onChange:e=>{t.setOverride({source:Ma.pS.WEB,type:Ma.Ut.BOOLEAN,name:"enableReactQueryPersistence"},Boolean(e.target.checked))},children:"Enabled"})}),(0,P.jsx)(u.n,{className:k,align:"right",children:(0,P.jsx)(Te.$,{size:"small",onClick:()=>{(0,rs.k)()},children:"Clear cache"})})]})},os=()=>(0,P.jsx)("div",{className:F,children:(0,P.jsx)(T,{title:"Development options",rows:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(is,{})}),cols:[],canCollapse:!0})});var cs=n(62411),ds=n(81458),us=n(19717),ms=n(80243),hs=n(55164),ps=n(21805),xs=function(e){return e.IPL="IN_PERSON",e.RGS="REMOTE",e}(xs||{});function fs({obj:e}){return(0,P.jsx)(j.X,{children:(0,P.jsx)("tbody",{children:Object.entries(e).map(e=>(0,P.jsx)(js,{name:e[0],value:e[1]},e[0]))})})}function js({name:e,value:t}){const n=(0,L.C)();let a;return"string"==typeof t||"number"==typeof t?a=t:"boolean"==typeof t?a=(0,P.jsx)(Ee.X,{defaultChecked:t,isActive:!1,onClick:e=>{e.preventDefault()}}):"object"==typeof t&&null!==t&&(a=(0,P.jsx)(fs,{obj:t})),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:e}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:a}),(0,P.jsx)(u.n,{className:A,children:(0,P.jsx)("button",{className:I,onClick:()=>{void 0!==t&&n("object"==typeof t?JSON.stringify(t):t.toString())},children:(0,P.jsx)(h._,{size:"small"})})})]})}var gs=n(90662);var vs=n(63669),ys=n(1850),bs=n(20786);var Ss=n(4410);const Ns=({deviceId:e,title:t,tech:n,type:a,token:s,isNew:r})=>{const l=(0,vs.d)(),{data:i}=(0,wa.I)({queryKey:["scannedDeviceRowJam",s],queryFn:()=>l.getSessionInfo(s),refetchInterval:3e4});return(0,P.jsx)(T,{title:t,rows:[{name:"Device ID",value:e},{name:"Tech",value:Ss.x[n]},{name:"Type",value:Ss.Z[a]},{name:"Token",value:s},{name:"Is new",value:r.toString()},...i?[{name:"Jam session id",value:i.sessionId},{name:"Jam session owner is self",value:i.isSessionOwner.toString()},{name:"Jam session owner",value:i.sessionMembers.find(e=>e.id===i.sessionOwnerId)?.displayName}]:[]],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:({name:e,value:t})=>(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:e}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:t})]}),canCollapse:!0,isCollapsedInitially:!0},e)},Cs=()=>{const e=(()=>{const e=(0,vs.d)(),[t,n]=(0,a.useState)(e.getLocalNetSessionDevices());return(0,bs.c)(ys.P.SCAN_UPDATE,()=>{n(e.getLocalNetSessionDevices())}),t})();return e?.devices.map(e=>(0,P.jsx)(Ns,{...e},e.deviceId))};var Es=n(29412),ws=n(89877),ks=n(79260);const As=ve.zMY().catch(!1),Os=ve.zMY().catch(!1);var Is=n(58248);const Rs=[{title:"Debugging Info",Component:()=>{const e=(0,ks.M)(),t=(0,ws.C)(),n=(0,Es.y)(),a=(0,gs.g)(),[s]=(0,$e.x)("dismissStartJamButtonFromQueue",As),[r]=(0,$e.x)("dismissStartJamButtonFromFriendFeed",Os);return(0,P.jsx)(p.K,{children:(0,P.jsxs)(j.X,{children:[(0,P.jsxs)("colgroup",{children:[(0,P.jsx)("col",{width:"30%"}),(0,P.jsx)("col",{}),(0,P.jsx)("col",{width:"16px"})]}),(0,P.jsxs)("tbody",{children:[(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"useIsSocialConnectAPIEnabled"}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:e})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"useJamExperience()"}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:t})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Is user considered in a Jam?"}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:a.toString()})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"useCanCreateJam()"}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:n.toString()})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Jam banner dismissed from queue"}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:s.toString()})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Jam banner dismissed from friend feed"}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:r.toString()})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Scanned devices"}),(0,P.jsx)(u.n,{className:k,truncate:!0,align:"right",children:(0,P.jsx)(j.X,{children:(0,P.jsx)("tbody",{children:(0,P.jsx)(Cs,{})})})})]})]})]})})}},{title:"Current Session",Component:()=>{const{currentSession:e,refreshCurrentSession:t}=(0,ps.D)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ke.H,{iconOnly:Na.H,onClick:()=>{t()}}),(0,P.jsx)(p.K,{children:e&&(0,P.jsxs)(j.X,{children:[(0,P.jsxs)("colgroup",{children:[(0,P.jsx)("col",{width:"30%"}),(0,P.jsx)("col",{}),(0,P.jsx)("col",{width:"16px"})]}),(0,P.jsx)("tbody",{children:Object.entries(e).map(e=>(0,P.jsx)(js,{name:e[0],value:e[1]},e[0]))})]})})]})}},{title:"Create New Session",Component:()=>{const{createSession:e}=(0,ps.D)(),[t,n]=(0,a.useState)(null),[s,r]=(0,a.useState)(xs.IPL),l=(0,cs.wA)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{children:"Create a new session as your current user (does nothing if you already have a session)"}),(0,P.jsxs)("div",{className:R,children:[(0,P.jsxs)(ms.C,{id:"sessionTypeDropdown",value:s,onSelect:e=>{switch(e){case xs.IPL:r(xs.IPL);break;case xs.RGS:r(xs.RGS);break;default:r(xs.IPL)}},children:[(0,P.jsx)("option",{value:xs.IPL,children:xs.IPL},xs.IPL),(0,P.jsx)("option",{value:xs.RGS,children:xs.RGS},xs.RGS)]}),(0,P.jsx)(Te.$,{onClick:async t=>{t.preventDefault();const a=await e();n(a)},children:"Create"})]}),(0,P.jsx)(Ce.n,{onClick:()=>{l((0,us.A9)(hs.EL.INVITE))},style:{marginTop:ds.WG},children:"Open invitation modal"}),null!==t&&(0,P.jsx)(Se.h,{value:JSON.stringify(t,null,2),readOnly:!0})]})}},{title:"Leave Current Session",Component:()=>{const{leaveSession:e,currentSession:t}=(0,ps.D)(),n=(0,gs.g)(),[s,r]=(0,a.useState)(null);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:w,children:"Leave your current session"}),(0,P.jsxs)("div",{className:R,children:[(0,P.jsx)($t.Z,{value:t?.sessionId??"",readOnly:!0}),(0,P.jsx)(Te.$,{onClick:async t=>{if(t.preventDefault(),!n)return;const a=await e();r(a)},children:"Leave"})]}),null!==s&&(0,P.jsx)(Se.h,{value:JSON.stringify(s,null,2),readOnly:!0})]})}},{title:"Delete Current Session",Component:()=>{const{currentSession:e,deleteSession:t}=(0,ps.D)(),n=(0,gs.g)(),[s,r]=(0,a.useState)(null);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:w,children:"Delete your current session"}),(0,P.jsxs)("div",{className:R,children:[(0,P.jsx)($t.Z,{value:e?.sessionId??"",readOnly:!0}),(0,P.jsx)(Te.$,{onClick:async e=>{if(e.preventDefault(),!n)return;const a=await t();r(a)},children:"Delete"})]}),null!==s&&(0,P.jsx)(Se.h,{value:JSON.stringify(s,null,2),readOnly:!0})]})}},{title:"Join Session as Guest",Component:()=>{const[e,t]=(0,a.useState)(""),n=(0,cs.wA)(),s=(0,Is.g)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:w,children:"Join somebody else's session (paste join token or join URI)"}),(0,P.jsxs)("div",{className:R,children:[(0,P.jsx)($t.Z,{value:e,onChange:e=>t(e.currentTarget.value)}),(0,P.jsx)(Te.$,{onClick:async t=>{t.preventDefault();const a=(0,Fe.o_h)(e);a&&(0,Fe.crr)(a)?s(a.toURLPath(!0)):n((0,us.A9)(hs.EL.JOIN,e))},children:"Join"})]})]})}}],Ps=()=>{const[e,t]=(0,a.useState)(-1);return(0,P.jsxs)("div",{className:ts,children:[(0,P.jsx)("h1",{children:"Social Connect!"}),(0,P.jsx)(ee.n,{children:Rs.map((n,a)=>(0,P.jsxs)(te.A,{children:[(0,P.jsx)(ne.J,{className:E,onClick:n=>{n.preventDefault(),t(a===e?-1:a)},isExpanded:a===e,children:n.title}),(0,P.jsx)(se.u,{isExpanded:a===e,children:n.Component&&(0,P.jsx)(n.Component,{})})]},`${a}-item`))})]})};var Ts=n(61653);const Ls=({loggedEvent:e})=>{const{actionName:t}=e.event;return(0,P.jsx)(An.v,{id:Date.now().toString(),variant:"bordered",title:t,subtitle:(n=e.event,n.location.pathNodes.map(e=>e.name).join("/")),trailing:new Date(e.timestamp).toLocaleTimeString(),media:(0,P.jsx)(Ts.D,{size:"small",semanticColor:"textAnnouncement"})});var n},Us=({loggedEvent:e})=>{const t=e.event.location.pathNodes.map(e=>[e.position,e.name,e.identifier,e.uri].filter(e=>void 0!==e).join(" - ")).join("/");return(0,P.jsx)(An.v,{id:e.id,variant:"bordered",title:e.event.location.pathNodes.at(0)?.name,subtitle:t,trailing:new Date(e.timestamp).toLocaleTimeString(),media:(0,P.jsx)(ea.W,{size:"small",semanticColor:"textPositive"})})},Ms=({loggedEvent:e})=>{const{pageId:t,pageUri:n}=e.event;return(0,P.jsx)(An.v,{id:e.id,variant:"bordered",title:t.toString(),subtitle:n,trailing:new Date(e.timestamp).toLocaleTimeString(),media:(0,P.jsx)(mn.U,{size:"small"})})};var Fs=n(77004),Ds=n(72688),_s=n(60257);const Bs="LPYIYSVppjnGV7qHfMkN",zs="j3ldlN2V6Yu2YlFlwFCw",Js="gAmkaztqsoMGI_7Et7Uo",Hs="gEVL25Ez5WpGbvRYowXj",Vs="wncJZe0Lk60gO9HpDbYw",$s="BJp5OAoLrKXNizkGT9PA",Ws="azMi5kxNvWIm6P020eV5",qs="BzuYgExI0Nw2ruwCwRG3",Ys=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!1),l=(0,a.useRef)(null);console.log("loggedEvents",e),(e=>{const t=(0,_s.s)(),n=(0,Ds.J)(e);(0,a.useEffect)(()=>{const e=t.getEvents();return e.addListener("LoggedEvent",n),()=>{e.removeListener("LoggedEvent",n)}},[t,n])})(e=>{t(t=>[e.data,...t])});return(0,a.useEffect)(()=>{const e=l.current;if(!e)return;const t=()=>{s(e.scrollTop>0)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}},[]),(0,P.jsxs)("div",{className:Bs,children:[(0,P.jsxs)("div",{className:r()(zs,{[Js]:n}),children:[(0,P.jsx)(X.E,{variant:"titleMedium",children:"UBI Events"}),(0,P.jsxs)(X.E,{variant:"bodySmall",children:[(0,P.jsx)(X.E,{variant:"bodySmallBold",children:e.length})," events - Event Sender"," ",(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:"textPositive",children:"enabled"}),"- newest events displayed first"]})]}),(0,P.jsx)("div",{className:r()(Hs,{[Js]:n}),ref:l,children:0===e.length?(0,P.jsx)(X.E,{variant:"bodySmall",className:$s,children:"Interact with the app to start seeing events here!"}):(0,P.jsx)("div",{className:Vs,children:e.map((e,t)=>{switch(e.type){case Fs.B.NAVIGATION:return(0,P.jsx)(Ms,{loggedEvent:e},`event-${t}`);case Fs.B.INTERACTION:return(0,P.jsxs)("div",{className:Ws,children:[(0,P.jsx)("div",{className:qs}),(0,P.jsx)(Ls,{loggedEvent:e})]},`event-${t}`);case Fs.B.IMPRESSION:return(0,P.jsxs)("div",{className:Ws,children:[(0,P.jsx)("div",{className:qs}),(0,P.jsx)(Us,{loggedEvent:e})]},`event-${t}`);default:return null}})})})]})};var Zs=n(61297);const Gs=()=>{const e=(0,Zs.H)();return(0,P.jsx)("div",{className:F,children:(0,P.jsx)(T,{title:"Version Information",rows:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Client Version"}),(0,P.jsx)(u.n,{className:k,align:"right",children:e.clientVersion})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Build Version"}),(0,P.jsx)(u.n,{className:k,align:"right",children:e.buildVersion})]}),(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Build Date"}),(0,P.jsx)(u.n,{className:k,align:"right",children:e.buildDate})]}),"none"!==e.containerVersion&&(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{className:w,highlight:!0,children:"Container Version"}),(0,P.jsx)(u.n,{className:k,align:"right",children:e.containerVersion})]})]}),cols:[],canCollapse:!0})})};var Ks=n(58628),Qs=n(39601);const Xs="SLiIZesRJeeNSnycENPz",er=()=>{const e=(0,cs.wA)(),{mode:t,uiFlags:n}=(0,cs.d4)(e=>e.ui.videoPlayer);return(0,P.jsxs)("div",{className:Xs,children:[(0,P.jsx)(X.E,{variant:"titleMedium",children:"Video Player"}),(0,P.jsx)(X.E,{variant:"titleSmall",children:"Current Mode"}),(0,P.jsx)(X.E,{variant:"bodySmall",children:t}),(0,P.jsx)(X.E,{variant:"titleSmall",children:"UI Flags"}),(0,P.jsx)(Ks.B,{children:Object.entries(n).map(([t,n])=>(0,P.jsx)(An.v,{id:t,variant:"bordered",title:t,trailing:(0,P.jsx)(Ee.X,{id:t,checked:n,onChange:()=>e((0,Qs.K)(t,!n))})},t))})]})},tr="ylx-active-filter-ids",nr="ylx-expanded-folders",ar="ylx-sort-order-and-direction-by-filter-id",sr="opened-folder-uri",rr=(e,t)=>null==e?t:"string"==typeof e?e||t:Array.isArray(e)?e.length>0?JSON.stringify(e,null,2):t:JSON.stringify(e,null,2),lr=({data:e})=>{const{Editor:t,setContent:n}=(0,le.h)({readOnly:!0,id:"library:contents",filterable:!0});if((0,a.useEffect)(()=>{if(!e)return void n("");const t=(e=>({items:e.items,offset:e.offset,limit:e.limit,totalLength:e.totalLength,unfilteredTotalLength:e.unfilteredTotalLength}))(e);n(JSON.stringify(t,null,2))},[e,n]),!e)return(0,P.jsx)(X.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:(0,Vt.v)("Loading library contents...")});const s=e.items.filter(e=>null!==e);return!e.items||0===e.items.length||0===s.length?(0,P.jsx)(X.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:(0,Vt.v)("Your Library has no contents")}):t},ir=({data:e})=>{const{Editor:t,setContent:n}=(0,le.h)({readOnly:!0,id:"library:metadata",filterable:!0});return(0,a.useEffect)(()=>{if(!e)return void n("");const t=(e=>({primaryFilter:e.primaryFilter,passedFilterIds:e.passedFilterIds,availableFilters:e.availableFilters,selectedFilters:e.selectedFilters,availableSortOrders:e.availableSortOrders,selectedSortOrder:e.selectedSortOrder,hasUnfilteredItems:e.hasUnfilteredItems,hasTextFilter:e.hasTextFilter,reorderAllowed:e.reorderAllowed,passedFolderUri:e.passedFolderUri,openedFolderName:e.openedFolderName,parentFolderUri:e.parentFolderUri,openedFolderIsPlayable:e.openedFolderIsPlayable}))(e);n(JSON.stringify(t,null,2))},[e,n]),e?t:(0,P.jsx)(X.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:(0,Vt.v)("Loading library metadata...")})},or="Lo44B34iCjknnBuu6NSM",cr="U0ajsIrYJLM65vyah0x5",dr="eZgvNmJspZ38u5_0kyr0",ur="i6EEqyrq2_he9GESU8xO",mr=({label:e,value:t,emptyText:n="None"})=>(0,P.jsxs)("div",{className:dr,children:[(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textBase",children:(0,Vt.v)(e)}),(0,P.jsx)("pre",{className:ur,children:rr(t,n)})]}),hr=({options:e})=>(0,P.jsxs)("div",{children:[(0,P.jsx)(mr,{label:"Active Filters:",value:e.filters}),(0,P.jsx)(mr,{label:"Sort Order:",value:e.sortOrder,emptyText:"Not set"}),(0,P.jsx)(mr,{label:"Sort Direction:",value:e.sortDirection,emptyText:"null"}),(0,P.jsx)(mr,{label:"Expanded Folders:",value:e.expandedFolders}),(0,P.jsx)(mr,{label:"Folder URI:",value:e.folderUri,emptyText:"Root"})]});var pr=n(832);const xr=()=>{const e=(0,pr.f)(),[t,n]=(0,a.useState)(null),[s,r]=(0,a.useState)(null),l=(()=>{const e=(0,pr.f)(),[t]=(0,$e.x)(tr,ve.z.record(ve.z.string(),ve.z.array(ve.z.string())).catch({})),[n]=(0,$e.x)(sr,ve.z.string().catch("")),[a]=(0,$e.x)(nr,ve.z.array(ve.z.string()).catch([])),[s]=(0,$e.x)(ar,ve.z.record(ve.z.string(),ve.z.object({sortOrderId:ve.z.union([ve.z.string(),ve.z.undefined()]),sortDirection:ve.z.enum(["forward","reverse"]).nullable()})).catch({})),r=t[n||""]||[],l=r[0],i=e.getContentsPrimaryFilterId(M.c.PLAYLIST),o=s[`${n&&i?i:l}`];return{filters:r.length>0?r:void 0,sortOrder:o?.sortOrderId,sortDirection:o?.sortDirection??null,expandedFolders:a.length>0?a:void 0,folderUri:n||void 0}})(),i=(0,a.useCallback)(async()=>{try{const t=await e.getContents({offset:0,limit:50,...l});n(t),r(null)}catch(e){r(e instanceof Error?e.message:String(e)),n(null)}},[e,l]);(0,a.useEffect)(()=>{i()},[i]);const o=(0,a.useMemo)(()=>[{name:"metadata",component:(0,P.jsx)(ir,{data:t})},{name:"contents",component:(0,P.jsx)(lr,{data:t})},{name:"options",component:(0,P.jsx)(hr,{options:l})}],[t,l]);return(0,P.jsxs)("div",{className:or,children:[(0,P.jsx)(X.E,{variant:"titleMedium",semanticColor:"textBase",children:(0,Vt.v)("Your Library")}),(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,Vt.v)("Updates automatically when you change filters, sort order, or view type in the main app.")}),s?(0,P.jsx)(X.E,{variant:"bodyMedium",semanticColor:"textNegative",children:(0,Vt.v)(`Error: ${s}`)}):(0,P.jsxs)(Bt.t,{children:[(0,P.jsx)(zt.w,{"aria-label":"See Your Library metadata, contents, or options",children:o.map(e=>(0,P.jsx)(Jt.V,{value:e.name,label:(0,Vt.v)(e.name.toUpperCase())},`your-library-tab-${e.name}`))}),o.map(e=>(0,P.jsx)(Ht.K,{value:e.name,className:cr,children:e.component},`your-library-source-${e.name}`))]})]})};function fr(e){const[t,n]=(0,a.useState)("");return(0,a.useEffect)(()=>{sessionStorage.setItem(e,t)},[e,t]),{value:t,setValue:n,clearStoredKeyValue:()=>{sessionStorage.removeItem(e)},clearSessionStorage:()=>{sessionStorage.clear()}}}const jr="EM3sO8nsoWqJ7jZY1B7L",gr="qYEY76_yHR5bJCcOsqjH",vr=()=>{const{value:e,setValue:t,clearStoredKeyValue:n,clearSessionStorage:a}=fr("eligibility"),{value:s,setValue:r,clearStoredKeyValue:l}=fr("datetime");return(0,P.jsxs)("div",{className:jr,children:[(0,P.jsx)("h1",{children:"Premium Page Debug"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{children:"Override Eligiiblity"}),(0,P.jsxs)("select",{className:gr,value:e,onChange:e=>t(e.target.value),children:[(0,P.jsx)("option",{}),(0,P.jsx)("option",{value:"INTRO_ELIGIBLE",children:"INTRO_ELIGIBLE"}),(0,P.jsx)("option",{value:"NON_INTRO_ELIGIBLE",children:"NON_INTRO_ELIGIBLE"}),(0,P.jsx)("option",{value:"WINBACK",children:"WINBACK"})]}),(0,P.jsx)(Te.$,{className:jr,size:"small",onClick:()=>n("eligibility"),children:"Remove Eligiblity Override"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{children:"Override Date"}),(0,P.jsx)("input",{className:gr,type:"datetime-local",value:s,onChange:e=>r(e.target.value)}),(0,P.jsx)(Te.$,{size:"small",onClick:()=>l("datetime"),children:"Remove Date/Time Override"})]}),(0,P.jsx)(Te.$,{size:"small",onClick:a,children:"Remove All Overrides"})]})};var yr=n(30549),br=n(81513),Sr=n(94209),Nr=n(14562),Cr=n(95525),Er=n(47537);const wr="ubDI6xO6Bd_xO2dmNMqK",kr="UzQtU8s2bCMnCSm7X6Yg",Ar="l2ei25HOLPIZlxGTHOlg",Or=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(null),[r,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),{createPlaylist:c}=(0,Cr.Z)(),d=(0,En.m)(),u=(0,Sr.N)(Nr.$),m=(0,a.useMemo)(()=>new yr.C(u),[u]);return(0,P.jsxs)("div",{className:wr,children:[(0,P.jsx)(X.E,{variant:"titleSmall",semanticColor:"textBase",children:"Create Test Playlist with local shuffle state"}),(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",children:"Create a new playlist, add a test track to it, and set it to Smart Shuffle mode locally. For use in verifying that local shuffle state is correctly migrated to centralised."}),(0,P.jsx)(ke.H,{onClick:async()=>{t(!0),o(null),s(null),l(null);try{const e=`Debug Smart Shuffle Playlist ${(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5)}`,t=await c(e,{before:"start"});t?(s(t),l(e),await d.add(t,["spotify:track:6VObnIkLVruX4UVyxWhlqm"],{after:"end"}),await m.setContextualShuffleMode(t,br.j.SMART_SHUFFLE)):o("Failed to create playlist")}catch(e){o(e instanceof Error?e.message:"Unknown error occurred")}finally{t(!1)}},disabled:e,semanticColor:"textBase",children:e?"Creating...":"Create Playlist with Test Track and Smart Shuffle"}),n&&r&&(0,P.jsxs)("div",{className:kr,children:[(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",children:"âœ… Playlist created successfully with Smart Shuffle enabled!"}),(0,P.jsxs)(X.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:["Name: ",r]}),(0,P.jsxs)(X.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:["URI: ",n]})]}),i&&(0,P.jsx)("div",{className:Ar,children:(0,P.jsxs)(X.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",children:["âŒ Error: ",i]})})]})},Ir=()=>{const e=[{name:"enableSmartShuffle",description:"Enable Smart Shuffle",value:(0,ss.NC)(Er.uy),category:"Smart Shuffle",notes:"Out to all users. Retained in case we need to turn it off",dependencies:[]},{name:"enableSmartShuffleSignals",description:"Enable Smart Shuffle Signals",value:(0,ss.NC)(Er.f9),category:"Smart Shuffle Signals",notes:"Out to all users",dependencies:["enableSmartShuffle"]},{name:"enableCentralisedSmartShuffle",description:"Enable centralised Smart Shuffle",value:(0,ss.NC)(Er.gl),category:"Centralized Shuffle",notes:"Rollout in progress",dependencies:["enableSmartShuffle"]},{name:"enableCentralisedSmartShuffleToggle",description:"Enable centralised Smart Shuffle settings toggle",value:(0,ss.NC)(Er.kR),category:"Centralized Shuffle",notes:"Not rolled out",dependencies:["enableCentralisedSmartShuffle"]},{name:"enableUnifiedSmartShuffleSignals",description:"Old flag for enabling unified signals, replace by reallyEnableUnifiedSmartShuffleSignals due to be unable to update flags on an active, long running rollout",value:(0,ss.NC)(ls.Tq1),category:"Unified Signals",notes:"Not rolled out",dependencies:["enableSmartShuffle","enableSmartShuffleSignals","enableCentralisedSmartShuffle"]},{name:"reallyEnableUnifiedSmartShuffleSignals",description:"Enable sending explicit Smart Shuffle signals via the Player and allow it to handle implicit signals internally (replacement flag)",value:(0,ss.NC)(ls.O4o),category:"Unified Signals",notes:"Not rolled out",dependencies:["enableSmartShuffle","enableSmartShuffleSignals","enableCentralisedSmartShuffle"]},{name:"enableSmartShufflePlusV2SignalWithDefaultCurationAPI",description:"Enable Smart Shuffle PLUS-V2 signal paired with Curation API for default curation",value:(0,ss.NC)(ls.sQP),category:"Smart Shuffle Signals",notes:"Not rolled out. Works with and without unified signals",dependencies:["enableSmartShuffle","enableSmartShuffleSignals","enableCentralisedSmartShuffle"]}];return(0,P.jsxs)("div",{children:[(0,P.jsx)(X.E,{variant:"titleSmall",semanticColor:"textBase",children:"Smart Shuffle Debug Information"}),(0,P.jsx)(X.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",children:"This table shows the current state of remote config properties related to Smart Shuffle, Centralized Shuffle, and Unified Signals."}),(0,P.jsx)(p.K,{children:(0,P.jsxs)(j.X,{children:[(0,P.jsxs)("colgroup",{children:[(0,P.jsx)("col",{width:"15%"}),(0,P.jsx)("col",{width:"25%"}),(0,P.jsx)("col",{width:"15%"}),(0,P.jsx)("col",{width:"10%"}),(0,P.jsx)("col",{width:"15%"}),(0,P.jsx)("col",{width:"20%"})]}),(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:"textBase",children:"Property Name"})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:"textBase",children:"Description"})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:"textBase",children:"Category"})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:"textBase",children:"Value"})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:"textBase",children:"Dependencies"})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:"textBase",children:"Notes"})})]})}),(0,P.jsx)("tbody",{children:e.map(e=>(0,P.jsxs)(d.H,{hover:!0,children:[(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textBase",children:(0,P.jsx)("code",{children:e.name})})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textBase",children:e.description})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textBase",children:e.category})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmallBold",semanticColor:e.value?"textPositive":"textNegative",children:e.value?"Enabled":"Disabled"})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textBase",children:e.dependencies.length>0?e.dependencies.map((t,n)=>(0,P.jsxs)("span",{children:[(0,P.jsx)("code",{children:t}),n<e.dependencies.length-1&&", "]},t)):(0,P.jsx)("em",{children:"None"})})}),(0,P.jsx)(u.n,{children:(0,P.jsx)(X.E,{variant:"bodySmall",semanticColor:"textBase",children:e.notes})})]},e.name))})]})}),(0,P.jsx)(Or,{})]})};var Rr=n(75072);n(26843);const Pr=Spicetify.GraphQL.Definitions["lookupDebug"]=new Rr.l("lookupDebug","query","cfdb576feda11166395bb3a691695f5f89c624bbf15edbed50f39f2a6ded9f53",null);var Tr=n(35746),Lr=n(29490),Ur=n(794),Mr=n(55211);const Fr="BUQzdPNubFcPCo3Tvx1W",Dr="fWWvmdtNmfIBN8i9XdqV";function _r(e){return Boolean(e)}function Br(e){return(0,Tr.yr)(e)}const zr=()=>{const{request:e}=(0,a.useContext)(Ur.j),[t,n]=(0,$e.x)(Lr.P,[]),[s,r]=(0,a.useState)(""),l=async()=>{if(!function(e){const t=(0,Fe.o_h)(e);return!(!t||(0,Fe.Z0m)(t)||t?.id===Fe.NQG.COLLECTION||!(!t||(0,Fe._Tv)(t)||(0,Fe.ecE)(t)||(0,Fe.gHQ)(t)||(0,Fe.APS)(t)||(0,Fe.U_m)(t)||(0,Fe.WB1)(t)||(0,Fe.nuB)(t)))}(s))return;const a=await(0,Mr.c)({request:e,document:Pr,variables:{uris:[s]}}),r=a?.data?.lookup.map(Br).filter(_r)||[];n(r.concat(t))};return(0,P.jsxs)("div",{className:Fr,children:[(0,P.jsx)("h1",{children:"Home"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h2",{children:"Shortcuts override"}),(0,P.jsxs)(be.g,{label:"Entity URI to add",labelFor:"shortcut_to_add",children:[(0,P.jsx)($t.Z,{id:"shortcut_to_add",type:"text",placeholder:"spotify:episode:123123",value:s,onChange:e=>r(e.currentTarget.value)}),(0,P.jsxs)(Ne.N,{children:["Right now we only allow: Artist, Album, Audiobook, Podcast, Track, User, Playlist, Episode and Chapter.",(0,P.jsx)("br",{})," For more info check the HomeV2ShortcutsShelf logic."]})]}),(0,P.jsx)(Te.$,{size:"small",className:Dr,disabled:0===s.length,onClick:()=>{l()},children:"Add to Shortcuts"}),(0,P.jsx)(Te.$,{size:"small",className:Dr,onClick:()=>{n([])},children:"Clear all overrides"})]})]})};var Jr=n(33138);const Hr="qtVLN4juMNSMfkcC3DhL",Vr="cHbU0bigaZ9upgor47kX",$r="ULqSG_hvZtr0D7hwwUzR",Wr="Inwj60vI2p2sZZ9Oj7fr",qr=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],Yr=()=>{const e=(0,cs.wA)(),t=(0,cs.d4)(e=>e.inAppMessaging.env),n=(0,cs.d4)(e=>e.inAppMessaging.message),[s,r]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n&&o&&c(!1)},[n,o]);const d=!n&&o;return(0,P.jsx)("div",{className:Hr,children:(0,P.jsxs)("div",{className:Vr,children:[(0,P.jsx)("div",{children:(0,P.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,P.jsx)(ms.C,{dir:"auto",value:t,id:"desktop.settings.inAppMessagingEnv",onSelect:function(t){"prod"!==t&&"dev"!==t||e((0,Jr.$h)(t))},children:qr.map(({label:e,value:t})=>(0,P.jsx)("option",{value:t,children:e},t))}),(0,P.jsx)("div",{children:(0,P.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,P.jsx)("div",{children:(0,P.jsx)("input",{className:$r,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:s,onChange:function(e){r(e.target.value),c(!1)}})}),(0,P.jsx)("div",{children:(0,P.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,P.jsx)("div",{children:(0,P.jsx)("input",{className:$r,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:l,onChange:function(e){i(e.target.value),c(!1)}})}),(0,P.jsx)("div",{}),(0,P.jsx)("div",{}),(0,P.jsx)("div",{children:(0,P.jsx)(Te.$,{colorSet:"invertedLight",onClick:function(t){t.preventDefault(),e((0,Jr.yR)(s,l)),c(!1),window.setTimeout(()=>{c(!0)},1e3)},children:"Get Preview"})}),d&&(0,P.jsx)("div",{className:Wr,children:"No Messsage found"})]})})};var Zr=n(8017),Gr=n(68117);const Kr="Fouwf1LM7WH8kjFFGd3E",Qr="JnXyl9BdRMskvb1qjvGd",Xr="zOwWyZP1zJ4yJSIwbi3r",el="IYtiWxwUEsAd5i0xS6WW",tl="debugWindowActiveTabGroup",nl="debugWindowActiveTabIndex",al=(0,a.lazy)(async()=>{const{DebugPanelEsperanto:e}=await Promise.all([n.e(2437),n.e(9476)]).then(n.bind(n,9476));return{default:e}}),sl=(0,a.lazy)(async()=>{const{AdDebug:e}=await n.e(5410).then(n.bind(n,45410));return{default:e}}),rl=()=>{const e=(0,Et.p)().getCapabilities().canGetFiles,t=(0,ks.M)(),n=(0,Je.ZY)(),s=(0,a.useRef)(null);(0,a.useEffect)(()=>{n&&(n.title="Spotify Debug Window")},[n]);const d=(0,a.useMemo)(()=>Object.fromEntries(Object.entries({Authorization:[{label:"Access Token",Panel:Q},{label:"Product State",Panel:Xn}],Playback:[{label:"Player",Panel:dn},e?{label:"Playback",Panel:_t}:null,{label:"Connect",Panel:pe},t?{label:"Social Connect",Panel:Ps}:null,{label:"Smart Shuffle",Panel:Ir}].filter(Ye.P),"Data Fetching":[al?{label:"Esperanto",Panel:al}:null,{label:"PubSub",Panel:pa},null,{label:"Metadata Extensions",Panel:pt}].filter(Ye.P),UI:[{label:"Routing",Panel:as},{label:"UBI",Panel:Ys},{label:"Video Player",Panel:er},null].filter(Ye.P),Content:[{label:"Audiobooks",Panel:Z},{label:"Playlist",Panel:Gn},{label:"Your Library",Panel:xr}],Grizzly:[null].filter(Ye.P),Other:[null,{label:"Settings",Panel:os},{label:"Remote Config",Panel:es},sl?{label:"Ads",Panel:sl}:null,{label:"In-App Messaging",Panel:Yr},{label:"Your DJ",Panel:Gr.fW},{label:"Home",Panel:zr},{label:"Premium Page",Panel:vr},{label:"Font Width Estimation",Panel:ge},{label:"Version",Panel:Gs}].filter(Ye.P)}).filter(([e,t])=>t.length>0)),[e,t]),u=Object.keys(d),m=(0,_a.q)(),h=m.getItem(tl),p="string"==typeof h&&h in d?h:u[0],[x,f]=(0,a.useState)(p),j=m.getItem(nl),g=d[x],v="number"==typeof j&&g&&j in g?j:0,[y,b]=(0,a.useState)(v),S=d[x]?.[y]?.className,N=d[x]?.[y]?.Panel;return(0,P.jsx)(Zr.SnackbarProvider,{domRootRef:s,children:(0,P.jsx)("div",{className:r()("encore-dark-theme","encore-layout-themes"),children:(0,P.jsxs)("div",{className:Kr,children:[(0,P.jsx)(l.V,{className:Qr,children:(0,P.jsx)(i.r,{flexMobile:!0,children:u.map(e=>(0,P.jsxs)(a.Fragment,{children:[(0,P.jsx)(o.D,{children:e}),d[e]?.map((t,n)=>(0,P.jsx)(c.a,{active:x===e&&y===n,label:t.label,onClick:()=>{f(e),m.setItem(tl,e),b(n),m.setItem(nl,n)},className:Xr,children:t.label},t.label))]},e))})}),(0,P.jsx)("div",{className:r()(el,S),ref:s,children:N&&(0,P.jsx)(N,{})})]})})})}},18041:(e,t,n)=>{n.d(t,{a:()=>l});var a=n(30758),s=n(96456),r=n(89116);const l=()=>{const e=(0,s.n)(),[t,n]=(0,a.useState)([]);return(0,a.useEffect)(()=>{const t=e.getEvents();return e.getProperties().then(n),t.addListener(r.M.UPDATE,e=>n(e.data.properties))},[e,n]),t}},20786:(e,t,n)=>{n.d(t,{c:()=>i});var a=n(30758),s=n(68402),r=n(63669),l=n(72688);function i(e,t){const n=(0,r.d)(),i=(0,l.J)(t),o=(0,s.a)();(0,a.useEffect)(()=>n.getBroadcastingEvents().addListener(e,e=>{o()&&i(e)}),[n,i,e,o])}},37451:(e,t,n)=>{n.d(t,{h:()=>a});n(50616),n(58647);function a(e){return"object"!=typeof e||null===e?e:window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e))}},39686:(e,t,n)=>{n.d(t,{h:()=>Ie});var a=n(30758),s=n(83495),r=n(70558),l=n(82712),i=n(30940),o=n(98128),c=n(65776),d=n(94916),u=n(23081),m=n(54953),h=n(97500),p=n.n(h),x=n(99576),f=n(87861),j=n(8143),g=n(27360),v=n(51708),y=n(57004),b=n(86070);const S=({uri:e})=>{const{entitiesByUri:t,loading:n}=(0,y.u)([e]);return(0,b.jsx)(v.Z,{loading:n,...t[e],uri:e})},N=new RegExp(String.raw`
  \b                      # only match parts that start at a word boundary
  (?:
    (?:
      (?:
          https?://(?:open|play).spotify.com
          | spotify
        )
        ([:/])
        (?:
          (                   # all standard entity types that are preceded by
                              # "spotify" and followed by a 22-char base 62 id
            track
            | album
            | artist
            | show
            | episode
            | playlist
            | concert
          )
          | (?:
              user\1[^\1]+\1(    # playlist v1 uri:s that contain usernames
                playlist
              )
            )
        )
        \1
      )
      ([0-9a-zA-Z]{22})         # standard 22-char base 62 id
    | (?:
        (?:
          https?://(?:open|play).spotify.com
          | spotify
        )
        ([:/])(user)\5
          (
            (?:
              [A-Za-z0-9\-._~!$&'()*+,;=]  # valid unescaped username characters
              | %[0-9A-Fa-f]{2}             # escaped username characters
            )+
          )
      )
  )
  \b                            # only match parts that end at a word boundary
`.replace(/(?<!\\)\s|#.*.*/g,""),"ig");var C=n(8741),E=n(17662),w=n(50692),k=n(78717),A=n(3483),O=n(60071),I=n(35394),R=n(30920),P=n(36544),T=n(50867),L=n(30469),U=n(29742);const M="lJJnlO5BK9yfZXaHXKqD",F="kVjOLE8TZjEkrim81jrL",D="oq1rxIhXQaeC4FfQ4Elh",_="QJjhmG258GKQ4tXjIAyk",B="ufULsJIGE4kdPEFEwkyN",z="FRusH7dThtnZrlVC2aIN",J="Jmttj8apRUpax2dQVgJN",H="z2oZx4kaITJrCV8ewtcC",V="X2BETieiy7TqZRSUud_y",$="uqVIpdyGNEU3FtSztBHP",W="CipjS_6reDSy9orFpLrn",q="aO2cFjF0rxnNKraLkZ9F",Y="yl9cDIJeg2E9Hk1L_qAQ",Z="YYSyP5f7kYiDH128eGVB",G="Ci06_VYzSLixw_scrnKY",K="cL00UpGe7VHFXqhJ4UQi",Q="swrFZSzf5Q54JeVC1Mt8",X="Ok15Ic7rborvpXx0fg8t",ee="wmz2kL3apaNnwccERb77",te="jsonPathFilter:",ne=({text:e,highlight:t})=>{if(!t)return(0,b.jsx)(b.Fragment,{children:e});const n=e.toLowerCase().indexOf(t.toLowerCase());return-1===n?(0,b.jsx)(b.Fragment,{children:e}):(0,b.jsxs)(b.Fragment,{children:[e.slice(0,n),(0,b.jsx)("mark",{className:X,children:e.slice(n,n+t.length)}),e.slice(n+t.length)]})},ae=/^[a-zA-Z_][a-zA-Z0-9_]*$/,se=(e,t="$")=>{if(null==e)return[];if("object"!=typeof e)return[t];if(Array.isArray(e)){if(0===e.length)return[t];const n=new Set;return e.slice(0,3).forEach(e=>{se(e,`${t}[*]`).forEach(e=>n.add(e))}),Array.from(n)}const n=Object.entries(e);return 0===n.length?[t]:n.flatMap(([e,n])=>{const a=ae.test(e)?`.${e}`:`['${e}']`;return se(n,`${t}${a}`)})},re=e=>{const t=[];let n=0;for(;n<e.length;){const a=e[n];if("$"===a)t.push("$"),n++;else if("."===a){let a=n+1;for(;a<e.length&&"."!==e[a]&&"["!==e[a];)a++;t.push(e.slice(n,a)),n=a}else if("["===a){let a=n+1,s=!1,r="";for(;a<e.length;){const t=e[a];if(s)t===r&&(s=!1);else if("'"===t||'"'===t)s=!0,r=t;else if("]"===t)break;a++}t.push(e.slice(n,a+1)),n=a+1}else n++}return t},le=(e,t)=>{if(!t)return 1e3-e.length;const n=e.toLowerCase(),a=t.toLowerCase();if(n===a)return 1e4;if(n.startsWith(a)){const e=a.length/n.length;return 8e3+Math.round(1e3*e)}const s=n.indexOf(a);if(-1!==s){return 5e3+Math.max(0,500-10*s)}const r=1-(0,C.I)(n,a)/Math.max(n.length,a.length);return Math.round(3e3*r)},ie=({id:e,data:t,onFilteredData:n})=>{const[s,r]=(0,a.useState)(!1),l=(0,a.useRef)(null),i=(0,a.useRef)(null),o=(0,a.useRef)(null),c=(0,U.ZY)(),[d,u]=(0,a.useState)(()=>{try{const t=sessionStorage.getItem(`${te}${e}`);return t?t.replace(/^\$\.?/,""):""}catch{return""}}),[m,h]=(0,a.useState)(-1);(0,a.useEffect)(()=>{if(m>=0&&o.current){const e=o.current.querySelector(`#jsonpath-suggestion-${m}`);e?.scrollIntoView({block:"nearest"})}},[m]),(0,a.useEffect)(()=>{s&&h(-1)},[s]),(0,a.useEffect)(()=>{if(!s||!c)return;const e=setTimeout(()=>{i.current?.focus()},10),t=e=>{l.current&&e.target instanceof Node&&!l.current.contains(e.target)&&r(!1)},n=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),r(!1))};return c.addEventListener("mousedown",t,!0),c.addEventListener("keydown",n,!0),()=>{clearTimeout(e),c.removeEventListener("mousedown",t,!0),c.removeEventListener("keydown",n,!0)}},[s,c]);const x=(0,a.useMemo)(()=>d.trim()?d.startsWith("$")?d:`$.${d}`:"",[d]),f=(0,a.useMemo)(()=>((e,t)=>{const n=t.trim();if(!n)return{status:"empty"};if(null==e||"object"!=typeof e)return{status:"no-match"};const a=n.startsWith("$")?n:`$.${n}`;try{const t=(0,E.E)({path:a,json:e});return Array.isArray(t)&&0!==t.length?{status:"valid",matchCount:t.length,filtered:1===t.length?t[0]:t}:{status:"no-match"}}catch(e){return{status:"error",message:e instanceof Error?e.message:"Invalid JSONPath"}}})(t,x),[t,x]),j=(0,a.useMemo)(()=>(e=>{if(!e||"object"!=typeof e)return[];const t=se(e),n=new Set;for(const e of t){n.add(e);const t=re(e);let a="";for(const e of t)a+=e,"$"!==a&&n.add(a)}return Array.from(n).filter(e=>"$"!==e).map(e=>({path:e,depth:re(e).length})).sort((e,t)=>e.depth-t.depth||e.path.localeCompare(t.path)).map(({path:e})=>e)})(t),[t]),g=(0,a.useMemo)(()=>{const e=d.replace(/^\$\.?/,"");return j.map(t=>{const n=t.replace(/^\$\.?/,"");return{path:t,displayPath:n,score:le(n,e)}}).sort((e,t)=>t.score-e.score||e.displayPath.localeCompare(t.displayPath)).slice(0,50)},[j,d]);(0,a.useEffect)(()=>{try{x?sessionStorage.setItem(`${te}${e}`,x):sessionStorage.removeItem(`${te}${e}`)}catch{}},[e,x]),(0,a.useEffect)(()=>{"valid"===f.status?n(f.filtered):n(t)},[f,t,n]);const v=(0,a.useCallback)(e=>{u(e.target.value),h(-1)},[]),y=(0,a.useCallback)(e=>{u(e),i.current?.focus()},[]),S=(0,a.useCallback)(()=>{u(""),i.current?.focus()},[]),N=(0,a.useCallback)(e=>{switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),r(!1);break;case"Tab":r(!1);break;case"ArrowDown":e.preventDefault(),h(e=>Math.min(e+1,g.length-1));break;case"ArrowUp":e.preventDefault(),h(e=>Math.max(e-1,-1));break;case"Enter":e.preventDefault(),m>=0&&g[m]&&(y(g[m].displayPath),h(-1))}},[g,m,y]),C=d.length>0,{status:X}=f,ae="valid"===X,ie="error"===X,oe="no-match"===X,ce=p()($,{[W]:C&&ae,[Y]:C&&ie,[q]:C&&oe}),de=d.replace(/^\$\.?/,"");return(0,b.jsxs)("div",{className:M,ref:l,children:[(0,b.jsxs)("button",{type:"button",className:F,onClick:()=>r(!s),"aria-label":"Toggle JSONPath filter","aria-expanded":s,"data-active":C,"data-valid":ae,"data-error":ie,"data-nomatch":oe,children:[(0,b.jsx)(w.u,{size:"small"}),C&&(0,b.jsxs)("span",{className:D,children:[ae&&f.matchCount,oe&&"0",ie&&"!"]})]}),s&&c&&(0,b.jsx)(L.s,{focusTrapOptions:{document:c,escapeDeactivates:()=>(r(!1),!0),clickOutsideDeactivates:()=>(r(!1),!0),allowOutsideClick:!0},children:(0,b.jsxs)("div",{className:_,role:"dialog","aria-label":"JSONPath filter",children:[(0,b.jsx)("div",{className:B}),(0,b.jsxs)("div",{className:z,children:[(0,b.jsx)(k.E,{variant:"marginalBold",semanticColor:"textSubdued",children:(0,T.v)("JSONPath Filter")}),(0,b.jsx)("a",{href:"https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html",target:"_blank",rel:"noopener noreferrer",className:J,title:"JSONPath syntax documentation",children:(0,b.jsx)(A.H,{size:"small"})})]}),(0,b.jsx)(O.E,{className:H,iconLeading:(0,b.jsx)(w.u,{semanticColor:"textSubdued"}),iconTrailing:d?(0,b.jsx)(I.H,{"aria-label":"Clear filter",iconOnly:R.M,size:"small",onClick:S,className:V}):void 0,children:(0,b.jsx)(P.Z,{ref:i,className:ce,value:d,onChange:v,onKeyDown:N,placeholder:"e.g. items[*].name",role:"combobox","aria-expanded":g.length>0,"aria-controls":"jsonpath-suggestions-listbox","aria-activedescendant":m>=0?`jsonpath-suggestion-${m}`:void 0})}),"empty"!==X&&(0,b.jsxs)("div",{className:Z,children:["valid"===X&&(0,b.jsx)(k.E,{variant:"marginal",semanticColor:"textPositive",children:(0,T.v)(`${f.matchCount} match${1!==f.matchCount?"es":""}`)}),"no-match"===X&&(0,b.jsx)(k.E,{variant:"marginal",semanticColor:"textWarning",children:(0,T.v)("No matches")}),"error"===X&&(0,b.jsx)(k.E,{variant:"marginal",semanticColor:"textNegative",children:f.message})]}),(0,b.jsx)("div",{className:G,children:(0,b.jsx)(k.E,{variant:"bodySmallBold",semanticColor:"textSubdued",children:(0,T.v)("Suggested filters")})}),(0,b.jsx)("div",{ref:o,className:K,role:"listbox",id:"jsonpath-suggestions-listbox","aria-label":"Suggested JSONPath filters",children:g.map(({displayPath:e},t)=>(0,b.jsx)("button",{id:`jsonpath-suggestion-${t}`,type:"button",role:"option","aria-selected":t===m,className:Q,"data-selected":e===d,"data-highlighted":t===m,onMouseDown:e=>{e.preventDefault()},onMouseEnter:()=>h(t),onClick:()=>y(e),children:(0,b.jsx)(ne,{text:e,highlight:de})},e))}),0===g.length&&(0,b.jsx)("div",{className:ee,children:(0,b.jsx)(k.E,{variant:"marginal",semanticColor:"textSubdued",children:(0,T.v)("No suggestions available")})})]})})]})},oe=e=>e.replace(/^"|"$/g,""),ce=(e,t)=>{let n=0,a=t.firstChild;for(;a;){if("Object"===a.name||"Array"===a.name||"String"===a.name||"Number"===a.name||"True"===a.name||"False"===a.name||"Null"===a.name){if(a.from===e.from&&a.to===e.to)return n;n++}a=a.nextSibling}return-1},de=(e,t)=>{const n=(0,i.a_)(e,e.doc.length,100);if(!n)return null;let a=n.resolveInner(t,1);const s=[];for(;a;){const t=a.parent;if("Property"===a.name){const t=a.getChild("PropertyName");if(t){const n=e.sliceDoc(t.from,t.to);s.unshift(oe(n))}}else if("Array"===t?.name&&("Object"===a.name||"Array"===a.name)){const e=ce(a,t);e>=0&&s.unshift(String(e))}a=t}return s.length>0?s.join("."):null},ue=e=>"Object"===e||"Array"===e||"String"===e||"Number"===e||"True"===e||"False"===e||"Null"===e,me=(e,t)=>{if(!t)return null;const n=t.split("."),a=(0,i.a_)(e,e.doc.length,100);if(!a)return null;const s=a.cursor();if(!s.firstChild())return null;for(const t of n){const n=/^\d+$/.test(t);if(!s.firstChild())return null;let a=!1;if(n){const e=parseInt(t,10);let n=0;do{if(ue(s.name)){if(n===e){a=!0;break}n++}}while(s.nextSibling())}else do{if("Property"===s.name){const n=s.node.getChild("PropertyName");if(n){const r=e.sliceDoc(n.from,n.to);if(oe(r)===t){s.firstChild(),s.nextSibling(),s.nextSibling(),a=!0;break}}}}while(s.nextSibling());if(!a)return null}const r=s.node;if("Object"!==r.name&&"Array"!==r.name)return null;const l=r.firstChild,o=r.lastChild;return l&&o&&l.to<o.from?{from:l.to,to:o.from}:null},he=e=>`editorFoldEffects:${e}`,pe=({id:e,defaultFolds:t=[]}={})=>{const n=(0,a.useRef)(t);n.current=t;const s=(0,a.useRef)((e=>{if(!e)return{userFolds:[],userUnfolds:[]};try{const t=sessionStorage.getItem(he(e));return t?JSON.parse(t):{userFolds:[],userUnfolds:[]}}catch{return{userFolds:[],userUnfolds:[]}}})(e)),r=(0,a.useCallback)(()=>{((e,t)=>{if(e)try{sessionStorage.setItem(he(e),JSON.stringify(t))}catch{}})(e,s.current)},[e]),o=(0,a.useCallback)(e=>{const t=s.current;t.userUnfolds.includes(e)&&(t.userUnfolds=t.userUnfolds.filter(t=>t!==e)),t.userFolds.includes(e)||n.current.includes(e)||t.userFolds.push(e),r()},[r]),c=(0,a.useCallback)(e=>{const t=s.current;t.userFolds.includes(e)&&(t.userFolds=t.userFolds.filter(t=>t!==e)),n.current.includes(e)&&!t.userUnfolds.includes(e)&&t.userUnfolds.push(e),r()},[r]),u=(0,a.useCallback)(e=>{const{userFolds:t,userUnfolds:a}=s.current,r=n.current,o=new Set([...r,...t]);if(a.forEach(e=>o.delete(e)),0===o.size)return[];const c=d.$t.create({doc:e,extensions:[(0,l.Pq)()]}),u=[];for(const e of o){const t=me(c,e);t&&u.push(i.R3.of(t))}return u},[]);return{foldTrackingExtension:(0,a.useMemo)(()=>e?m.Lz.updateListener.of(e=>{if(e.transactions.some(e=>e.effects.some(e=>e.is(i.R3)||e.is(i.c1))))for(const t of e.transactions)for(const n of t.effects)if(n.is(i.R3)){const t=de(e.state,n.value.from);t&&o(t)}else if(n.is(i.c1)){const t=de(e.state,n.value.from);t&&c(t)}}):[],[e,o,c]),calculateFoldEffects:u}};var xe=n(94378);const fe=({view:e,className:t})=>{const n=(0,a.useCallback)(t=>{(0,m.TS)(e,t.nativeEvent,"search-panel")&&t.preventDefault()},[e]),s=(0,a.useCallback)(t=>{e.dispatch({effects:c.Ri.of(new c.L0({search:t}))})},[e]),r=(0,a.useCallback)(()=>{(0,c.jO)(e)},[e]),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{e.dispatch({effects:c.Ri.of(new c.L0({search:""}))}),l.current?.select()},[e]),(0,b.jsx)("div",{className:t,children:(0,b.jsx)(O.E,{iconLeading:(0,b.jsx)(xe.C,{}),iconTrailing:(0,b.jsx)(R.M,{onClick:()=>r()}),children:(0,b.jsx)(P.Z,{ref:l,onKeyDown:e=>n(e),onChange:e=>s(e.currentTarget.value)})})})};var je=n(52721),ge=n(18372);const ve=["spotify:artist:5INjqkS1o8h1imAzPqGZBb","spotify:album:79dL7FLiJFOO0EoehUHQBv","spotify:track:6K4t31amVTZDgR3sKmwUJJ","spotify:show:1OLcQdw2PFDPG1jo3s0wbp","spotify:episode:0VpyIy8Srg5IKQdRAbDDH1"],ye=Object.values(ge.UH).filter(e=>"number"==typeof e).map(e=>({name:ge.UH[e],value:e}));function be(e,t){let n=0;const a=[];if(t.type.is("["))t.parent();else if(t.type.is("Property")){if(!t.firstChild())return[];a.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}for(;t.parent()&&!t.type.is("JsonText");){if(t.type.is("Array"))a.unshift("[]");else if(t.type.is("Property")){if(!t.firstChild())break;a.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}if(++n>1e4)break}return a}function Se(e,t){for(const n of t)if("[]"===n){if(!Array.isArray(e)||0===e.length)return null;e=e[0]}else Object.hasOwn(e,n)&&(e=e[n]);return e}function Ne(e={}){return(0,s.yU)({activateOnTyping:!1,override:[t=>{const n=(0,i.mv)(t.state).cursorAt(t.pos,-1);if(n.type.is("{")||n.type.is("Object")){const a=be(t.state,n),s=function(e,t){return Object.getOwnPropertyNames(Se(e,t))}(e,a);return{from:t.pos,options:s.map(e=>({type:"text",label:e,apply:`"${e}"`}))}}if(n.type.is("[")||n.type.is("Array")){const a=be(t.state,n),s=Se(e,a);return Array.isArray(s)&&(0,je.Gv)(s[0])?{from:t.pos,options:[{type:"text",label:"{ ... }",apply:JSON.stringify(s[0]),boost:1},{type:"text",label:"{}",boost:0}]}:/extension/i.test(a[a.length-1])?{from:t.pos,options:ye.map(({name:e,value:t})=>({type:"constant",label:e,apply:`${t}`}))}:{from:t.pos,options:ve.map(e=>({type:"text",label:`"${e}"`}))}}if(n.type.is("Property")){const a=be(t.state,n),s=function(e,t){const n=Se(e,t);return void 0===n?"null":Array.isArray(n)?"array":typeof n}(e,a),r=[];if("boolean"===s)r.push({type:"keyword",label:"true",boost:1}),r.push({type:"keyword",label:"false",boost:0});else if("null"===s)r.push({type:"keyword",label:"null",boost:1}),r.push({label:"{}",apply:"{}",boost:0});else if("string"===s){r.push({label:'""'});for(const e of ve)r.push({label:`"${e}"`})}else if("number"===s)if(/extension/i.test(a[a.length-1]))for(const{name:e,value:t}of ye)r.push({type:"constant",label:e,apply:`${t}`});else r.push({label:"0",apply:"0"}),r.push({label:"10",apply:"10"}),r.push({label:"100",apply:"100"});else"object"===s?r.push({label:"{}",apply:"{}"}):"array"===s&&r.push({label:"[]",apply:"[]"});return{from:t.pos,options:r}}return null}]})}const Ce={filterableEditor:"ln3G_weSfJSEXxzu5qfd",filterableEditorContent:"KW2BFmhHMY_IwnS4bFxn"},Ee=[u.bM,(0,i.y9)(u.kS),(0,m.$K)(),(0,m.dz)(),(0,m.Wu)(),(0,m.VH)(),d.$t.allowMultipleSelections.of(!0),m.w4.of([...r.pw,...r.cL,...s.OO,...c.Eo,r.Yc]),(0,c.$P)({top:!0,createPanel:e=>{const t=e.dom.ownerDocument.createElement("div");return(0,x.H)(t).render((0,b.jsx)(f.ID,{target:e.dom.ownerDocument.head,children:(0,b.jsx)(fe,{view:e})})),{dom:t,top:!0}}}),(0,i.Lv)(),(0,l.Pq)()],we=[...Ee,(0,r.b6)(),(0,o.bu)((0,l.cp)()),(0,i.WD)(),(0,i.SG)(),(0,s.wm)()],ke=[...Ee,d.$t.readOnly.of(!0)],Ae=new d.xx,Oe=({readOnly:e=!1,onChange:t,onDiagnostics:n,editorRef:s,className:r,additionalExtensions:l})=>{const i=(0,a.useRef)(null),{extension:c,tooltip:d}=function(){const[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(null);return{tooltip:n&&e?(0,j.createPortal)((0,b.jsx)(S,{uri:e}),n):null,extension:(0,a.useMemo)(()=>(0,m.Ux)((e,n)=>{const{from:a,text:r}=e.state.doc.lineAt(n),l=n-a,i=Array.from(r.matchAll(N)).find(({0:e,index:t})=>l>=t&&l<=t+e.length);if(!i)return null;const{0:o,index:c}=i,d=(0,g.o_h)(o)?.toURI();return d?{pos:a+c,end:a+c+o.length,above:!0,create(){const e=document.createElement("div");return e.style.maxWidth="400px",e.style.minHeight="64px",e.style.whiteSpace="initial",t(d),s(e),{dom:e}}}:null}),[])}}();return(0,a.useEffect)(()=>{const a=new m.Lz({parent:i.current,extensions:[...e?ke:we,Ae.of(Ne({})),m.Lz.updateListener.of(e=>{e.docChanged&&t?.(e.state.doc.toString());for(const t of e.transactions)for(const e of t.effects)e.is(o._k)&&n?.(e.value)}),c,...l?[l]:[]]});return void 0!==s&&(s.current=a),()=>{a.destroy()}},[e,t,n,s,c,l]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:r,ref:i}),d]})};function Ie({id:e,filterable:t=!1,readOnly:n,className:s,onChange:r,onDiagnostics:l,defaultFolds:i}){const o=(0,a.useRef)(),c=(0,a.useRef)(r),d=(0,a.useRef)(l);c.current=r,d.current=l;const{foldTrackingExtension:u,calculateFoldEffects:m}=pe({id:e,defaultFolds:i}),[h,x]=(0,a.useState)(null),f=(0,a.useCallback)(()=>{const e=o.current;return void 0!==e?e.state.doc.toString():null},[]),j=(0,a.useCallback)(e=>{const t=o.current;if(!t)return;const n=m(e);t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e},effects:n})},[m]),g=(0,a.useCallback)(e=>{if(t)try{x(JSON.parse(e))}catch{x(e)}else j(e)},[t,j]),v=(0,a.useCallback)(e=>{j(JSON.stringify(e,null,2))},[j]),y=(0,a.useCallback)(e=>{const t=o.current;void 0!==t&&t.dispatch({effects:Ae.reconfigure(Ne(e))})},[]),S=(0,a.useCallback)(e=>{c?.current?.(e)},[]),N=(0,a.useCallback)(e=>{d?.current?.(e)},[]);return{Editor:(0,a.useMemo)(()=>{const a=(0,b.jsx)(Oe,{editorRef:o,readOnly:n,className:t?Ce.filterableEditorContent:s,onChange:S,onDiagnostics:N,additionalExtensions:u});return t&&e?(0,b.jsxs)("div",{className:p()(Ce.filterableEditor,s),children:[(0,b.jsx)(ie,{id:`editor:${e}`,data:h,onFilteredData:v}),a]}):a},[e,t,n,s,S,N,u,h,v]),getContent:f,setContent:g,setReference:y}}},51708:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(70796),s=n(79898),r=n(10622),l=n(35394),i=n(78328),o=n(27360),c=n(13140),d=n(56460),u=n(24189),m=n(34503),h=n(65992),p=n(28516),x=n(69509),f=n(24903),j=n(89307);const g="wBkxXjCmjczgT7RohaiG";var v=n(86070);const y=({loading:e,uri:t,type:n,title:o,subtitle:j,coverArt:y})=>{const C=(0,f._)(),E=(0,d.C)(),{enqueueSnackbar:w}=(0,u.d)();return(0,v.jsx)(a.v,{id:t,variant:"naked",leading:(0,v.jsx)(p.s,{type:n,semanticColor:"textSubdued",size:"small"}),media:(0,v.jsx)(m.b,{fadeIn:!0,images:C(y?.sources,48),shape:b(t),size:h.Qe.SIZE_48,iconSize:"medium",type:n??N(t),title:o??"",color:(0,x.m)(y?.extractedColors),loadingMode:"eager",className:g}),title:e?(0,v.jsx)(c.Y,{as:"div",variant:"bodyMediumBold",charCount:10,isLoading:!0}):(0,v.jsx)(s.d,{lineClamp:2,children:o??t}),subtitle:e&&S(t)?(0,v.jsx)(c.Y,{as:"div",variant:"bodySmall",charCount:15,isLoading:!0}):(0,v.jsx)(r.j,{hasTextSeparator:!0,lineClamp:2,children:j}),trailing:(0,v.jsx)(l.H,{iconOnly:i._,label:"Copy URI to clipboard",onClick:()=>{E(t),w("URI copied to clipboard")}})})};function b(e){return(0,o.ecE)(e)||(0,o.APS)(e)?m.u.CIRCLE:m.u.ROUNDED_CORNERS}function S(e){return!((0,o.ecE)(e)||(0,o.APS)(e)||(0,o.lyd)(e))}function N(e){const t=(0,o.o_h)(e)?.type;switch(t){case o.NQG.TRACK:return j.c.TRACK;case o.NQG.ALBUM:return j.c.ALBUM;case o.NQG.ARTIST:return j.c.ARTIST;case o.NQG.PLAYLIST:case o.NQG.PLAYLIST_V2:return j.c.PLAYLIST;case o.NQG.SHOW:return j.c.SHOW;case o.NQG.EPISODE:return j.c.EPISODE;case o.NQG.PROFILE:return j.c.USER;case o.NQG.CONCERT:return j.c.CONCERT;case o.NQG.AUTHOR:return j.c.AUTHOR;default:return j.c.UNKNOWN}}},52721:(e,t,n)=>{function a(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function s(e,t,n=[]){let r=0;for(const l of Object.getOwnPropertyNames(e))t(e,l,n)?r++:a(e[l])&&(r+=s(e[l],t,[l,...n]));return r}function r(e,t){return void 0===e[t]&&(e[t]={},!0)}function l(e,t){return!(!Array.isArray(e[t])||0!==e[t].length)&&(e[t]=[{}],!0)}function i(e,t){return!(!Array.isArray(e[t])||1!==e[t].length||!a(e[t][0])||0!==Object.getOwnPropertyNames(e[t][0]).length)&&(e[t]=[],!0)}function o(e,t){return!(!a(e[t])||0!==Object.getOwnPropertyNames(e[t]).length)&&(e[t]=void 0,!0)}function c(e,t,n){return!(!n.some(e=>/policy/i.test(e))||!1!==e[t])&&(delete e[t],!0)}function d(e,t,n){return!(!n.some(e=>/policy/i.test(e))&&!/policy/i.test(t)||!1!==e[t])&&(e[t]=!0,!0)}function u(e){for(const t of Object.getOwnPropertyNames(e)){if(/policy/i.test(t))return!0;if(a(e[t])&&u(e[t]))return!0}return!1}function m(e){return!!a(e)&&u(e)}function h(e,t,n={}){let a=0;do{a=s(t=e.fromPartial(t),r),a+=s(t,l)}while(a>0);return s(t,o),s(t,i),!0===n.cleanPolicies&&s(t,c),t}function p(e,t){const n=h(e,t);return s(n,d),n}n.d(t,{AF:()=>m,Gv:()=>a,SU:()=>h,bk:()=>p})},53032:(e,t,n)=>{n.d(t,{o:()=>r});var a=n(7670),s=n(94209);function r(){return(0,s.N)(a.S)}},56460:(e,t,n)=>{n.d(t,{C:()=>r});var a=n(30758),s=n(29742);function r(){const e=(0,s.ox)();return(0,a.useMemo)(()=>e?new e.Function("value","if (value) { navigator.clipboard.writeText(value) }"):()=>{},[e])}},57004:(e,t,n)=>{n.d(t,{u:()=>h});var a=n(30758),s=n(40903),r=n(54091),l=n(75072),i=n(26843);const o=Spicetify.GraphQL.Definitions["decorateDebugEntityListRowEntities"]=new l.l("decorateDebugEntityListRowEntities","query","cc18eda4c4a87e8428d47abac1930103ca6a10b92cbfcb56ed79c0071b6aa65c",null),c=(e,t)=>(0,i.I)(o,e,t);var d=n(89307),u=n(10183),m=n(13059);function h(e){const{data:t,loading:n}=c({uris:e},{gcTime:18e5,enabled:!!e.length,placeholderData:s.rX});return(0,a.useMemo)(()=>({entitiesByUri:Object.fromEntries(t?.lookup.map(p).filter(u.P).map(e=>[e.uri,e])??[]),loading:n}),[t?.lookup,n])}function p(e){switch(e.__typename){case"AlbumResponseWrapper":return"Album"===e.data.__typename?{uri:e.data.uri,type:d.c.ALBUM,title:e.data.name,subtitle:e.data.artists.items.map(e=>e.profile.name).join(r.Ru.getSeparator()),coverArt:e.data.coverArt}:null;case"ArtistResponseWrapper":return"Artist"===e.data.__typename?{uri:e.data.uri,type:d.c.ARTIST,title:e.data.profile.name,subtitle:null,coverArt:e.data.visuals.avatarImage}:null;case"ConcertResponseWrapper":return"Concert"===e.data.__typename?{uri:e.data.uri,type:d.c.CONCERT,title:e.data.title,subtitle:null,coverArt:e.data.image}:null;case"EpisodeOrChapterResponseWrapper":return"Chapter"===e.data.__typename?{uri:e.data.uri,type:d.c.CHAPTER,title:e.data.name,subtitle:"Audiobook"===e.data.audiobookV2.data.__typename?e.data.audiobookV2.data.authorsV2.map(e=>e.name).join(r.Ru.getSeparator()):null,coverArt:e.data.coverArt}:"Episode"===e.data.__typename?{uri:e.data.uri,type:d.c.EPISODE,title:e.data.name,subtitle:"Podcast"===e.data.podcastV2.data.__typename?[e.data.podcastV2.data.name,e.data.podcastV2.data.publisher?.name??null].filter(u.P):[],coverArt:e.data.coverArt}:null;case"PlaylistResponseWrapper":return"Playlist"===e.data.__typename?{uri:e.data.uri,type:d.c.PLAYLIST,title:e.data.name,subtitle:e.data.followers?r.Ru.get("saves",e.data.followers):null,coverArt:e.data.images.items.at(0)??null}:null;case"PodcastOrAudiobookResponseWrapper":return"Audiobook"===e.data.__typename?{uri:e.data.uri,type:d.c.AUDIOBOOK,title:e.data.name,subtitle:e.data.authorsV2.map(e=>e.name).join(r.Ru.getSeparator()),coverArt:e.data.coverArt}:"Podcast"===e.data.__typename?{uri:e.data.uri,type:d.c.SHOW,title:e.data.name,subtitle:e.data.publisher?.name??null,coverArt:e.data.coverArt}:null;case"TrackResponseWrapper":return"Track"===e.data.__typename?{uri:e.data.uri,type:d.c.TRACK,title:e.data.name,subtitle:[e.data.artists.items.at(0)?.profile.name??null,e.data.albumOfTrack?.name??null].filter(u.P),coverArt:e.data.albumOfTrack?.coverArt??null}:null;case"UserResponseWrapper":return"User"===e.data.__typename?{uri:e.data.uri,type:d.c.USER,title:e.data.name,subtitle:null,coverArt:e.data.avatar}:null;case"GenreResponseWrapper":case"MerchResponseWrapper":case"PreReleaseResponseWrapper":case"AuthorResponseWrapper":case"UnknownTypeWrapper":return null;default:(0,m.k)(e)}return null}},61954:(e,t,n)=>{function a(e){return!!e&&(Array.isArray(e)?e.some(e=>"is-editorial-booklist"===e.key&&"true"===e.value):"true"===e["is-editorial-booklist"])}n.d(t,{p:()=>a})},67692:(e,t,n)=>{n.d(t,{d:()=>r});var a=n(30758),s=n(27128);const r=()=>(0,a.useContext)(s.D)},71446:(e,t,n)=>{n.d(t,{F:()=>r});var a=n(30758),s=n(66446);function r(e,t){const n=(0,a.useRef)(t),r=(0,s.p)();n.current=t,(0,a.useEffect)(()=>r.getEvents().addListener(e,e=>{n.current(e)}),[e,r])}},73634:(e,t,n)=>{n.d(t,{x:()=>r});var a=n(71345),s=n(94209);function r(){return(0,s.N)(a.b)}},88236:(e,t,n)=>{n.d(t,{K:()=>r});var a=n(73639),s=n(94209);function r(){return(0,s.N)(a.a)}}}]);
//# sourceMappingURL=xpui-debug-window-contents.js.map