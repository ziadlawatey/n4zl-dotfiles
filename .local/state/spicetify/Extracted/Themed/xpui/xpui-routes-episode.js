"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9528],{5230:(e,t,i)=>{i.r(t),i.d(t,{default:()=>bi});var s=i(30758),a=i(60749),n=i(85387),r=i(39329),o=i(55046),l=i(27360),c=i(54091),d=i(29947),u=i(68453),p=i(62367),m=i(80128),h=i(14745),x=i(62411),g=i(47556),y=i(48289),b=i(40948),C=i(17686),v=i(45596),k=i(22141),j=i(86062),f=i(64300),T=i(10817),I=i(35324),P=i(14226),E=i(42264),A=i(83760),N=i(87274),S=i(76056),R=i(41156),_=i(91816),w=i(86070);const L="activation-trigger-mme",U=({episodeUri:e,showUri:t,isLocked:i,isPlaying:s,isPlayDisabled:a,playButtonPlayLabel:n,playButtonPauseLabel:r,onClick:o,size:c="large"})=>{const{isWeb:d}=(0,_.V)();if((0,R.V)())return(0,w.jsx)(S.D,{size:c,onClick:o,isPlaying:s,disabled:a,locked:i,ariaPlayLabel:n,ariaPauseLabel:r});const u=(0,w.jsx)(N.N,{showUri:t,enabled:i,renderInline:!1,children:(0,w.jsx)(S.D,{size:c,onClick:o,isPlaying:s,disabled:a,locked:i,ariaPlayLabel:n,ariaPauseLabel:r})});return d?(0,w.jsx)(A.k,{id:L,targetURI:(0,l.o_h)(e),fadeOut:!0,children:u}):u};var M=i(58381),D=i(13992),B=i(67885),O=i(39233),F=i(85059),H=i(50253),G=i(60257),z=i(91645),$=i(33552),q=i(24238);const X={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",MINIMUM_HEADER_HEIGHT:"186px",MAXIMUM_HEADER_HEIGHT:"336px",MINIMUM_HEADER_HEIGHT_WITH_VIDEO:"276px",MAXIMUM_HEADER_HEIGHT_WITH_VIDEO:"395px",IMAGE_SIZE:"192px",IMAGE_SIZE_BIG:"232px",BACKGROUND_HEIGHT_PERCENTAGE:"40vh",EPISODE_DETAILS_TABS_HEIGHT:"44px",episodePage:"dJKHxFTSR2IVPeYchrZy",episodeTitle:"TKXreOmMW8uccgEPOgEV",actionButton:"BAJ1wm_CO7SqZtZY86dk",contentDescription:"E2n7712eD3DDp5CyH_sQ",contentDescriptionTitle:"NCqWAk4zZFCGEq3oBHiq",seeAllEpisodesButton:"nLzYimSS379ynO4XFmbM",badgesAndEpisodeProgressRow:"QK3TIugg9OkneYP74msz",smallEntityImage:"tNHDfD2517XjR_o193il",showAuthor:"UUK7AA37JzEwMVZFdc37",imageContainer:"B5cOU7L5SSoyGsJ6y6_b",contentInformationBanner:"fP6Woek2rcXazFzCwpOg",contentInformationMessage:"Q_IAho_dIMATFXdW7bFG",activeNavItem:"NLVp6vIZYGXCz0T8bhfF",transcriptSection:"_arK9ke5xfK8XQMbqGZH",transcriptDisclaimer:"fL6_p0AyUi7EDTCczQas",transcriptTimestamp:"y7DQ6R8qWLvZyOjcT2Zd",transcriptTimestampText:"aAJ3Xp1kCT5Dqq4yy_vS",transcriptTitle:"UqgYwyRNKcLz5asPa1NA",transcriptTitleSection:"GQT4V8ltJCUF5UEgLhkF",transcriptMusicClosedCaption:"VfuRZXfRhoXnj2NAOo3U",transcriptText:"NcMpEXj45b3Q5NRcondI",transcriptTabs:"apM4hLcBX3nwnIogWy5L",transcriptTabsStuck:"WBgZ2c0j35R2QXZPfNyP",tabListItem:"wytXfpprg67YoVa1y058",commentsLayout:"CRN1_JQpUTxEvPqhHDQ2",commentsList:"irxOWYjBpFaOhgiC94go",episodeContent:"_ylUygV8PZICgcHNhd8i"},V=({episode:e,onPlayEpisode:t,isPlaying:i,isActive:a,isFullyPlayed:n,setIsFullyPlayed:r,backgroundColor:o,isLocked:l,spec:d})=>{const{uri:u,playedState:p,contentRating:m,playability:h}=e,A=(0,G.s)(),N=(0,x.wA)(),[S]=(0,F.S9)(1e4,e=>e?.item?.uri===u),R=(0,H.o)(e=>e?.duration),{badges:_}=(0,q.b)({contentRating:m?.label}),L=(0,s.useCallback)(e=>{!h.playable&&_.nineteen&&(e.stopPropagation(),N((0,y.Tf)(u||"")))},[u,h.playable,_.nineteen,N]),V=(0,s.useCallback)(()=>{const e=d.contextMenuButtonFactory().hitUiReveal();A.logInteraction(e)},[A,d]),Z=(0,s.useCallback)((e,t)=>{(0,B.Qv)(t,d.downloadButtonFactory(),A,u)},[A,d,u]),K=(0,E.d$)(),{spec:W,logger:Q}=(0,z.r)(g.e,{data:{uri:u}});(0,s.useEffect)(()=>{K&&Q.logImpression(W.impression())},[K,Q,W]);const Y=(0,s.useCallback)(e=>{const t=d.saveButtonFactory();A.logInteraction(e?t.hitLike({itemToBeLiked:u}):t.hitRemoveLike({itemNoLongerLiked:u})),e&&K&&Q.logInteraction(W.hitAddToPlaylist({itemToBeAdded:u,playlist:O.Xn}))},[A,d,u,K,Q,W]),J=!l&&!e.playability.playable,ee=c.Ru.get("tracklist.a11y.play",e.name,e.podcast?.name),te=c.Ru.get("tracklist.a11y.pause",e.name,e.podcast?.name),ie=e.podcast?.uri,se=(0,D.j)(),ae=(0,P.v)(e.uri),ne=!l;return(0,w.jsxs)(b.E,{backgroundColor:o,children:[(0,w.jsxs)("div",{className:X.badgesAndEpisodeProgressRow,children:[(0,w.jsx)(M.P,{episode:e,showVideoBadge:!0}),(0,w.jsx)($.j,{fullyPlayed:n,durationMs:a&&R?R:e.duration.milliseconds,releaseDate:e.releaseDate,resumePositionMs:p.playPositionMilliseconds,isPlaying:i,position:a&&S||void 0})]}),(0,w.jsxs)(C.S,{children:[(0,w.jsx)("div",{onClick:L,children:(0,w.jsx)(U,{episodeUri:e.uri,showUri:ie,isLocked:l,onClick:()=>{t(p.playPositionMilliseconds)},isPlaying:i,isPlayDisabled:J,playButtonPlayLabel:ee,playButtonPauseLabel:te,size:se})}),(0,w.jsx)(v.e,{uri:e.uri,onClick:Z,size:se,canDownload:ne,condensed:!0}),ae?(0,w.jsx)(I.g,{uri:e.uri,size:se}):(0,w.jsx)(j.b,{uri:e.uri,size:se,onClick:Y,condensed:!0}),(0,w.jsx)(f.b,{onShow:V,menu:(0,w.jsx)(T.b,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:ie,contextUri:e.uri,isPlayed:n,onMarkAsPlayed:r}),children:(0,w.jsx)(k.e,{label:c.Ru.get("more.label.context",e.name),size:se})})]})]})};var Z=i(97500),K=i.n(Z),W=i(62960),Q=i(91198),Y=i(95057),J=i(75932),ee=i(61855),te=i(17532),ie=i(6889),se=i(1068),ae=i(48521),ne=i(26334),re=i(89307);const oe=ee.ui.EPISODE_PAGE,le=({leavebehinds:e,uri:t,seeAllPath:i})=>{const a=(0,s.useMemo)(()=>e.slice(0,se.un),[e]);return(0,w.jsx)(Y.o,{leavebehinds:a,surface:oe,uri:t,seeAllButton:e.length>se.un?(0,w.jsx)(J.J,{leavebehinds:e,surface:oe,uri:t,pathname:i,state:{uri:t}}):null})};function ce(e){const t=(0,ae.L)(),i=(0,l.o_h)(e.uri)?.id,a=(0,ie.c)(i),{data:n,isError:r,getLeavebehinds:o}=(0,te.A)({surface:oe,uri:e.uri}),c=(d=t?.item.type,(0,ne.Z)(d)===re.c.AD&&d===re.c.EPISODE);var d;return(0,s.useEffect)(()=>{c&&o()},[c,o]),!n||n.length<1||r?null:(0,w.jsx)(le,{uri:e.uri,leavebehinds:n,seeAllPath:a})}var de=i(1722),ue=i(78717),pe=i(93978),me=i(73136);const he=({cardHeaderText:e,cardBodyText:t,buttonText:i,buttonTarget:s})=>(0,w.jsxs)("div",{className:X.contentInformationBanner,children:[(0,w.jsxs)("div",{className:X.contentInformationMessage,children:[(0,w.jsx)(ue.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:e}),(0,w.jsx)(ue.E,{semanticColor:"textBase",children:t})]}),(0,w.jsx)(me.$,{size:"small",colorSet:"invertedLight",href:(0,l.o_h)(s).toURLPath(!0),component:de.v,children:i})]});var xe=i(70613);const ge=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:i,hasDescription:a,htmlDescription:n,onTimeStampClick:r,playability:o,showHeader:l=!0,spec:d})=>{const u=(0,G.s)(),p=(a||t)&&l,m=(0,s.useCallback)(e=>{const t=d.readMoreButtonFactory();u.logInteraction(e?t.hitUiReveal():t.hitUiHide())},[d,u]),h=(0,Q.NC)(xe.ZK8,{loadingValue:!1});return(0,w.jsxs)(w.Fragment,{children:[p&&(0,w.jsx)(ue.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:X.contentDescriptionTitle,children:c.Ru.get("episode.description-title")}),t&&(0,w.jsx)(he,{cardHeaderText:t.cardHeaderText,cardBodyText:t.cardBodyText,buttonText:t.buttonText,buttonTarget:t.buttonTarget}),a&&(0,w.jsx)(pe.N,{className:X.contentDescription,onTimeStampClick:r,maxLines:4,onExpanded:m,content:(i||"").trim(),htmlContent:e&&n?n:void 0,enableTimestamps:o.playable,enableAutomaticLinkification:h&&e&&!!n})]})};var ye=i(8335),be=i(36702),Ce=i(3942),ve=i(88528),ke=i(29369),je=i(12627),fe=function(e){return e.DESCRIPTION="description",e.TRANSCRIPT="transcript",e}(fe||{});const Te=s.memo(function({hasTranscript:e,descriptionContent:t,transcriptContent:i,spec:a}){const n=(0,G.s)(),[r,o]=(0,s.useState)(fe.DESCRIPTION),l=(0,je.SF)(),{ref:d,inView:u}=(0,ye.Wx)({threshold:[1],root:l.current,rootMargin:`-${ke.uC+1}px 100000px 0px 100000px`}),p=(0,s.useRef)(null),m=(0,s.useCallback)(e=>{p.current=e,d(e)},[d]);return(0,s.useEffect)(()=>{const e=p.current?.parentElement?.offsetTop,t=l?.current;if(!e||!t)return;const i=e-ke.uC;t.scrollTop>i&&t.scrollTo({top:i})},[l,r]),(0,w.jsx)(be.j,{list:(0,w.jsxs)(Ce.L,{className:K()(X.transcriptTabs,{[X.transcriptTabsStuck]:!u}),ref:m,children:[(0,w.jsx)(ve.Y,{label:c.Ru.get("web-player.episode.description"),sentenceCase:!0,active:r===fe.DESCRIPTION,onClick:()=>{const e=a.tabsFactory().descriptionTabButtonFactory().hitUiReveal();n.logInteraction(e),o(fe.DESCRIPTION)},className:K()(X.tabListItem,{[X.activeNavItem]:r===fe.DESCRIPTION})}),(0,w.jsx)(ve.Y,{label:c.Ru.get("web-player.episode.transcript"),sentenceCase:!0,"data-testid":"transcript-tab",disabled:!e,active:r===fe.TRANSCRIPT,onClick:()=>{const e=a.tabsFactory().transcriptTabButtonFactory().hitUiReveal();n.logInteraction(e),o(fe.TRANSCRIPT)},className:K()(X.tabListItem,{[X.activeNavItem]:r===fe.TRANSCRIPT})})]}),children:e&&r!==fe.DESCRIPTION?i:t})});var Ie=i(13927),Pe=i(49060),Ee=i(44451),Ae=i(62887);const Ne=(0,s.memo)(function({transcriptSections:e,onTimeStampClick:t,episodeUri:i}){const{spec:s,logger:a}=(0,Ee.D)(Ie.c,{data:{uri:i}}),{isPlaying:n}=(0,Pe.P)({uri:i},{featureIdentifier:"episode"}),r=s.timestampLinkFactory();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:X.transcriptDisclaimer,children:(0,w.jsx)(ue.E,{variant:"bodySmall",semanticColor:"textBase",children:c.Ru.get("web-player.episode.transcript.disclaimer")})}),e.map((e,s)=>{const o=`transcript-section-${s}`;return(0,w.jsxs)("div",{className:X.transcriptSection,children:[(0,w.jsx)("button",{className:X.transcriptTimestamp,onClick:()=>{t(e.startMs,o),a.logInteraction(n?r.hitSeekToTime({msToSeekTo:e.startMs}):r.hitPlay({itemToBePlayed:i}))},children:(0,w.jsx)(A.k,{id:o,targetURI:(0,l.o_h)(i),fadeOut:!0,children:(0,w.jsx)(ue.E,{variant:"marginalBold",semanticColor:"textSubdued",className:X.text,children:(0,Ae.f)(e.startMs)})})}),e.content.map((e,t)=>(0,w.jsx)(ue.E,{variant:"bodySmall",semanticColor:"textBase",className:X.transcriptText,dir:"auto",children:e},`transcript-text-${t}`))]},o)})]})});var Se=i(13140);const Re=({charCount:e})=>(0,w.jsx)("div",{className:X.transcriptSection,children:(0,w.jsx)("div",{className:X.transcriptText,children:(0,w.jsx)(Se.Y,{as:"p",variant:"bodySmall",charCount:e,isLoading:!0})})}),_e=()=>(0,w.jsx)("div",{className:X.transcriptTimestamp,children:(0,w.jsx)(Se.Y,{as:"p",variant:"marginal",charCount:8,isLoading:!0})}),we=()=>(0,w.jsx)("div",{className:X.transcriptDisclaimer,children:(0,w.jsx)(Se.Y,{as:"p",variant:"bodySmall",charCount:20,isLoading:!0})}),Le=()=>(0,w.jsxs)("div",{children:[(0,w.jsx)(we,{}),(0,w.jsx)(_e,{}),(0,w.jsx)(Re,{charCount:23}),(0,w.jsx)(Re,{charCount:27}),(0,w.jsx)(Re,{charCount:25}),(0,w.jsx)(_e,{}),(0,w.jsx)(Re,{charCount:28}),(0,w.jsx)(Re,{charCount:21}),(0,w.jsx)(Re,{charCount:24})]});var Ue=i(4749),Me=i(62216),De=i(19535);const Be=({triggerId:e,section:t,isPlaying:i,logger:s,isPassthrough:a,onTimeStampClick:n,timestampSpec:r,episodeUri:o})=>{if(!t.title)return null;if(a&&!t.title.title)return null;const c=(0,w.jsx)("button",{className:X.transcriptTimestamp,onClick:()=>{n(t.startMs,e),s.logInteraction(i?r.hitSeekToTime({msToSeekTo:t.startMs}):r.hitPlay({itemToBePlayed:o}))},children:(0,w.jsx)(A.k,{id:e,targetURI:(0,l.o_h)(o),fadeOut:!0,children:(0,w.jsx)(ue.E,{variant:"marginalBold",semanticColor:"textSubdued",className:X.transcriptTimestampText,children:(0,Ae.f)(t.startMs)})})});return(0,w.jsx)("div",{className:X.transcriptSection,children:(0,w.jsxs)("div",{className:X.transcriptTitleSection,children:[!a&&c,t.title.title&&(0,w.jsx)(ue.E,{variant:"marginalBold",semanticColor:"textSubdued",className:X.transcriptTitle,children:t.title.title})]})},e)},Oe=({episodeUri:e,readAlongUrl:t,onTimeStampClick:i})=>{const s=(0,Q.NC)(xe.dso),{data:a,loading:n,error:r}=(0,Me.$)(t,e,{maxSentenceLength:500,excludeCC:!0}),{spec:o,logger:l}=(0,Ee.D)(Ie.c,{data:{uri:e}}),{isPlaying:d}=(0,Pe.P)({uri:e},{featureIdentifier:"episode"}),u=o.timestampLinkFactory();if(n)return(0,w.jsx)(Le,{});if(!a||r)return null;const p=a.section,m=a.timeSyncedStatus!==De.OG.SENTENCE_SYNCED&&a.timeSyncedStatus!==De.OG.SYLLABLE_SYNCED;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:X.transcriptDisclaimer,children:(0,w.jsx)(ue.E,{variant:"bodySmall",semanticColor:"textBase",children:a.creatorProvided?c.Ru.get("web-player.episode.transcript.disclaimer.creator-provided"):c.Ru.get("web-player.episode.transcript.disclaimer")})}),p.map((t,a)=>{const n=`transcript-section-${a}`;return t.title?(0,w.jsx)(Be,{triggerId:n,section:t,isPlaying:d,logger:l,isPassthrough:m,onTimeStampClick:i,timestampSpec:u,episodeUri:e},n):t.musicClosedCaption&&s?(0,w.jsx)(Ue.p,{iconSize:"xsmall",variant:"bodySmall",className:X.transcriptMusicClosedCaption,title:t.musicClosedCaption.text},n):t.text?.sentence?(0,w.jsx)("div",{className:X.transcriptSection,children:(0,w.jsx)(ue.E,{variant:"bodySmall",semanticColor:"textBase",className:X.transcriptText,dir:"auto",children:t.text.sentence.text},n)},n):null})]})},Fe=({transcriptSections:e,onTimeStampClick:t,episodeUri:i,readAlongUrl:s})=>(0,Q.NC)(xe.exR,{loadingValue:xe.pT$.CDN})===xe.pT$.READ_ALONG&&s?(0,w.jsx)(Oe,{onTimeStampClick:t,episodeUri:i,readAlongUrl:s}):(0,w.jsx)(Ne,{transcriptSections:e,onTimeStampClick:t,episodeUri:i});var He=i(7574),Ge=i(87019),ze=i(39369),$e=i(10520),qe=i(50279),Xe=i(7255),Ve=i(31289),Ze=i(70655),Ke=i(26471),We=i(3591),Qe=i(66079),Ye=i(78007),Je=i(94315),et=i(18949),tt=i(89408),it=i(20409),st=i(22582),at=i(66891),nt=i(75794);const rt=({children:e,index:t,ariaRowIndex:i,onTriggerPlay:a,isActive:n,uri:r,spec:o})=>{const l=(0,G.s)(),{pushPopSelected:c,toggleSelected:d,isSelected:u}=(0,s.useContext)(st.m),p=(0,s.useRef)(null),m=(0,tt.YQ)(e=>{const t=l.logInteraction(o.doubleHitPlay({itemToBePlayed:r}));a(e,t)},at.d,{leading:!0,trailing:!1}),h=(0,s.useCallback)(e=>{d(t,e.shiftKey,e.ctrlKey||e.metaKey)},[d,t]),x=(0,s.useCallback)(e=>{if(!p.current?.contains(e.target))return;const i="ArrowUp"===e.key?-1:1;["ArrowUp","ArrowDown"].includes(e.key)&&(e.shiftKey?c(t,i):d(t+i,!1,!1))},[c,d,t]),g=u(t),y=g&&u(t-1),b=g&&u(t+1);return(0,w.jsx)(it.$,{rowIndex:i,"aria-selected":g,children:(0,w.jsx)("div",{"data-testid":"tracklist-row",className:K()(nt.A.trackListRow,nt.A.trackListRowGrid,{[nt.A.active]:n,[nt.A.selected]:g,[nt.A.isPreviousRowSelected]:y,[nt.A.isNextRowSelected]:b}),onDoubleClick:m,onClick:h,onKeyDown:x,ref:p,children:e})})};var ot=i(62439);const lt=({uri:e,title:t="",index:i,subtitle:a="",showName:n="",showUri:r="",duration:o=0,start:l,stop:d})=>{const{isActive:u,isPlaying:p,onClick:m}=(0,ot.L)({episodeUri:e,start:l,stop:d}),h=(0,s.useCallback)((e,t)=>{m(t)},[m]),{spec:x}=(0,Ee.D)($e.i,{data:{position:i,reason:"",uri:e}});return(0,w.jsxs)(rt,{index:i,ariaRowIndex:i+1,onTriggerPlay:h,isActive:u,spec:x,uri:e,children:[(0,w.jsxs)(Qe.U,{ariaColIndex:0,children:[(0,w.jsx)(Ze.$,{uri:e,playAriaLabel:c.Ru.get("tracklist.a11y.play",a,n),onClick:h,isPlaying:p,isActive:u,spec:x,children:(0,w.jsx)(Ke.a,{children:(0,w.jsx)(ze.M,{className:nt.A.talkIcon,"aria-hidden":!0})})}),(0,w.jsxs)(Ve.l,{children:[(0,w.jsx)(et.p,{titleText:t,children:t}),(0,w.jsx)(Je.p,{children:a})]})]}),(0,w.jsx)(Ye.o,{ariaColIndex:1,children:(0,w.jsx)(qe.g,{uri:r,name:n,spec:x,children:(0,w.jsx)("span",{dir:"auto",children:n})})}),(0,w.jsx)(We.l,{ariaColIndex:2,children:(0,w.jsx)(Xe.P,{duration:o,className:nt.A.talkSegmentDuration})})]})};var ct=i(23895),dt=i(16666),ut=i(83491),pt=i(21017),mt=i(35313),ht=i(74571),xt=i(90809),gt=i(29112);const yt="X_XB1dDoyNm5Ezjl14c6",bt="_H8brTJL5jWcFWMLoO4m",Ct="mMOee8GYpsO3bXUAQc3A",vt=({episodeUri:e,index:t,duration:i,start:a,stop:n,name:r,uri:o,artists:l,album:d,playable:u})=>{const{isActive:p,isPlaying:m,onClick:h}=(0,ot.L)({episodeUri:e,start:a,stop:n}),x=(0,s.useCallback)((e,t)=>{u&&h(t)},[h,u]),{spec:g}=(0,Ee.D)($e.i,{data:{position:t,reason:"",uri:o}});return(0,w.jsx)(ut.t,{trigger:"right-click",action:"open",menu:(0,w.jsx)(pt.P,{uri:o}),children:(0,w.jsxs)(xt.w,{uri:o,index:t,ariaRowIndex:t+1,dragMetadata:{name:r,createdBy:l[0]?.name??""},onTriggerPlay:x,isActive:p,isPlayable:u,spec:g,children:[(0,w.jsxs)(Qe.U,{ariaColIndex:0,children:[(0,w.jsx)(Ze.$,{uri:o,playAriaLabel:c.Ru.get("tracklist.a11y.play",r,l[0]?.name),onClick:x,isPlaying:m,isActive:p,spec:g,children:(0,w.jsx)(Ke.a,{children:(0,w.jsx)("img",{className:bt,src:d.image,alt:d.name})})}),(0,w.jsxs)(Ve.l,{children:[(0,w.jsx)(et.p,{titleText:r,children:r}),(0,w.jsx)(Je.p,{children:(0,w.jsx)(mt.l,{artists:l,spec:g})})]})]}),(0,w.jsx)(Ye.o,{ariaColIndex:1,children:(0,w.jsx)(qe.g,{uri:d.uri,name:d.name,spec:g,children:d.name})}),(0,w.jsxs)(We.l,{ariaColIndex:2,children:[(0,w.jsx)(gt.d,{uri:o,spec:g}),(0,w.jsx)(Xe.P,{duration:i}),(0,w.jsx)(ht.Y,{spec:g,menu:(0,w.jsx)(pt.P,{uri:o,artists:l}),label:c.Ru.get("more.label.track",r,l[0]?.name)})]})]})})};var kt=i(78610),jt=i(13059);function ft(e,t,i){return e.reduce((e,s,a)=>((a>0||t>0)&&e.push({type:"SPACER",id:`spacer-${e.length}`}),"MUSIC"===s.type?e.push(function(e,t,i){return{type:"MUSIC",index:t,uri:i.uri,episodeUri:e,start:i.start,stop:i.stop,duration:i.duration,name:i.track.name,artists:i.track.artists,album:i.track.album,playable:i.track.playable}}(i,a,s)):"TALK"===s.type&&e.push(function(e,t,i){return{type:"TALK",index:t,uri:e,title:i.title,subtitle:i.subtitle,start:i.start,stop:i.stop,duration:i.duration,showUri:i.show.uri,showName:i.show.name}}(i,a,s)),e),[])}const Tt=({uri:e,segmentCount:t})=>{const i=(0,kt.o)(),a=(0,s.useCallback)(async(s,a)=>{const n=Math.ceil(s/2);try{return{items:ft(await i.getSegments(e,n,a),n,e),totalLength:2*t-1}}catch(e){return{items:[],totalLength:0}}},[t,i,e]),n=(0,s.useCallback)(t=>{switch(t.type){case"SPACER":return(0,w.jsx)("div",{className:Ct},t.id);case"MUSIC":return(0,w.jsx)(vt,{...t},`${e}-${t.index}`);case"TALK":return(0,w.jsx)(lt,{...t},`${e}-${t.index}`);default:return(0,jt.d)(t)}},[e]),r=(0,s.useCallback)(e=>({uri:"MUSIC"===e.type?e.uri:""}),[]),o=c.Ru.get("music_and_talk.in_this_episode");return(0,w.jsxs)("div",{children:[(0,w.jsx)(ue.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:yt,children:o}),(0,w.jsx)(ct.S4,{ariaLabel:o,hasHeaderRow:!0,rowPlaceholder:Ge.qq,columns:[dt.$C.TITLE_AND_ARTIST,dt.$C.ALBUM_OR_SHOW,dt.$C.DURATION],renderRow:n,fetchTracks:a,resolveItem:r,limit:50,nrTracks:2*t-1,testID:"music-and-talk-tracklist"})]})},It=(0,s.lazy)(async()=>{const{GatedCommentsList:e}=await i.e(4483).then(i.bind(i,24018));return{default:e}});var Pt=i(6552),Et=(i(14248),i(91906),i(33214),i(59800),i(9472)),At=i.n(Et);let Nt=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.PLAINTEXT_CONTENT=1]="PLAINTEXT_CONTENT",e[e.MUSIC_TRACK=2]="MUSIC_TRACK",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});const St={decode(e,t){const i=e instanceof At().Reader?e:At().Reader.create(e);let s=void 0===t?i.len:i.pos+t;const a={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.version=i.string();continue;case 2:if(18!==e)break;a.episodeUri=i.string();continue;case 3:if(26!==e)break;a.publishedAt=i.string();continue;case 4:if(34!==e)break;a.sections.push(Rt.decode(i,i.uint32()));continue;case 5:if(42!==e)break;a.language=i.string();continue;case 6:if(48!==e)break;a.curated=i.bool();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return a}};const Rt={decode(e,t){const i=e instanceof At().Reader?e:At().Reader.create(e);let s=void 0===t?i.len:i.pos+t;const a={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;a.type=i.int32();continue;case 2:if(16!==e)break;a.startMs=i.int32();continue;case 3:if(26!==e)break;a.plaintextContent=_t.decode(i,i.uint32());continue;case 6:if(50!==e)break;a.musicTrack=wt.decode(i,i.uint32());continue;case 4:if(34!==e)break;a.title=i.string();continue;case 5:if(42!==e)break;a.fallback=_t.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return a}};const _t={decode(e,t){const i=e instanceof At().Reader?e:At().Reader.create(e);let s=void 0===t?i.len:i.pos+t;const a={plaintext:[]};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.plaintext.push(i.string());continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return a}};const wt={decode(e,t){const i=e instanceof At().Reader?e:At().Reader.create(e);let s=void 0===t?i.len:i.pos+t;const a={uri:""};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.uri=i.string();continue}if(4==(7&e)||0===e)break;i.skipType(7&e)}return a}};function Lt(e){return e.type===Nt.MUSIC_TRACK?{type:"track",startMs:e.startMs,content:e.fallback?.plaintext||[],trackUri:e.musicTrack?.uri}:{type:"text",startMs:e.startMs,content:e.plaintextContent?.plaintext||[]}}var Ut=i(55247);const Mt=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:i,hasDescription:a,hasMusicAndTalkSegments:n,htmlDescription:r,onDescriptionTimestampClick:o,onTranscriptTimestampClick:l,playability:d,segmentCount:u,showUrl:p,transcript:m,uri:h,spec:x})=>{const g=(0,G.s)(),y=(0,Pt.d)(),b=(0,Q.NC)(xe.exR,{loadingValue:xe.pT$.CDN}),C=(0,s.useMemo)(()=>x.descriptionSectionFactory(),[x]),v=(0,s.useMemo)(()=>C.trackListFactory(),[C]),[k,j]=(0,s.useState)(null),f=(0,s.useCallback)(async e=>{const t=await async function(e){try{const t=await fetch(e,{});if(t.ok&&t.body){const e=await t.arrayBuffer();return St.decode(new Uint8Array(e)).sections.map(Lt)}return null}catch(e){return null}}(e);j(t)},[]);(0,s.useEffect)(()=>{b===xe.pT$.CDN&&m?.[0]&&f(m[0].cdnUrl)},[f,m,b]);const T=l=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ge,{hasDescription:a,contentInformation:t,onTimeStampClick:o,description:i,areHTMLDescriptionsEnabled:e,htmlDescription:r,playability:d,showHeader:l,spec:C}),n&&(0,w.jsx)(Ut.r,{spec:v,children:(0,w.jsx)(Tt,{segmentCount:u,uri:h})}),p&&(0,w.jsx)(W.n,{size:"small",className:X.seeAllEpisodesButton,href:p,component:de.v,onClick:()=>{g.logInteraction(C.allEpisodesLinkFactory().hitUiNavigate({destination:p}))},children:c.Ru.get("episode.see_all_episodes")}),(0,w.jsx)(ce,{uri:h}),y&&(0,w.jsx)(s.Suspense,{fallback:null,children:(0,w.jsx)("div",{className:K()(X.commentsLayout),...!l&&{[He.R]:!0},children:(0,w.jsx)(It,{uri:h,className:X.commentsList})})})]}),I=m&&m?.length>0&&d.playable,P=b===xe.pT$.READ_ALONG&&!!m?.[0]?.readAlongUrlV2||b===xe.pT$.CDN&&null!==k;return(0,w.jsx)(w.Fragment,{children:I?(0,w.jsx)(Te,{hasTranscript:P,descriptionContent:T(!1),transcriptContent:(0,w.jsx)(Fe,{transcriptSections:k||[],onTimeStampClick:l,episodeUri:h,readAlongUrl:m?.[0]?.readAlongUrlV2??void 0}),spec:x}):T(!0)})};var Dt=i(82898),Bt=i(12552),Ot=i(46920),Ft=i(86487),Ht=i(17422),Gt=i(29934),zt=i(83130),$t=i(8134),qt=i(52251),Xt=i(54839),Vt=i(76826),Zt=i(25914),Kt=i(34503),Wt=i(65992),Qt=i(58760),Yt=i(12586);const Jt=({coverArt:e,name:t})=>{const i=(0,Yt.y)(),s=i===Qt.E.SMALL||i===Qt.E.XSMALL;return(0,w.jsx)(Kt.b,{images:e,type:re.c.EPISODE,shape:Kt.u.ROUNDED_CORNERS,title:t,size:s?Wt.Qe.SIZE_20:Wt.Qe.SIZE_24,className:X.smallEntityImage})};var ei=i(72045),ti=i(91596);const ii=({episode:e,isFullyPlayed:t,setIsFullyPlayed:i,onPlayEpisode:a,isPlaying:n,isLocked:r,backgroundColor:o,spec:d})=>{const{uri:u,name:p,sharingInfo:m,playedState:h,episodeType:x,releaseDate:g,coverArt:y}=e,b=(0,G.s)(),C=function(e,t,i,s,a){const n=t===ei.I_.Episode;return(0,Zt.hD)(e,s,i,a)?(0,w.jsx)(Zt.Ih,{isMusicAndTalk:n}):n?c.Ru.get("type.showEpisode"):c.Ru.get("type.podcastEpisode")}(u,x||ei.I_.Unknown,h.playPositionMilliseconds,function(e){return e?.replace(/T.*/,"")||""}(g?.isoString),h.state===ei._w.Completed),v=e.podcast?.uri,k=function(e){const t=(0,l.o_h)(e);return`/show/${(0,l.cEw)(t?.id||"")}`}(v),j=(0,s.useCallback)(()=>{b.logInteraction(d.podcastLinkFactory().hitUiNavigate({destination:k}))},[b,k,d]),f=e.podcast?.coverArt,I=!!(f&&f.length===y.length&&y.every((e,t)=>e.url===f[t]?.url)),P=!r&&!e.playability.playable,E=c.Ru.get("tracklist.a11y.play",e.name,e.podcast?.name),A=c.Ru.get("tracklist.a11y.pause",e.name,e.podcast?.name),N=(0,w.jsx)(T.b,{uri:u,sharingInfo:m,showUri:v,contextUri:u,isPlayed:t,onMarkAsPlayed:i});return(0,w.jsxs)(Bt.z,{backgroundColor:o,backgroundImages:e.sixteenByNineCoverImages??void 0,className:ti.A.episode,children:[(0,w.jsxs)(Ht.h,{children:[(0,w.jsx)(U,{episodeUri:e.uri,showUri:v,isLocked:r,onClick:()=>{a(h.playPositionMilliseconds)},isPlaying:n,isPlayDisabled:P,playButtonPlayLabel:E,playButtonPauseLabel:A,size:"medium"}),(0,w.jsx)(Dt.h,{menu:N,children:(0,w.jsx)(Gt.X,{text:p,dragUri:u,dragLabel:p})})]}),!I&&(0,w.jsx)(Ot.X,{children:(0,w.jsx)(Dt.h,{menu:N,children:(0,w.jsx)(zt.b,{loading:"eager",name:p,images:y,placeholderType:"episode",shape:zt.u.SQUARE})})}),(0,w.jsxs)(Ft.Y,{children:[(0,w.jsx)($t.B,{children:C}),(0,w.jsx)(Dt.h,{menu:N,children:(0,w.jsx)(Xt.mm,{dragUri:u,dragLabel:p,scaleAtMinWidth:Xt.tw,className:X.episodeTitle,children:(0,w.jsx)("span",{"data-testid":"episodeTitle",children:p})})}),(0,w.jsx)(Dt.h,{menu:N,children:(0,w.jsxs)(Vt.N,{to:k,onClick:j,className:X.showAuthor,children:[I&&(0,w.jsx)(Jt,{name:p,coverArt:y}),(0,w.jsx)(qt.g,{children:(0,w.jsx)("span",{"data-testid":"showTitle",children:e.podcast?.name})})]})})]})]})};var si=i(58248);var ai=i(85121),ni=i(28389),ri=i(81694),oi=i(5256),li=i(52753),ci=i(7577),di=i(43038),ui=i(96500),pi=i(94639),mi=i(45008),hi=i(39140),xi=i(95488),gi=i(34649);const yi=({episode:e})=>{const{uri:t,episodeType:i,description:n,htmlDescription:r,podcastSubscription:c,segmentsCount:m,podcast:x,contentInformation:g,coverArt:y}=e,{spec:b,logger:C}=(0,z.r)(o.g,{data:{uri:t}}),v=(0,ri.n)(),k=(0,s.useMemo)(()=>b.headerFactory(),[b]),j=(0,s.useMemo)(()=>b.actionBarFactory(),[b]),{isActive:f,isPlaying:T}=(0,ui.te)(t),{isFullyPlayed:I,setIsFullyPlayed:P}=(0,pi.e)({uri:t,isPlaying:T,durationMs:e.duration.milliseconds,episodePlaybackState:e.playedState?.state}),E=(0,di.z)(),A=void 0!==m&&m>0,N=(0,R.V)(),{triggerPlay:S,togglePlay:U,isActive:M}=(0,Pe.P)({uri:t,...v?{}:{pages:[{items:[{type:re.c.EPISODE,uri:t,uid:null,provider:null}]}]}},{featureIdentifier:"episode"}),D=y.at(0)?.url,B=(0,li.H)(D||null),O=(0,H.o)(e=>e?.isPaused??void 0),{isWeb:F}=(0,_.V)(),G=c.isPaywalled&&!c.isUserSubscribed,$=f||M,q=e?{name:e.name,uri:e.uri,mediaTypes:e.mediaTypes,audio:{items:e.audio.items.map(e=>({url:e.url}))}}:null,Z=x?{name:x.name,uri:x.uri,trailer:x.trailer,showTypes:x.showTypes}:null,K=(0,oi.C)(q,Z),W=(0,s.useCallback)((e,t,s,a)=>{const n=()=>{O?(a?.("resume"),E.resume({featureIdentifier:"episode"})):(a?.("pause"),E.pause({featureIdentifier:"episode"}))};if(!G)if(i===ei.I_.Episode&&F)u.h.set(()=>({triggerId:s||L,triggerAction:null}));else if(M&&!t)N?n():U({loggingParams:a?.()});else if(f&&!t)n();else{const t=a?.("play");N?K({seekTo:e,loggingParams:t}):S({seekTo:e,loggingParams:t})}},[G,i,F,f,M,N,O,E,U,K,S]),Q=(0,s.useCallback)(e=>{W(e,!1,void 0,e=>{const i=b.actionBarFactory().playButtonFactory();let s;return s="pause"===e||T?i.hitPause({itemToBePaused:t}):"resume"===e||$?i.hitResume({itemToBeResumed:t}):i.hitPlay({itemToBePlayed:t}),C.logInteraction(s)})},[W,$,T,C,b,t]),Y=(0,s.useCallback)(e=>{W(e,!0,void 0,()=>C.logInteraction(b.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t})))},[W,C,b,t]),J=(0,s.useCallback)((e,t)=>{W(e,!0,t)},[W]),[ee,te]=(0,a.ok)();(e=>{const t=(0,si.g)(),[i]=(0,a.ok)(),n=e.gatedEntityRelations?.entitiesWithValueProps.at(0),r=(0,l.o_h)(n?.fallbackNavigation?.uri),o=n?.uri,c=i.has("si");(0,s.useEffect)(()=>{if(!c||!o)return;let i;e.hasGatedEntityRelationAccess&&e.uri!==o?i=(0,l.o_h)(o)?.toURLPath(!0):!e.hasGatedEntityRelationAccess&&r&&(i=r.toURLPath(!0)),i&&t(i,{replace:!0})},[r,c,t,o,e.hasGatedEntityRelationAccess,e.uri])})(e),(0,s.useEffect)(()=>{if(e&&!$&&ee.has("t")){const t=ee.get("t")||"0",i=1e3*parseInt(t,10);i<=e.duration.milliseconds&&(ee.delete("t"),te(ee,{replace:!0}),W(i,!0))}},[e,W,$,ee,te]);const ie=!!n||!!r,se=e.podcast?.uri,ae=(0,l.o_h)(se)?.toURLPath(!0);return(0,w.jsxs)("section",{className:X.episodePage,"data-testid":"episode",children:[(0,w.jsx)(d.Q,{children:(0,xi.L$)({episodeOrChapterName:e.name,showOrAudiobookName:e.podcast?.name??"",type:"Podcast"})}),(0,w.jsx)(h.c,{artistOrShow:e.podcast?.name,title:e.name,uri:t,entityType:h.p.EPISODE}),(0,w.jsx)(ii,{episode:e,onPlayEpisode:Q,isPlaying:T,isFullyPlayed:I,setIsFullyPlayed:P,backgroundColor:B,spec:k,isLocked:G}),(0,w.jsxs)("div",{className:X.episodeContent,children:[(0,w.jsx)(V,{episode:e,onPlayEpisode:Q,isPlaying:T,isActive:$,isFullyPlayed:I,setIsFullyPlayed:P,backgroundColor:B,isLocked:G,spec:j}),(0,w.jsxs)("div",{className:"contentSpacing",children:[(0,w.jsx)(ai.q,{gatedEntityRelations:e.gatedEntityRelations,upsellExplanation:e.upsellExplanation,hasAccess:e.hasGatedEntityRelationAccess,gatedEntityCoverArt:e.podcast?.coverArt,showValueProps:!1,showCoverArt:!1}),(0,w.jsx)(Mt,{transcript:e.transcript,hasDescription:ie,contentInformation:g,onDescriptionTimestampClick:Y,onTranscriptTimestampClick:J,description:e.description,areHTMLDescriptionsEnabled:!0,htmlDescription:e.htmlDescription,playability:e.playability,hasMusicAndTalkSegments:A,segmentCount:m,uri:e.uri,showUrl:ae,spec:b}),F&&(0,w.jsx)(p.W,{uri:t})]})]})]})},bi=s.memo(function(){const{episodeId:e=""}=(0,n.g)(),t=(0,l.iMK)(e).toURI(),i=(0,mi.d)(t);return i?.isError||!i?.episodeOrChapter?(0,w.jsx)(m.LoadingPage,{hasError:i?.isError||!1,errorMessage:c.Ru.get("error.not_found.title.podcast")}):(0,hi.Gr)(i.episodeOrChapter)?(0,w.jsx)(ni.$,{to:(0,l.o_h)(i.episodeOrChapter.book?.uri).toURLPath(!0)}):(0,w.jsx)(s.Suspense,{fallback:null,children:(0,w.jsx)(gi.eZ,{pageId:r.$.PODCAST_EPISODE,entityUri:t,children:(0,w.jsx)(ci.d,{dynamicColors:i.episodeOrChapter.dynamicColors,children:(0,w.jsx)(yi,{episode:i.episodeOrChapter})})})})})},21082:(e,t,i)=>{i.d(t,{A:()=>s});const s={Heading:"npCaU9471Yt8qz6G3QMl",HTMLDescription:"playlist-playlist-playlistDescription",List:"gO3asXTGXP9b6dV3B7_S",ListItem:"NkqV_wLPrQQM_fE3Lurr",Paragraph:"uSZqU39qytkxgjskgv4n"}},26428:(e,t,i)=>{i.d(t,{v:()=>g});var s=i(30758),a=i(6936),n=i.n(a),r=i(78717);const o=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var l=i(76826),c=i(86070);const d=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,u=/^https?:\/\//;function p(e){return"string"==typeof e?(0,c.jsx)(c.Fragment,{children:e.split(d).map((e,t)=>t%2?(0,c.jsx)(l.N,{to:`${u.test(e)?"":"https://"}${e}`,rel:"nofollow",children:e},t):e)}):e}var m=i(6774),h=i(21082);const x=(e=()=>{},t,i,a)=>{let n=0;const o={_:(e,t,r)=>{const o=void 0===t?e:r;return(0,c.jsx)(s.Fragment,{children:i&&!a?p(o):o},"fragment"+n++)}};if(a)return o;return{...o,p:e=>(0,c.jsx)(r.E,{as:"p",variant:"bodyMedium",semanticColor:t,className:h.A.Paragraph,children:i?p(e.children):e.children}),a:t=>t.href?.startsWith("#t=")?(0,c.jsx)(m.D,{onClick:e,children:t.children}):t.href?(0,c.jsx)(l.N,{to:t.href,rel:t.rel,children:t.children}):(0,c.jsx)(c.Fragment,{children:t.children}),ul:e=>(0,c.jsx)("ul",{className:h.A.List,children:e.children}),ol:e=>(0,c.jsx)("ol",{className:h.A.List,children:e.children}),li:e=>(0,c.jsx)(r.E,{as:"li",variant:"bodyMedium",semanticColor:t,className:h.A.ListItem,children:i?p(e.children):e.children}),br:()=>(0,c.jsx)("br",{}),h1:e=>(0,c.jsx)(r.E,{as:"h1",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h2:e=>(0,c.jsx)(r.E,{as:"h2",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h3:e=>(0,c.jsx)(r.E,{as:"h3",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h4:e=>(0,c.jsx)(r.E,{as:"h4",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h5:e=>(0,c.jsx)(r.E,{as:"h5",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),h6:e=>(0,c.jsx)(r.E,{as:"h6",variant:"bodyMediumBold",semanticColor:t,className:h.A.Heading,children:e.children}),time:t=>(0,c.jsx)(m.D,{onClick:e,children:t.children})}},g=(e,t=()=>{},i=!1,s="textSubdued",a=!1,r=!1)=>{const l=i?e.split(o).map(e=>e.match(o)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e).join(""):e;let c;try{c=n()(l,{transform:x(t,s,a,r),dangerouslySetChildren:[]})}catch{c=e}return c}},34384:(e,t,i)=>{i.d(t,{q:()=>c});var s=i(30758),a=i(97500),n=i.n(a),r=i(26428),o=i(21082),l=i(86070);const c=s.memo(s.forwardRef(function({html:e,onTimeStampClick:t,enableTimestamps:i=!1,enableAutomaticLinkification:a=!1,semanticColor:c="textSubdued",className:d,asTextContent:u=!1},p){const m=(0,s.useMemo)(()=>(0,r.v)(e,t,i,c,a,u),[i,a,e,t,c,u]);return(0,l.jsx)("div",{ref:p,className:n()(o.A.HTMLDescription,d),children:m})}))},58381:(e,t,i)=>{i.d(t,{P:()=>s.P});var s=i(68930)},62439:(e,t,i)=>{i.d(t,{L:()=>o});var s=i(30758),a=i(49060),n=i(50253),r=i(49820);function o({episodeUri:e,start:t,stop:i}){const{togglePlay:o,triggerPlay:l,isPlaying:c,isActive:d}=(0,a.P)({uri:e},{featureIdentifier:"episode"}),u=(0,n.o)(e=>(0,r.s)(e)??0),p=d&&function(e,t,i){return i>=e&&i<t}(t,i,u),m=c&&p;return{onClick:(0,s.useCallback)(e=>{p?o({seekTo:t,loggingParams:e}):l({seekTo:t,loggingParams:e})},[p,t,o,l]),isPlaying:m,isActive:p}}},75932:(e,t,i)=>{i.d(t,{J:()=>u});var s=i(60749),a=i(35394),n=i(93116),r=i(54091),o=i(61855),l=i(1068),c=i(59867),d=i(86070);const u=({leavebehinds:e,surface:t,uri:i,pathname:u,state:p})=>{const m=(0,c.vh)(),h=`${r.Ru.get("view.see-all")} (${e.length<=l.E9?r.Ru.formatNumber(e.length):r.Ru.formatNumber(l.E9)})`;return(0,d.jsx)(s.N_,{to:u,state:p,children:(0,d.jsx)(a.H,{"data-testid":"leavebehinds-see-all",size:"small",onClick:()=>{m.send((0,n.x)({leavebehind_request_id:e[0].requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,o.Fh)(t),uri:i}))},children:h})})}},78610:(e,t,i)=>{i.d(t,{o:()=>n});var s=i(74303),a=i(94209);function n(){return(0,a.N)(s.g)}},95057:(e,t,i)=>{i.d(t,{o:()=>P});var s=i(30758),a=i(78717),n=i(21765),r=i(10029),o=i(93116),l=i(54091),c=i(70796),d=i(79898),u=i(10622),p=i(74291),m=i(73136),h=i(18827),x=i(76826);const g="adyvf1wa9iOg7rlA_g5A";var y=i(86070);const b="70px",C=({adId:e,advertiser:t,tagline:i,displayImage:s,buttonMessage:a,cardOnClick:n,buttonOnClick:r,clickthroughUrl:o})=>(0,y.jsx)(x.N,{to:(0,h.H)(o),className:g,"data-testid":"leavebehind",children:(0,y.jsx)(c.v,{onClick:n,onClickHint:l.Ru.get("ad-formats.learnMore"),layout:"wide",variant:"tinted",id:e,size:"xl",title:(0,y.jsx)(d.d,{weight:"bold",variant:"ballad",lineClamp:1,"data-testid":"leavebehind-advertiser",children:t}),subtitle:(0,y.jsx)(u.j,{as:"div",lineClamp:2,"data-testid":"leavebehind-tagline",children:i}),media:(0,y.jsx)(p.C,{"data-testid":"leavebehind-image",src:s.src,alt:s.alt,imageHeight:b,imageWidth:b,size:"xl"}),trailing:(0,y.jsx)(m.$,{onClick:()=>{r&&r()},"data-testid":"leavebehind-button",colorSet:"invertedLight",size:"small","aria-label":l.Ru.get("ad-formats.learnMore"),children:a})})});var v=i(61855),k=i(62731),j=i(1068),f=i(59867);const T="coPRVmHGnnxAk0NsR09O",I="w_79utXxaHUOTPluwe9X",P=({leavebehinds:e,seeAllButton:t,surface:i,uri:c})=>{const d=(0,f.vh)(),u=(0,k.w)(k.P),[p,m]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{e&&e.length>0&&p!==e[0].requestId&&c&&(e.forEach((e,t)=>{e.uri===c&&(e.trackingEvents?.viewed.forEach(async t=>{try{await u(t)}catch(s){const a=s;d.send((0,r.G)({error_type:"trackingURLFailure",error_message:a.message,http_error_code:422,surface:(0,v.Fh)(i),request_url:t,request_type:"leavebehindAds",lineitem_id:e.lineitemId,ad_content_origin:(0,j.Zl)(i)}))}}),d.send((0,o.x)({leavebehind_lineitem_id:e.lineitemId,leavebehind_request_id:e.requestId,event:"event_viewed",event_reason:`viewed_on_${(0,v.Fh)(i).toLowerCase()}`,surface:(0,v.Fh)(i),surface_position:t+1,uri:c})))}),m(e[0].requestId))},[d,u,e,c,i,p]);const h=({eventReason:e,lineitemId:t,requestId:s,trackingEvents:a,surfacePosition:n})=>{((e,t)=>{t?.forEach(async t=>{try{await u(t)}catch(s){const a=s;d.send((0,r.G)({error_type:"trackingURLFailure",error_message:a.name,http_error_code:422,surface:(0,v.Fh)(i),request_url:t,request_type:"leavebehindAds",lineitem_id:e,ad_content_origin:(0,j.Zl)(i)}))}})})(t,a),d.send((0,o.x)({leavebehind_lineitem_id:t,leavebehind_request_id:s,event:"event_clicked",event_reason:e,surface:(0,v.Fh)(i),surface_position:n,uri:c}))};return(0,y.jsxs)("section",{"data-testid":"leavebehinds-wrapper",children:[(0,y.jsxs)("div",{className:I,children:[(0,y.jsx)(a.E,{as:"h2",semanticColor:"textBase",variant:"titleSmall",paddingBottom:(0,n.po)("tighter"),"data-testid":"leavebehinds-title",children:l.Ru.get("podcast-ads.recent_ads")}),t]}),(0,y.jsx)("div",{className:T,"data-testid":"leavebehinds-list-wrapper",children:e.map((e,t)=>(0,y.jsx)(C,{...e,buttonOnClick:()=>{h({eventReason:"button_clicked",lineitemId:e.lineitemId,trackingEvents:e.trackingEvents?.clicked,requestId:e.requestId,surfacePosition:t+1})},cardOnClick:()=>{h({eventReason:"card_clicked",lineitemId:e.lineitemId,trackingEvents:e.trackingEvents?.clicked,requestId:e.requestId,surfacePosition:t+1})}},e.adId))})]})}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map