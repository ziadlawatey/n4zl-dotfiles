"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3838],{69491:(t,e,o)=>{o.d(e,{U:()=>P});var n=o(30758),a=o(78717),r=o(54091),i=o(52782),s=o(63087),l=o(32354),c=o(97500),u=o.n(c);const d="_LpdeSx__u3Li7GNt_EC",p="YkaqCUnUKKytxFMJCKMU",h="uFh1V4anovTllIAVIQji";var m=o(86070);const g=({children:t,className:e})=>(0,m.jsx)("span",{className:u()(d,e),children:t}),b=t=>(0,m.jsx)("span",{className:u()(t.className,p,{[h]:t.noSeparator}),children:t.children});var x=o(1609),_=o(87308);const v="VjHnCTggn_Xg5qXPnMmG",y="r16H4KHPPys0Wl9TFRz9",f=(0,n.memo)(function(t){const{src:e,description:o,...n}=t,r=(0,_.z)(e,"inherit","colorDark");return e?(0,m.jsx)("div",{className:v,style:{backgroundColor:r},"data-testid":"episode-fallback-image-container",children:(0,m.jsx)("div",{className:y,children:(0,m.jsx)(a.E,{as:"p",variant:"titleSmall",children:o})})}):(0,m.jsx)(x.L,{...n,size:"xxxlarge"})});var j=o(91899),A=o(88462),L=o(82898),C=o(10817),w=o(19397),N=o(20005),F=o(76826),I=o(25914),k=o(18204),S=o(59725),E=o(67793),M=o(54635),T=o(44265),V=o(76392);const D="Wzppvja0ZY5TctDLuCIA",P=({description:t,isExplicit:e,images:o,name:c,uri:u,durationMilliseconds:d,releaseDate:p,resume_point:h,showImages:x,sharingInfo:_,is19PlusOnly:v,isHero:y,onClick:P,onPlay:H,testId:z,index:R,requestId:U,color:B,episodeShow:O,variant:q,logCardImpressions:G=!1,hasAssociatedVideo:W,role:K,bodyContent:X})=>{let Y;const Z=p?new Date(p):void 0,Q=Z&&!isNaN(Z.getTime())&&!isNaN(d),J=(0,V.g)(x,{desiredSize:48}),$=(0,I.hD)(u,Z?.toISOString(),h?.resume_position_ms,h?.fully_played),tt=O?.uri||"",{draggable:et,onDragStart:ot}=(0,S.P)({itemUris:[tt],dragLabelText:O?.name}),nt=(0,n.useCallback)(()=>{P?.(tt)},[P,tt]),at=(0,m.jsxs)(m.Fragment,{children:[e&&!v&&(0,m.jsx)(b,{className:D,noSeparator:!0,children:(0,m.jsx)(E.U,{})}),v&&(0,m.jsx)(b,{className:D,noSeparator:!0,children:(0,m.jsx)(M.q,{size:16})})]}),rt=Q&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b,{children:(0,T.gD)(Z)}),(0,m.jsx)(b,{children:r.Ru.get("episode.length",Math.ceil(d/6e4))})]});return Y=y?(0,m.jsx)(j.A,{index:R,onClick:P,headerText:c,featureIdentifier:"episode",uri:u,onPlay:H,isPlayable:!0,isDownloadable:!0,hasNewEpisodeIndicator:$,renderCardImage:()=>(0,m.jsx)(s.M,{isHero:!0,images:o,color:B,FallbackComponent:e=>(0,m.jsx)(f,{...e,description:t,src:J&&J.url})}),renderSubHeaderContent:()=>(0,m.jsx)(l.c,{isHero:!0,children:(0,m.jsxs)(g,{children:[at,W&&(0,m.jsx)(b,{children:(0,m.jsx)(k.T,{separator:""})}),(0,m.jsx)(b,{children:(0,m.jsx)(A.t,{children:r.Ru.get("card.tag.episode")})}),rt,O&&(0,m.jsx)(b,{children:(0,m.jsx)(N.Zp,{label:O?.name,showDelay:N.uF,children:(0,m.jsx)(a.E,{as:"span",children:(0,m.jsx)(L.h,{menu:(0,m.jsx)(w.H,{uri:tt}),children:(0,m.jsx)(F.N,{draggable:et,to:tt,onDragStart:ot,dir:"auto",onClick:nt,children:O?.name})})})})})]})}),testId:z,requestId:U,logCardImpressions:G}):(0,m.jsx)(i.Z,{variant:q,index:R,onClick:P,headerText:c,featureIdentifier:"episode",uri:u,role:K,onPlay:H,isPlayable:!0,isDownloadable:!0,hasNewEpisodeIndicator:$,renderCardImage:()=>(0,m.jsx)(s.M,{images:o,color:B,FallbackComponent:e=>(0,m.jsx)(f,{...e,description:t,src:J&&J.url})}),renderSubHeaderContent:()=>(0,m.jsx)(l.c,{children:(0,m.jsxs)(g,{children:[at,W&&(0,m.jsx)(k.T,{separator:""}),rt]})}),renderBodyContent:X,testId:z,requestId:U,logCardImpressions:G}),(0,m.jsx)(L.h,{menu:(0,m.jsx)(C.b,{uri:u,sharingInfo:_}),children:Y})}},87308:(t,e,o)=>{o.d(e,{r:()=>c,z:()=>u});var n=o(30758),a=o(66917),r=o(26571),i=o(17500),s=o(794),l=o(1812);function c(t=null){const{request:e}=(0,n.useContext)(s.j),{data:o}=(0,l.I)({queryKey:["extracted-color",t],queryFn:()=>t?(0,i.j)(e,t).then(t=>{const e=t?.[0];return e?{colorDark:e.colorDark.toCSS(r.a.HEX),colorLight:e.colorLight.toCSS(r.a.HEX),colorRaw:e.colorRaw.toCSS(r.a.HEX)}:null}):null,gcTime:864e5,staleTime:216e5,enabled:!!t});return o??void 0}function u(t=null,e=a.l0o,o="colorRaw"){return c(t)?.[o]??e}},87811:(t,e,o)=>{o.r(e),o.d(e,{REDIRECT_BASE:()=>ot,default:()=>pt,overrideLocationHrefGetterForTesting:()=>lt,overrideLocationHrefSetterForTesting:()=>st,resetLocationHrefGetterForTesting:()=>ut,resetLocationHrefSetterForTesting:()=>ct});var n=o(30758),a=o(97500),r=o.n(a);const i="music",s="0.1.0",l="default",c="12.2.0";function u(t){return new d(t)}class d{constructor(t){this._path=[{name:"desktop-culturalmoments-hub",...t.data}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}shelvesFactory(){return new d.ShelvesEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}mobilePromptFactory(){return new d.MobilePromptEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[s,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.ShelvesEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"shelves"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[s,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(d||(d={})),function(t){t.MobilePromptEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"mobile_prompt"}),e&&(this._parentAbsoluteLocation=e)}appleBadgeFactory(){return new t.MobilePromptEventFactory.AppleBadgeEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}googleBadgeFactory(){return new t.MobilePromptEventFactory.GoogleBadgeEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[s,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}impression(){return{app:i,generatorVersion:c,specificationVersion:s,specificationMode:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(d||(d={})),function(t){!function(t){t.AppleBadgeEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"apple_badge"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[s,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitNavigateToWebviewUri({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"navigate_to_webview_uri",actionVersion:1,app:i,generatorVersion:c,interactionType:"hit",specificationMode:l,specificationVersion:s,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.MobilePromptEventFactory||(t.MobilePromptEventFactory={}))}(d||(d={})),function(t){!function(t){t.GoogleBadgeEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"google_badge"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[s,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitNavigateToWebviewUri({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"navigate_to_webview_uri",actionVersion:1,app:i,generatorVersion:c,interactionType:"hit",specificationMode:l,specificationVersion:s,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.MobilePromptEventFactory||(t.MobilePromptEventFactory={}))}(d||(d={}));var p=o(54091),h=o(13072),m=o(29947),g=o(80128),b=o(66917),x=o(12552),_=o(86487),v=o(17422),y=o(29934),f=o(54839),j=o(96133),A=o(86070);const L=({image:t,color:e=b.vyq,title:o})=>{const n=void 0===t?x.K.SMALL:x.K.DEFAULT,a=t?.custom?.sizes?.flatMap(t=>t.uri?[{url:t.uri,width:t.width,height:t.height}]:[])??(t?.uri?[{url:t?.uri}]:[]);return(0,j.q)(null,e),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(x.z,{backgroundImages:a,backgroundColor:e,size:n,children:[(0,A.jsx)(v.h,{children:o?(0,A.jsx)(y.X,{text:o}):null}),(0,A.jsx)(_.Y,{children:o?(0,A.jsx)(f.mm,{children:o}):null})]})})};var C=o(27360),w=o(31808),N=o(69491),F=o(11183);const I=t=>{if("number"==typeof t){return new Date(1e3*t).toISOString()}return null};const k=(t,e,o)=>{if(void 0===t.id)return null;const n=e.map((t,e)=>function(t,e){const o=t.component?.id,n=t.id;if(void 0===o||void 0===n)return null;const a=t.events?.click?.data?.uri,r=t.images?.main?.uri,i=r?[{url:r}]:[];switch(o){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===a?null:(0,A.jsx)(N.U,{uri:a,name:t.text?.title??"",images:i,showImages:i,description:t.text?.description??t.text?.subtitle??"",durationMilliseconds:(s=t.custom?.duration,"number"==typeof s?s:0),releaseDate:I(t.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:e},n);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===a?null:(0,A.jsx)(F.B,{uri:a,name:t.text?.title??"",images:i,description:t.text?.description??"",authorName:t.text?.subtitle??"",index:e},n);default:return null}var s}(t,e)).flatMap(t=>t?[t]:[]);if(0===n.length)return null;const a=(0,C.o_h)(t.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,A.jsx)(w.p,{title:t.text?.title??"",total:n.length,seeAllUri:a,index:o,id:t.id,seeAllLabel:t.text?.accessory,children:n},t.id)};var S=o(281),E=o(78717),M=o(81458),T=o(64932),V=o(76826);const D=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],P=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],H=t=>`images/download-badges/google/${P.includes(t)?t:"int"}.svg`;var z=o(60257),R=o(88439);const U="FvXp47ZPW2M0QhOiAY_q",B="uve_Rb_Gg6GUI0yi8sWO",O="YR6YIXViYTt7IFdxt86l";var q=function(t){return t.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",t.IOS="https://apps.apple.com/app/spotify-music/id324684580",t}(q||{});const G=({spec:t,model:e})=>{const o=p.Ru.getLocaleForTranslation(),n=(0,z.s)(),a=(0,R.n)(t.getAbsoluteLocation(),t),i=e.text?.title,s=e.text?.subtitle;if(void 0===i&&void 0===s)return null;const l=e=>{if(e===q.ANDROID){const o=t.googleBadgeFactory().hitNavigateToWebviewUri({destination:e});n.logInteraction(o)}else{const o=t.appleBadgeFactory().hitNavigateToWebviewUri({destination:e});n.logInteraction(o)}};return(0,A.jsxs)(S.a,{variant:"tinted",style:{width:600},ref:a,"data-testid":"unsupported-message",children:[(0,A.jsx)(E.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:M.v4},children:i}),(0,A.jsx)(E.E,{as:"p",variant:"bodySmall",style:{marginBottom:M.CD},children:s}),(0,A.jsxs)("div",{className:r()(O),children:[(0,A.jsx)(V.N,{to:q.IOS,target:"_blank",onClick:()=>l(q.IOS),children:(0,A.jsx)("img",{src:(0,T.bj)((c=o,`images/download-badges/apple/${D.includes(c)?c:"int"}.svg`)),alt:p.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:U})}),(0,A.jsx)(V.N,{to:q.ANDROID,target:"_blank",onClick:()=>l(q.ANDROID),children:(0,A.jsx)("img",{src:(0,T.bj)(H(o)),alt:p.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:r()(U,B)})})]})]});var c},W=(t,e)=>{const o=(t=>{const e=Array();let o,n=Array();return t.forEach(t=>{"culturalmoments:sectionHeaderWithAction"===t.component?.id?(o&&0!==n.length&&e.push({heading:o,components:n}),o=t,n=Array()):o&&("culturalmoments:carousel"===t.component?.id||"glue2:carousel"===t.component?.id?t.children?.forEach(t=>{n.push(t)}):n.push(t))}),o&&0!==n.length&&e.push({heading:o,components:n}),e})(t),n=(t=>t.find(t=>"culturalmoments:unavailableBanner"===t.component?.id))(t);return(0,A.jsxs)(A.Fragment,{children:[n?(0,A.jsx)(G,{spec:e,model:n},n.component?.id):null,o.map((t,e)=>k(t.heading,t.components,e))]})};var K=o(30504),X=o(38895);const Y=(t,e)=>{const o=new Intl.DateTimeFormat;return t.build().withHost(X.LG).withPath("/hub").withQueryParameters({id:e,userHasRiF:!1,clientTimezone:o.resolvedOptions().timeZone??""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()};var Z=o(45167),Q=o(91645);const J="EpOUFczvufGq4uApF2rj",$="RBCBJEzaQJkJh0LvrCYU",tt=({uri:t,id:e})=>{const{data:o,error:a,loading:i}=(0,Z.Z)(Y,[e]),{spec:s,UBIFragment:l}=(0,Q.r)(u,{data:{identifier:t,uri:t}}),c=(0,n.useMemo)(()=>s.shelvesFactory(),[s]),d=(0,n.useMemo)(()=>s.mobilePromptFactory(),[s]),b=o?.body.hubViewData?.body,x=o?.body.hubViewData?.header;if(null===o||void 0===b||void 0===x||i||null!==a)return(0,A.jsx)(g.LoadingPage,{hasError:null!==a,errorMessage:p.Ru.get("error.generic")});const _=o.body.hubViewData?.title,v=x?.text?.title;return(0,A.jsxs)(l,{spec:s,children:[(0,A.jsx)(m.Q,{children:_??""}),v?(0,A.jsx)("div",{children:(0,A.jsx)(L,{title:x?.text?.title,image:x.images?.background})}):null,(0,A.jsx)(l,{spec:c,children:(0,A.jsxs)("div",{className:$,children:[v&&(0,A.jsx)(h.K,{}),(0,A.jsx)("div",{className:r()("contentSpacing",J),children:(0,A.jsx)(K._,{children:b?W(b,d):null})})]})})]})};var et=o(41156);const ot="https://accounts.spotify.com/login",nt=t=>{window.location.href=t};let at=nt;const rt=()=>window.location.href;let it=rt;function st(t){at=t}function lt(t){it=t}function ct(){at=nt}function ut(){it=rt}const dt=()=>{const t=it();return at(`${ot}?continue=${encodeURIComponent(t)}`),null},pt=t=>(0,et.V)()?(0,A.jsx)(dt,{}):(0,A.jsx)(tt,{...t})}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map