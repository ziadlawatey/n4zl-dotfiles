(()=>{var e,t,n,a,r,i,s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=__webpack_modules__,o.amdO={},e=[],o.O=(t,n,a,r)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,a,r]=e[u],s=!0,c=0;c<n.length;c++)(!1&r||i>=r)&&Object.keys(o.O).every(e=>o.O[e](n[c]))?n.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]},o.F={},o.E=e=>{Object.keys(o.F).map(t=>{o.F[t](e)})},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);o.r(r);var i={};t=t||[null,n({}),n([]),n(n)];for(var s=2&a&&e;("object"==typeof s||"function"==typeof s)&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach(t=>i[t]=()=>e[t]);return i.default=()=>e,o.d(r,i),r},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,n)=>(o.f[n](e,t),t),[])),o.u=e=>(({42:"xpui-routes-blend",319:"dwp-panel-section",347:"home-subfeed",352:"dwp-page-error-template",399:"xpui-routes-episode-more-like-this",599:"home-ad-card",749:"xpui-routes-country-hub-section",777:"dwp-watch-feed-view-container",983:"xpui-debug-window-contents",1206:"xpui-root-dialogs",1396:"xpui-routes-premium-page",1602:"dwp-home-header",1621:"home-v2-section",1743:"xpui-routes-recents",1785:"xpui-desktop-routes-settings",1845:"xpui-routes-all-show-ads",2205:"xpui-playlist-format-redirect-with-params",2233:"dwp-home-chips-row",2355:"xpui-routes-playlist",2391:"xpui-routes-desktop-settings",2543:"xpui-routes-country-hub",2579:"dwp-error-page",2630:"dwp-offline-empty-state",2889:"xpui-routes-recent-searches",3322:"dwp-now-playing-bar",3569:"xpui-routes-offline-browse",3632:"this-is-playlist-concerts-carousel",3667:"xpui-pip-mini-player",3779:"xpui-routes-download-page",3838:"xpui-routes-cultural-moment-hub",3890:"xpui-routes-track",3934:"dev-playground",4084:"dwp-whats-new-feed",4312:"home-hpto",4389:"xpui-routes-collection-local-files",4483:"dwp-user-comments",4496:"xpui-routes-create-playlist",4574:"your-sound-capsule-modal",4789:"concerts-on-tour-playlist-card",5040:"xpui-routes-see-all-playlist-leavebehinds",5094:"dwp-top-bar",5518:"dwp-premium-upsell-page",5523:"xpui-routes-stage-page",5663:"xpui-routes-recently-played",5783:"xpui-routes-collection-concerts",5853:"xpui-routes-collection-concert-gallery",5872:"dwp-magpie",5885:"home-ads-container",5962:"xpui-routes-album",6080:"xpui-routes-collection-episodes",6266:"browse-v2",6426:"xpui-routes-label-artists",6457:"xpui-routes-your-library-x",6505:"xpui-routes-lyrics",6541:"xpui-routes-label",6665:"home-ads-visibility-logger",6863:"xpui-routes-track-v2",7067:"lottie-animation",7125:"xpui-routes-search",7170:"home-ads-fetcher",7241:"xpui-routes-venues",7320:"xpui-routes-concert-campaign",7564:"xpui-routes-buddy-feed",7599:"legacy-hpto-compatibility",7988:"dwp-video-player",8212:"xpui-routes-health-check",8493:"xpui-desktop-modals",8552:"dwp-feedback-bar",8588:"dwp-billboard-ad",8606:"xpui-routes-show",8828:"xpui-routes-collection-songs",8865:"xpui-routes-album-prerelease",8972:"listening-stats-modal",9033:"xpui-routes-show-more-like-this",9209:"xpui-routes-concert",9319:"home-v2",9480:"xpui-routes-profile",9500:"dwp-leaderboard-component",9528:"xpui-routes-episode",9560:"employee-notifications",9718:"playlist-leavebehinds",9851:"dwp-tuna"}[e]||e)+".js"),o.miniCssF=e=>(({42:"xpui-routes-blend",319:"dwp-panel-section",347:"home-subfeed",352:"dwp-page-error-template",399:"xpui-routes-episode-more-like-this",599:"home-ad-card",749:"xpui-routes-country-hub-section",777:"dwp-watch-feed-view-container",983:"xpui-debug-window-contents",1206:"xpui-root-dialogs",1396:"xpui-routes-premium-page",1602:"dwp-home-header",1621:"home-v2-section",1743:"xpui-routes-recents",1845:"xpui-routes-all-show-ads",2233:"dwp-home-chips-row",2355:"xpui-routes-playlist",2391:"xpui-routes-desktop-settings",2543:"xpui-routes-country-hub",2579:"dwp-error-page",2630:"dwp-offline-empty-state",2889:"xpui-routes-recent-searches",3322:"dwp-now-playing-bar",3569:"xpui-routes-offline-browse",3632:"this-is-playlist-concerts-carousel",3667:"xpui-pip-mini-player",3838:"xpui-routes-cultural-moment-hub",4084:"dwp-whats-new-feed",4312:"home-hpto",4389:"xpui-routes-collection-local-files",4574:"your-sound-capsule-modal",4789:"concerts-on-tour-playlist-card",5040:"xpui-routes-see-all-playlist-leavebehinds",5094:"dwp-top-bar",5518:"dwp-premium-upsell-page",5523:"xpui-routes-stage-page",5663:"xpui-routes-recently-played",5783:"xpui-routes-collection-concerts",5853:"xpui-routes-collection-concert-gallery",5872:"dwp-magpie",5962:"xpui-routes-album",6080:"xpui-routes-collection-episodes",6266:"browse-v2",6426:"xpui-routes-label-artists",6457:"xpui-routes-your-library-x",6488:"dwp-premium-page",6541:"xpui-routes-label",6863:"xpui-routes-track-v2",7125:"xpui-routes-search",7241:"xpui-routes-venues",7564:"xpui-routes-buddy-feed",7599:"legacy-hpto-compatibility",7988:"dwp-video-player",8493:"xpui-desktop-modals",8552:"dwp-feedback-bar",8588:"dwp-billboard-ad",8606:"xpui-routes-show",8828:"xpui-routes-collection-songs",8865:"xpui-routes-album-prerelease",8972:"listening-stats-modal",9033:"xpui-routes-show-more-like-this",9209:"xpui-routes-concert",9480:"xpui-routes-profile",9500:"dwp-leaderboard-component",9528:"xpui-routes-episode",9560:"employee-notifications",9718:"playlist-leavebehinds",9851:"dwp-tuna"}[e]||e)+".css"),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},r="client-web:",o.l=(e,t,n,i)=>{if(a[e])a[e].push(t);else{var s,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+n){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",r+n),s.src=e),a[e]=[t];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var r=a[e];if(delete a[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise((t,n)=>{var a=o.miniCssF(e),r=o.p+a;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=(s=n[a]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){var s;if((r=(s=i[a]).getAttribute("data-href"))===e||r===t)return s}})(a,r))return t();((e,t,n,a,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",o.nc&&(i.nonce=o.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)a();else{var s=n&&n.type,o=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+o+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=o,i.parentNode&&i.parentNode.removeChild(i),r(c)}},i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i)})(e,r,null,t,n)}),t={4234:0};o.f.miniCss=(n,a)=>{t[n]?a.push(t[n]):0!==t[n]&&{42:1,319:1,347:1,352:1,399:1,582:1,599:1,749:1,777:1,983:1,1206:1,1396:1,1602:1,1621:1,1743:1,1845:1,1972:1,2233:1,2355:1,2391:1,2543:1,2579:1,2630:1,2889:1,3322:1,3569:1,3632:1,3667:1,3838:1,4084:1,4312:1,4389:1,4574:1,4789:1,5040:1,5094:1,5410:1,5518:1,5523:1,5663:1,5783:1,5853:1,5872:1,5962:1,6059:1,6080:1,6266:1,6426:1,6457:1,6488:1,6541:1,6863:1,7125:1,7241:1,7243:1,7564:1,7599:1,7933:1,7988:1,8298:1,8493:1,8552:1,8588:1,8606:1,8828:1,8865:1,8972:1,9033:1,9164:1,9209:1,9476:1,9480:1,9500:1,9528:1,9560:1,9718:1,9851:1}[n]&&a.push(t[n]=e(n).then(()=>{t[n]=0},e=>{throw delete t[n],e}))},o.F.miniCss=e=>{if(!(o.o(t,e)&&void 0!==t[e]||/^(1(015|037|173|72|785)|2(43[57]|018|205|225|6|663|86)|3([89]90||145|241|461|57|685|779|858|934)|4(4(6|83|96)|6(19|60|7)|(06|72|73|8)4|237|306|536|978)|5(42|801|885)|6(5(05|56|93)|(27|3|66)5|221|672)|7(1(11|51|70)|067|320|385|626|789|900)|8(2(12|77|82)|381|440|538|61|647|769|778)|9(115|319|555|676))$/.test(e))){t[e]=null;var n=document.createElement("link");o.nc&&n.setAttribute("nonce",o.nc),n.rel="prefetch",n.as="style",n.href=o.p+o.miniCssF(e),document.head.appendChild(n)}}}})(),(()=>{var e={4234:0};o.f.j=(t,n)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else if(6488!=t){var r=new Promise((n,r)=>a=e[t]=[n,r]);n.push(a[2]=r);var i=o.p+o.u(t),s=new Error;o.l(i,n=>{if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,a[1](s)}},"chunk-"+t,t)}else e[t]=0},o.F.j=t=>{if((!o.o(e,t)||void 0===e[t])&&6488!=t){e[t]=null;var n=document.createElement("link");n.charset="utf-8",o.nc&&n.setAttribute("nonce",o.nc),n.rel="prefetch",n.as="script",n.href=o.p+o.u(t),document.head.appendChild(n)}},o.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[i,s,c]=n,l=0;if(i.some(t=>0!==e[t])){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(c)var u=c(o)}for(t&&t(n);l<i.length;l++)r=i[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},n=("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0,i={7170:[599,6665]},o.f.prefetch=(e,t)=>Promise.all(t).then(()=>{var t=i[e];Array.isArray(t)&&t.map(o.E)}),o.O(0,[4234],()=>{[352,7151,6221,6672,7385,7900,7125,3858,467,4312,5885,3569,2630].map(o.E)},5);var c={};(()=>{"use strict";o(50616);var e=o(99576);var t=o(91198),n=o(886),a=o(23553),r=o(54091),i=o(64830),s=o(19717),c=o(51778),l=o(62411),u=o(63379),d=o(66957),h=o(67012),p=o(30758);const m="f2P9TW0UnalKpwFRYtCo",g="cgDK40kku_WbDhoDZpVU",f="rAUZeLiZGi8o_ooVYRP3",v="Qw3XhQlCx_Bz4WRNnxQH",b="eJcG2_tY4QAoXCPuv0bv",y="XEEH3JooQbFpWf6m0W0R",x="ZPaRZFROQG7O6Hqg5sjK",w="qyzO9P9LAjm8MnMphKIK",_="MRu8rqudbKPMlZpgVIDa",A="zA2v8DWga7kM7Ju6qwmP";var S=o(86070);const E=(0,p.memo)(function(){return(0,S.jsxs)("div",{className:m,children:[(0,S.jsx)("div",{className:g,children:(0,S.jsxs)("svg",{className:f,width:"232",height:"704",viewBox:"0 0 232 704",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{fill:"#000",d:"M0 0h227v704H0z"}),(0,S.jsx)("path",{d:"M29.887 130.123A8.47 8.47 0 0032.5 124a8.5 8.5 0 10-8.5 8.5 8.454 8.454 0 005.125-1.73l4.401 5.153.76-.649-4.399-5.151zM24 131.5c-4.136 0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5-3.364 7.5-7.5 7.5zM29.16 158.597l-.913.406 7.797 17.513.914-.406-7.798-17.513zM18.5 176.5h1v-18h-1v18zm6 0h1v-18h-1v18z",fill:"#757575"}),(0,S.jsx)("path",{fill:"#404040",d:"M53 162h122v11H53zM64 258h95v11H64z"}),(0,S.jsx)("path",{fill:"#fff",d:"M16 248h32v32H16z"}),(0,S.jsx)("path",{d:"M38 263h-5v-5h-2v5h-5v2h5v5h2v-5h5v-2z",fill:"#000"}),(0,S.jsx)("path",{fill:"url(#paint0_linear)",d:"M16 292h32v32H16z"}),(0,S.jsx)("path",{d:"M37.797 302.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.31-.112 4.054 4.054 0 00-5.488.253 4.05 4.05 0 00-1.194 2.883c0 1.089.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195a4.052 4.052 0 001.195-2.883 4.057 4.057 0 00-1.196-2.883z",fill:"#fff"}),(0,S.jsx)("path",{fill:"#404040",d:"M64 303h79v11H64z"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 353h142v11H16zM16 395h53v11H16zM16 437h98v11H16zM16 479h143v11H16zM16 521h97v11H16z",opacity:"0.6"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 218h71v11H16z"}),(0,S.jsx)("path",{d:"M25.501 73.078L34 77.984V91h-6v-7h-5v7h-6V78.024l8.501-4.946zm-.002-1.156L16 77.449V92h8v-7h3v7h8V77.407l-9.501-5.485z",fill:"#616161"}),(0,S.jsx)("path",{fill:"#404040",d:"M53 78h122v11H53zM53 120h122v11H53z"}),(0,S.jsx)("defs",{children:(0,S.jsxs)("linearGradient",{id:"paint0_linear",x1:"0",y1:"308",x2:"32",y2:"340",gradientUnits:"userSpaceOnUse",children:[(0,S.jsx)("stop",{stopColor:"#450AF5"}),(0,S.jsx)("stop",{offset:"1",stopColor:"#C4EFD9"})]})})]})}),(0,S.jsxs)("div",{className:v,children:[(0,S.jsx)("div",{className:b,children:(0,S.jsxs)("svg",{width:"125",height:"95",viewBox:"0 0 125 95",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{x:"0",y:"31",width:"125",height:"32",rx:"16",fill:"#282828"}),(0,S.jsx)("path",{d:"M992 59c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12z",fill:"#404040"}),(0,S.jsx)("path",{fill:"#404040",d:"M1014 42h66v11h-66z"})]})}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:y,children:[(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,S.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,S.jsxs)("div",{className:w,children:[(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,S.jsxs)("div",{className:y,children:[(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,S.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,S.jsxs)("div",{className:w,children:[(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,S.jsxs)("div",{className:y,children:[(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,S.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,S.jsxs)("div",{className:w,children:[(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]})]})]}),(0,S.jsxs)("div",{className:A,children:[(0,S.jsx)("div",{children:(0,S.jsx)("svg",{width:"175",height:"40",viewBox:"0 0 175 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M53 5h122v11H53zM53 23h101v11H53zM0 0h40v40H0z"})})}),(0,S.jsx)("div",{children:(0,S.jsxs)("svg",{width:"216",height:"48",viewBox:"0 0 216 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M12.5 22.8l.7-.8c-1.1-1.3-2.7-2-4.3-2v1c1.3 0 2.6.6 3.5 1.6l.1.2zm7.5 4.7c-1.2 0-2.3-.5-3.2-1.3l-.6.8c1 1 2.4 1.5 3.8 1.5V30l3.5-2-3.5-2v1.5zm0-6V23l3.5-2-3.5-2v1.5c-1.6 0-3.2.7-4.2 2l-3.4 3.9c-.9 1-2.2 1.6-3.5 1.6v1c1.6 0 3.2-.7 4.2-2l3.4-3.9c.9-1 2.2-1.6 3.5-1.6zM61 18.5l-8 4.619V19h-2v10h2v-4.119l8 4.619v-11zM163 20v4.119l-8-4.619v11l8-4.619V30h2V20h-2zM197.5 21h4.5v1.5l3.5-2-3.5-2V20h-4.5c-2.5 0-4.5 2-4.5 4.5 0 .6.1 1.2.4 1.8l.9-.5c-.2-.4-.3-.8-.3-1.3 0-1.9 1.6-3.5 3.5-3.5zm9.1 1.7l-.9.5c.2.4.3.8.3 1.3 0 1.9-1.6 3.5-3.5 3.5H198v-1.5l-3.5 2 3.5 2V29h4.5c2.5 0 4.5-2 4.5-4.5 0-.6-.1-1.2-.4-1.8z",fill:"#fff"}),(0,S.jsx)("circle",{cx:"108",cy:"24",r:"20",fill:"#fff"}),(0,S.jsx)("path",{d:"M100 16h16v16h-16V16z",fill:"#fff"}),(0,S.jsx)("path",{d:"M104.018 30l10.392-6-10.392-6v12z",fill:"#000"})]})}),(0,S.jsx)("div",{children:(0,S.jsx)("svg",{width:"99",height:"16",viewBox:"0 0 99 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"M1 2v5l4.33-2.5L1 2zm0 12h14v-1H1v1zm0-4h14V9H1v1zm7-5v1h7V5H8zM92.945 1.379l-.652.763A7.968 7.968 0 0194.863 8a7.972 7.972 0 01-2.57 5.858l.651.763a8.966 8.966 0 00.001-13.242zm-2.272 2.66l-.651.763a4.484 4.484 0 01-.001 6.397l.651.763a5.48 5.48 0 001.691-3.961c0-1.557-.65-2.962-1.69-3.962zM80 5v6h2.804L88 14V2l-5.196 3H80zm7-1.268v8.536L83.072 10H81V6h2.072L87 3.732zM40 2.5v8c0 .55.45 1 1 1h5v-1h-5v-8h5v-1h-5c-.55 0-1 .45-1 1zM43 14c0 .275.225.5.5.5H46v-1h-2.5c-.275 0-.5.225-.5.5zM55 1.5h-6c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-11c0-.55-.45-1-1-1zm0 12h-6v-11h6v11zm-3-8A.75.75 0 1052 4a.75.75 0 000 1.5zm0 6a2 2 0 100-4 2 2 0 000 4zm0-3c.551 0 1 .449 1 1 0 .551-.449 1-1 1-.551 0-1-.449-1-1 0-.551.449-1 1-1z",fill:"#fff"})})})]})]})});var C=o(9400);const j=p.memo(function(){const e=Object.keys(r.Ru.getTranslations()).length>0;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C.x,{isOpen:!0,isRemoteConfigInitialized:!1,headingMessage:e?r.Ru.get("error-dialog.generic.header"):"Something went wrong",message:e?r.Ru.get("error-dialog.generic.body"):"Try reloading the page",buttonLabel:e?r.Ru.get("fatal-error.button-label"):"RELOAD PAGE"}),(0,S.jsx)(E,{})]})});var I=o(67999),T=o(59867),N=o(80931),L=o(67057);function k(e){return e.container===L.m.Desktop}var R=o(20369),P=o(43038),D=o(43115),M=o(61547);const O=()=>{const e=(0,P.z)(),t=(0,l.Pj)(),n=(0,p.useRef)(),a=(0,N.S)(),r=e.getState()?.item,i=r&&((0,M.p)(r)||(0,D.d)(r));return(0,p.useEffect)(()=>{n.current=a},[a]),(0,p.useEffect)(()=>navigator&&navigator.mediaSession?((0,R.g)()&&i||(navigator.mediaSession.setActionHandler("previoustrack",()=>{const t=n.current?.isOpen;t||e.skipToPrevious()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{const t=n.current?.isOpen;t||e.skipToNext()})),navigator.mediaSession.setActionHandler("play",()=>{const t=n.current?.isOpen;t||e.resume({featureIdentifier:"media-keys"})}),navigator.mediaSession.setActionHandler("pause",()=>{const t=n.current?.isOpen;t||e.pause({featureIdentifier:"media-keys"})}),i&&(navigator.mediaSession.setActionHandler("seekbackward",t=>{const n=t.seekOffset?1e3*t.seekOffset:1e4;e.seekBackward(n)}),navigator.mediaSession.setActionHandler("seekforward",t=>{const n=t.seekOffset?1e3*t.seekOffset:1e4;e.seekForward(n)})),()=>{navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",null)}):()=>{},[i,e,t]),null},V=()=>k((0,T.mv)())?null:(0,S.jsx)(O,{});var z=o(55457),H=o(10749),F=o(93208),B=o(13382),U=o(34457),q=o(79421),W=o(50509),Q=o(13059);function G(e){return e?.map(({url:e,width:t,height:n})=>({src:e,sizes:`${t}x${n}`}))??[]}function Z(e){window.navigator.mediaSession&&(window.navigator.mediaSession.metadata=function(e){return(0,q.v)(e)?new window.MediaMetadata({title:e.name,artist:e.artists.map(e=>e.name).join(r.Ru.getSeparator()),album:e.album.name,artwork:G(e.images)}):(0,M.p)(e)?new window.MediaMetadata({title:e.name,artist:e.artists?.map(e=>e.name).join(r.Ru.getSeparator())||"",album:e.show.name,artwork:G(e.images)}):(0,D.d)(e)?new window.MediaMetadata({title:e.name,artist:e.artists?.map(e=>e.name).join(r.Ru.getSeparator())||"",album:e.book.name,artwork:G(e.images)}):(0,U.N)(e)?new window.MediaMetadata({title:r.Ru.get("ad-formats.advertisement"),artist:"",album:"",artwork:G(e.images)}):(0,W.v)(e)||void 0===e?new window.MediaMetadata({title:"",artist:"",album:"",artwork:[]}):(0,Q.d)(e)}(e))}const $=()=>((0,B.p)(F.gd.UPDATE,({data:e})=>Z(e?.item??void 0)),null),K=()=>(0,l.d4)(z.c)===H.Kz.pip?(0,S.jsx)($,{}):null;var Y=o(96131),J=o(30339);function X(e){return{name:"KmPageView",environments:["browser"],data:e}}function ee(e){return{name:"KmPageViewNonAuth",environments:["browsernonauth"],data:e}}var te=o(5661),ne=o(93747);const ae="#login";var re=o(85387);var ie=o(39941);class se extends p.Component{constructor(e){super(e);const{eventSender:t,location:n,isAnonymous:a}=this.props;t.send(le(n.pathname,a))}shouldComponentUpdate(e){const{eventSender:t,navigationType:n,location:a,isAnonymous:r}=e,{location:i}=this.props,s=a.hash===ae||i.hash===ae;return(0,Y.j)(a,i)||n===J.rc.Replace||s||((0,ie.D)(a.pathname),t.send(function(e,t=!1){const{viewUri:n,mappedPageId:a}=(0,te.k)(e),r={page:a,type:"exit",view_uri:n};return t?ee(r):X(r)}(i.pathname,r)),t.send(le(a.pathname,r))),!1}render(){return null}}const oe=(0,l.Ng)(function(e,t){return{...t,isAnonymous:e.session.isAnonymous}})((ce=se,e=>{const t=(0,re.zy)(),n=(0,re.Zp)(),a=(0,re.wQ)(),r=(0,re.g)();return(0,S.jsx)(ce,{...e,navigate:n,navigationType:a,location:t,params:r})}));var ce;function le(e,t=!1){const{viewUri:n,mappedPageId:a}=(0,te.k)(e),r={page:a,type:"enter",view_uri:n};return t?ee(r):X(r)}var ue=o(44872),de=o(92440),he=o(94576);var pe=de.L.isUsingKeyboard,me=function(e){var t=function(e){var t=(0,p.useState)(e),n=(0,he.A)(t,2),a=n[0],r=n[1],i=function(){return r(!1)},s=function(e){switch(e.key){case"Tab":case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":r(!0)}};return(0,p.useEffect)(function(){return window.addEventListener("keydown",s),window.addEventListener("mousedown",i),window.addEventListener("touchstart",i),function(){window.removeEventListener("keydown",s),window.removeEventListener("mousedown",i),window.removeEventListener("touchstart",i)}},[]),{isUsingKeyboard:a,setIsUsingKeyboard:r}}(pe),n=t.isUsingKeyboard;return p.createElement(de.E.Provider,{value:{isUsingKeyboard:n}},e.children)},ge=o(54056),fe=o(38094),ve=o(41156);var be=o(10029);const ye=({fetchHomeAd:e,setHomeAd:t,adsSlotConfig:n,fetchRef:a})=>{const r=(0,T.vh)();return{fetchAndSetHomeAd:(0,p.useMemo)(()=>e&&n?.hpto?async()=>{const n=e();a.current=n;try{t(n);const e=await n;a.current===n&&t(e)}catch(e){a.current===n&&t(void 0);const i=e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:String(e);r.send((0,be.G)({error_type:"fetchHPTOSlotFailure",error_message:i,request_type:"hpto"}))}}:void 0,[r,a,e,t,n])}};function xe(e){const[t,n]=(0,p.useState)(!1);return(0,p.useEffect)(()=>n(!1),[e]),{dismissed:t,dismiss(){n(!0)}}}function we(){const e=(0,p.useState)(),t=(0,p.useRef)(e[0]);return{imageUrlToExtractHomeAdColorFrom:(0,p.useState)(),extractedHomeAdColor:[e[0],function(n){t.current=n,e[1](n)}],extractedHomeAdColorRef:t}}const _e=p.useState;var Ae=o(70613);const Se=()=>({allowSwitchingBetweenHomeAdsAndHpto:(0,t.NC)(Ae.htx)});var Ee=o(74119);const Ce=p.useState;var je=o(32160);function Ie({adsSlotConfig:e}){const t=(0,re.Zp)(),[n,a]=Ce(),r=e&&je.kN.HPTO_SLOT_ID in e;return(0,p.useEffect)(()=>{if(!r)return()=>{};const e=(async()=>{const e=await Promise.resolve().then(o.bind(o,81037)),{adsCoreConnector:n}=e,r=await Promise.resolve().then(o.bind(o,18545)),{AdSlotEvent_AdSlotEventType:i}=r;return await n.createSlot(je.kN.HPTO_SLOT_ID),await n.enableSlot(je.kN.HPTO_SLOT_ID),n.subscribeToSlot(je.kN.HPTO_SLOT_ID,({adSlotEvent:e})=>{e?.eventType===i.AVAILABLE&&"true"===e.ad?.metadata?.is_preview&&(a(e.ad),t("/"))})})();return()=>{e.then(e=>e.cancel())}},[r,t,a]),{previewHomeAd:n,setPreviewHomeAd:a}}function Te({fetchHomeAd:e,adsSlotConfig:t,enableLegacyHptoContainerLoader:n}){const{homeAd:a,setHomeAd:r}=function(){const[e,t]=_e();return{homeAd:e,setHomeAd:t}}(),{fetchAndSetHomeAd:i}=(s={fetchHomeAd:e,setHomeAd:r,adsSlotConfig:t},{...ye({...s,fetchRef:(0,p.useRef)()})});var s;return function({enableLegacyHptoContainerLoader:e}={}){const{allowSwitchingBetweenHomeAdsAndHpto:t}=Se(),n=(0,l.wA)();(0,p.useEffect)(()=>{!t&&e&&n((0,Ee.T)())},[e,t,n])}({enableLegacyHptoContainerLoader:n}),{setHomeAd:r,fetchAndSetHomeAd:i,homeAd:a,...we(),...xe(a),...Ie({adsSlotConfig:t})}}const Ne=({instance:e,children:t})=>{const{adsSlotConfig:n}=function({getAdsSlotConfig:e}){const[t,n]=(0,p.useState)(),a=(0,ve.V)();return(0,p.useEffect)(function(){e&&!a&&e().then(e=>{n(e)}).catch(e=>{(0,fe.Cp)(e)})},[e,a]),{adsSlotConfig:t}}({getAdsSlotConfig:e?.config.getAdsSlotConfig}),a=Te({adsSlotConfig:n,...e?.home}),r=(0,p.useMemo)(()=>({adsAPI:e||null,homeAds:a}),[a,e]);return(0,S.jsx)(ge.Cp.Provider,{value:r,children:t})};var Le=o(36130),ke=o(89651),Re=o(93584),Pe=o(64352),De=o(86208),Me=o(23647),Oe=o(13204),Ve=o(27128),ze=o(40903),He=o(35006),Fe=o(17906),Be=o(1229),Ue=class extends Be.Q{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const a=t.queryKey,r=t.queryHash??(0,ze.F$)(a,t);let i=this.get(r);return i||(i=new He.X({client:e,queryKey:a,queryHash:r,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fe.jG.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>(0,ze.MK)(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,ze.MK)(e,t)):t}notify(e){Fe.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Fe.jG.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fe.jG.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qe=o(81235),We=class extends Be.Q{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#n=new Map,this.#a=0}#t;#n;#a;build(e,t,n){const a=new qe.s({client:e,mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:n});return this.add(a),a}add(e){this.#t.add(e);const t=Qe(e);if("string"==typeof t){const n=this.#n.get(t);n?n.push(e):this.#n.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Qe(e);if("string"==typeof t){const n=this.#n.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#n.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Qe(e);if("string"==typeof t){const n=this.#n.get(t),a=n?.find(e=>"pending"===e.state.status);return!a||a===e}return!0}runNext(e){const t=Qe(e);if("string"==typeof t){const n=this.#n.get(t)?.find(t=>t!==e&&t.state.isPaused);return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Fe.jG.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#n.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>(0,ze.nJ)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,ze.nJ)(e,t))}notify(e){Fe.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Fe.jG.batch(()=>Promise.all(e.map(e=>e.continue().catch(ze.lQ))))}};function Qe(e){return e.options.scope?.id}var Ge=o(9911),Ze=o(11444),$e=o(69344),Ke=class{#r;#i;#s;#o;#c;#l;#u;#d;constructor(e={}){this.#r=e.queryCache||new Ue,this.#i=e.mutationCache||new We,this.#s=e.defaultOptions||{},this.#o=new Map,this.#c=new Map,this.#l=0}mount(){this.#l++,1===this.#l&&(this.#u=Ge.m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#r.onFocus())}),this.#d=Ze.t.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#r.onOnline())}))}unmount(){this.#l--,0===this.#l&&(this.#u?.(),this.#u=void 0,this.#d?.(),this.#d=void 0)}isFetching(e){return this.#r.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#i.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#r.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#r.build(this,t),a=n.state.data;return void 0===a?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime((0,ze.d2)(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#r.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),r=this.#r.get(a.queryHash),i=r?.state.data,s=(0,ze.Zw)(t,i);if(void 0!==s)return this.#r.build(this,a).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Fe.jG.batch(()=>this.#r.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#r.get(t.queryHash)?.state}removeQueries(e){const t=this.#r;Fe.jG.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=this.#r;return Fe.jG.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=Fe.jG.batch(()=>this.#r.findAll(e).map(e=>e.cancel(n)));return Promise.all(a).then(ze.lQ).catch(ze.lQ)}invalidateQueries(e,t={}){return Fe.jG.batch(()=>(this.#r.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=Fe.jG.batch(()=>this.#r.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(ze.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(a).then(ze.lQ)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#r.build(this,t);return n.isStaleByTime((0,ze.d2)(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ze.lQ).catch(ze.lQ)}fetchInfiniteQuery(e){return e.behavior=(0,$e.PL)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ze.lQ).catch(ze.lQ)}ensureInfiniteQueryData(e){return e.behavior=(0,$e.PL)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ze.t.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#r}getMutationCache(){return this.#i}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#o.set((0,ze.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#o.values()],n={};return t.forEach(t=>{(0,ze.Cp)(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#c.set((0,ze.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#c.values()],n={};return t.forEach(t=>{(0,ze.Cp)(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,ze.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ze.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#r.clear(),this.#i.clear()}},Ye=o(60739);function Je(e){return e}function Xe(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function et(e,t,n){return{dehydratedAt:Date.now(),state:{...e.state,...void 0!==e.state.data&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,..."pending"===e.state.status&&{promise:(()=>{const a=e.promise?.then(t).catch(e=>n(e)?Promise.reject(new Error("redacted")):Promise.reject(e));return a?.catch(ze.lQ),a})()},...e.meta&&{meta:e.meta}}}function tt(e){return e.state.isPaused}function nt(e){return"success"===e.state.status}function at(e){return!0}function rt(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??tt,a=e.getMutationCache().getAll().flatMap(e=>n(e)?[Xe(e)]:[]),r=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??nt,i=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??at,s=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??Je;return{mutations:a,queries:e.getQueryCache().getAll().flatMap(e=>r(e)?[et(e,s,i)]:[])}}var it=o(73367),st=["added","removed","updated"];function ot(e){return st.includes(e)}async function ct({queryClient:e,persister:t,maxAge:n=864e5,buster:a="",hydrateOptions:r}){try{const i=await t.restoreClient();if(i){if(!i.timestamp)return t.removeClient();{const s=Date.now()-i.timestamp>n,o=i.buster!==a;if(s||o)return t.removeClient();!function(e,t,n){if("object"!=typeof t||null===t)return;const a=e.getMutationCache(),r=e.getQueryCache(),i=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??Je,s=t.mutations||[],o=t.queries||[];s.forEach(({state:t,...r})=>{a.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...r},t)}),o.forEach(({queryKey:t,state:a,queryHash:s,meta:o,promise:c,dehydratedAt:l})=>{const u=c?(0,Ye.b)(c):void 0,d=void 0===a.data?u?.data:a.data,h=void 0===d?d:i(d);let p=r.get(s);const m="pending"===p?.state.status,g="fetching"===p?.state.fetchStatus;if(p){const e=u&&void 0!==l&&l>p.state.dataUpdatedAt;if(a.dataUpdatedAt>p.state.dataUpdatedAt||e){const{fetchStatus:e,...t}=a;p.setState({...t,data:h})}}else p=r.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:t,queryHash:s,meta:o},{...a,data:h,fetchStatus:"idle",status:void 0!==h?"success":a.status});c&&!m&&!g&&(void 0===l||l>p.state.dataUpdatedAt)&&p.fetch(void 0,{initialPromise:Promise.resolve(c).then(i)}).catch(ze.lQ)})}(e,i.clientState,r)}}}catch(e){throw await t.removeClient(),e}}async function lt({queryClient:e,persister:t,buster:n="",dehydrateOptions:a}){const r={buster:n,timestamp:Date.now(),clientState:rt(e,a)};await t.persistClient(r)}function ut(e){const t=e.queryClient.getQueryCache().subscribe(t=>{ot(t.type)&&lt(e)}),n=e.queryClient.getMutationCache().subscribe(t=>{ot(t.type)&&lt(e)});return()=>{t(),n()}}var dt=o(70413),ht=({children:e,persistOptions:t,onSuccess:n,onError:a,...r})=>{const[i,s]=p.useState(!0),o=p.useRef({persistOptions:t,onSuccess:n,onError:a}),c=p.useRef(!1);return p.useEffect(()=>{o.current={persistOptions:t,onSuccess:n,onError:a}}),p.useEffect(()=>{const e={...o.current.persistOptions,queryClient:r.client};return c.current||(c.current=!0,ct(e).then(()=>o.current.onSuccess?.()).catch(()=>o.current.onError?.()).finally(()=>{s(!1)})),i?void 0:ut(e)},[r.client,i]),(0,S.jsx)(it.Ht,{...r,children:(0,S.jsx)(dt.d,{value:i,children:e})})},pt=o(23251),mt=o(87159),gt=o(1566);const ft=()=>(0,mt.v8)("sp_key"),vt=e=>{const t=(0,gt.V)(),n=(()=>{const e=ft();return setInterval(()=>{e!==ft()&&window.location.reload()},5e3)})();t.on(a.TransportEvent.LOGGED_OUT,()=>{clearInterval(n),e()})};const bt=864e5,yt=Spicetify.ReactComponent.PlatformProvider=({platform:e,children:n})=>{const a=(0,t.NC)(Ae.QMQ),r="always",i=(0,p.useMemo)(()=>new Ke({defaultOptions:{queries:{gcTime:0,networkMode:r},mutations:{networkMode:r}}}),[r]);if((0,p.useEffect)(()=>{var e;vt(()=>{(0,pt.k)()}),e=()=>{console.log("Detected hard reload. Deleting persisted cache."),(0,pt.k)()},window.addEventListener("keydown",t=>{const n=(t.ctrlKey||t.metaKey)&&t.shiftKey&&"R"===t.key.toUpperCase(),a=t.ctrlKey&&"F5"===t.key.toUpperCase();(n||a)&&e()})},[]),(0,p.useEffect)(()=>{a||(0,pt.k)()},[a]),a){const t=(0,pt.Z)(),a=e.getSession(),r=["v1",e.username,a.locale,a.market];return(0,S.jsx)(ht,{client:i,persistOptions:{persister:t,buster:r.join(":"),maxAge:bt,hydrateOptions:{defaultOptions:{queries:{gcTime:bt}}},dehydrateOptions:{shouldDehydrateQuery:e=>!!e.meta?.persist&&nt(e)}},children:n})}return(0,S.jsx)(it.Ht,{client:i,children:n})};var xt=o(96456),wt=o(89116);const _t=({children:e})=>{const n=(0,xt.n)(),[a,r]=(0,p.useState)(()=>n.getLocalConfiguration());return(0,p.useEffect)(()=>n.getEvents().addListener(wt.M.UPDATE,e=>r(e.data.configuration)),[n,r]),(0,S.jsx)(t.Gu,{configuration:a,children:e})},At=({children:e,providers:t})=>{if(void 0===e)throw new Error("MultiProvider requires children!");return t.reduceRight((e,t)=>(0,p.cloneElement)(t,void 0,e),(0,S.jsx)(p.Fragment,{children:e}))};var St=o(96022),Et=o(51272);const Ct=({instance:e,children:t})=>(0,S.jsx)(Et.c.Provider,{value:e,children:t});var jt=o(10937);const It=({instance:e,children:t})=>(0,S.jsx)(jt.b.Provider,{value:e,children:t});var Tt=o(794);const Nt=({request:e,children:t})=>{const n=(0,p.useMemo)(()=>({request:e}),[e]);return(0,S.jsx)(Tt.j.Provider,{value:n,children:t})};var Lt=o(45681),kt=o(78946),Rt=o(60257),Pt=o(72366);const Dt=({instance:e,children:t})=>(0,S.jsx)(Pt.J.Provider,{value:e,children:t}),Mt=({instance:e,children:t})=>(0,S.jsx)(T.rP.Provider,{value:e,children:t}),Ot=Spicetify.ReactComponent.PlatformProvider=({platform:e,children:t})=>{const n=(0,P.z)(),a=[(0,S.jsx)(Mt,{instance:e}),(0,S.jsx)(Re.D,{}),(0,S.jsx)(Nt,{request:e.getGraphQLLoader()}),(0,S.jsx)(Ve.J,{platformData:e.getPlatformData()}),(0,S.jsx)(_t,{}),(0,S.jsx)(Ne,{instance:e.getAdManagers()}),(0,S.jsx)(Lt.A,{instance:e.getSingAlongAPI()}),(0,S.jsx)(kt.a,{value:null}),(0,S.jsx)(Rt.V,{instance:e.getUBILogger()}),(0,S.jsx)(Me.Z,{instance:e.getCollectionPlatformAPI()}),(0,S.jsx)(Oe.m,{instance:e.getEqualizerAPI()}),(0,S.jsx)(Le.U.Provider,{value:e.getBuddyFeedAPI()}),(0,S.jsx)(yt,{platform:e}),(0,S.jsx)(Pe.pF,{playerAPI:n}),(0,S.jsx)(De.t,{instance:e.getSettingsAPI()}),(0,S.jsx)(St.U,{instance:e.getRequestBuilder()}),(0,S.jsx)(Ct,{instance:e.getAudioOutputDevicesAPI()}),(0,S.jsx)(It,{instance:e.getExternalAccessoryAPI()}),(0,S.jsx)(Dt,{instance:e.getUrlDispenserServiceClient()}),(0,S.jsx)(me,{}),(0,S.jsx)(ke.i,{})];return(0,S.jsx)(At,{providers:a,children:t})};var Vt=o(62974),zt=o(78676),Ht=o(99091),Ft=o(58248);const Bt=({history:e,children:t})=>{const[n,a]=(0,p.useState)(()=>({location:e.location,action:e.action}));return(0,p.useLayoutEffect)(()=>{e.listen((e,t)=>a({location:e,action:t}))},[e]),(0,S.jsx)(re.Ix,{location:n.location,navigationType:n.action,navigator:e,children:(0,S.jsx)(Ft.$,{children:t})})};var Ut=o(91816),qt=o(80128),Wt=o(52988);var Qt=o(97500),Gt=o.n(Qt),Zt=o(33138);function $t(){const e=(0,t.NC)(Ae.g3o),n=(0,l.wA)();return(0,p.useEffect)(()=>{e&&n((0,Zt.$h)("dev"))},[e,n]),null}function Kt(){const e=(0,t.NC)(Ae.SqX),n=(0,l.wA)();return(0,p.useEffect)(()=>{n((0,Zt.ab)(e))},[e,n]),null}function Yt(){const e=(0,l.wA)(),[t,n]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{e(s.yk()),n(!0)},[e]),t?(0,S.jsxs)(p.Suspense,{fallback:null,children:[(0,S.jsx)($t,{}),(0,S.jsx)(Kt,{})]}):null}var Jt=o(64958),Xt=function(e){var t=e.useBrowserDefaultFocusStyle,n=void 0===t||t,a=e.children;return p.createElement(Jt.g.Provider,{value:{useBrowserDefaultFocusStyle:n}},a)},en=o(90963);const tn=({children:e})=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(en.M,{children:e})});var nn=o(16687),an=o(3935),rn=o(73075),sn=o.n(rn),on=o(53343),cn=o(21994),ln=function(e){return e[e.DOWN=-1]="DOWN",e[e.NONE=0]="NONE",e[e.UP=1]="UP",e}(ln||{});const un=10,dn=({ranges:e,size:t,onResize:n,label:a,placement:r,elementRef:i,decreaseSizeKeyboardCombination:s,increaseSizeKeyboardCombination:o,afterResizing:c})=>{const[l,u]=(0,p.useState)(!1),d=(0,cn.W)(),h=(0,p.useCallback)((t,n=ln.NONE)=>{if(e.some(([e,n])=>e<=t&&t<=n))return t;switch(n){case ln.NONE:{const[n,a]=e.slice().sort(([e,n],[a,r])=>Math.min(Math.abs(e-t),Math.abs(n-t))-Math.min(Math.abs(a-t),Math.abs(r-t)))[0];return t<n?n:a}case ln.UP:{const n=e.find(([n],a)=>(e[a-1]?.[1]??0)<t&&t<n),a=n?.[0];return a?Math.ceil(a/un)*un:t}case ln.DOWN:{const n=e.find(([n,a],r)=>{const i=e[r+1]?.[0]??1/0;return a<t&&t<i}),a=n?.[1];return a?Math.floor(a/un)*un:t}default:return(0,Q.k)(n),t}},[e]),m=(0,p.useCallback)(e=>{if(!i.current)return null;const t=i.current.getBoundingClientRect();return"inline-start"===r?d?e-t.left:t.right-e:"inline-end"===r?d?t.right-e:e-t.left:null},[r,i,d]),g=(0,p.useCallback)(e=>{if(null==e)return;const t=0!==e||l?Math.trunc(h(e)):0;n(t)},[h,n,l]);if(Number.isNaN(t)){const t=(e[0][1]-e[0][0])/2;console.error(`[LayoutResizer] css property value is not a number. Defaulting to ${t}`),g(t)}const f=(0,p.useCallback)(()=>{u(!0);const e=t,n=e=>{r.startsWith("inline")?g(m(e.clientX)):g(m(e.clientY))};document.addEventListener("pointerup",()=>{u(!1),document.removeEventListener("pointermove",n),c?.(e,t)},{once:!0}),document.addEventListener("pointermove",n)},[c,m,g,t,r]);(0,p.useEffect)(()=>(s&&sn().bind(s,()=>{g(h(t-un,-1))}),o&&sn().bind(o,()=>{g(h(t+un,1))}),()=>{s&&sn().unbind(s),o&&sn().unbind(o)}),[s,h,o,g,t]);const v=e[0][0],b=e[e.length-1][1];return(0,S.jsxs)(S.Fragment,{children:[l&&(0,S.jsx)("div",{className:"LayoutResizer__resize-overlay"}),(0,S.jsx)("div",{"":"LayoutResizer__resize-bar",onPointerDown:f,className:Gt()("LayoutResizer__resize-bar",{"LayoutResizer__resize-bar--resizing":l,"LayoutResizer__inline-start":"inline-start"===r,"LayoutResizer__inline-end":"inline-end"===r,"LayoutResizer__block-start":"block-start"===r,"LayoutResizer__block-end":"block-end"===r}),onDoubleClick:()=>{const n=e.findIndex(([e])=>e===t),a=e.findIndex(([e,n])=>n===t);if(-1!==a){const t=e.at(a+1);t&&g(t[0])}else if(-1!==n){const t=e.at(n-1);t&&g(t[1])}},children:(0,S.jsx)(on.o,{className:"LayoutResizer__input",type:"range",min:v,max:b,onChange:function(e){if(l)return;const n=t;let a=parseInt(e.target.value,10);a=h(a,Math.sign(a-t)),g(a),c?.(n,a)},value:t,step:un,children:a})})]})};var hn=o(78065),pn=o(87789),mn=o(61615),gn=o(93856),fn=o(94048),vn=o(77424),bn=o(22590),yn=o(55517);const xn=({elementRef:e})=>{const{spec:t,logger:n}=(0,yn.$)(an.j,{data:{identifier:"yourlibraryx"}}),a=(0,vn.LH)(),{isGridView:i}=(0,bn.t)(),{size:s,setSize:o,minMaxRanges:c}=(0,fn.y)(),l=(0,cn.W)(),u=(0,pn.S)()===hn.z.LIBRARY;let d="default";a===vn.ZS.COLLAPSED?d="collapsed":a===vn.ZS.EXPANDED&&(d=i?"expanded_grid":"expanded_list");const h=(0,p.useCallback)((e,a)=>{e!==a&&n.logInteraction(t.sidebarFactory({uri:"",identifier:d}).dragUiResize({startSizePx:e,endSizePx:a}))},[n,d,t]);return u?null:(0,S.jsx)(dn,{elementRef:e,placement:"inline-end",label:r.Ru.get("resize.sidebar"),onResize:o,size:s,ranges:c,decreaseSizeKeyboardCombination:l?(0,mn.p)(gn.r.NPV_SIDEBAR_DECREASE_WIDTH):(0,mn.p)(gn.r.LEFT_SIDEBAR_DECREASE_WIDTH),increaseSizeKeyboardCombination:l?(0,mn.p)(gn.r.NPV_SIDEBAR_INCREASE_WIDTH):(0,mn.p)(gn.r.LEFT_SIDEBAR_INCREASE_WIDTH),afterResizing:h})};var wn=o(28051),_n=o(82202),An=o(88896);var Sn=o(716),En=o(5295),Cn=o(18185),jn=o(58760),In=o(12586),Tn=o(77639);const Nn="hy5GSmgGlKpqnNN19mRv",Ln={[jn.E.SMALL]:0,[jn.E.MEDIUM]:600,[jn.E.LARGE]:1024},kn=(0,p.forwardRef)(({children:e},t)=>{(0,Cn.$)();const n=(0,p.useRef)(null);(0,p.useImperativeHandle)(t,()=>n.current,[n]);const{breakpoint:a}=(0,Tn.x)(Ln,n);return(0,S.jsx)("main",{ref:n,className:Nn,tabIndex:-1,children:(0,S.jsx)(In.o.Provider,{value:a,children:e})})});var Rn=o(4347),Pn=o(33871),Dn=o(78590),Mn=o(70684);const On="Root__top-container",Vn="Q_3rA7MFydGyy_WQ7Ric";function zn({children:e}){const n=(0,l.d4)(e=>e.ui.unsupportedBrowser.isOpen),a=(0,Dn.XB)(),r=(0,t.NC)(Ae.ZDY);return(0,S.jsx)("div",{className:Gt()(On,{[Vn]:n}),"data-right-sidebar-hidden":!r&&a===Mn.Z.Disabled,children:e})}const Hn="ByRr8ztOYg4NnvmPRPyY",Fn=(0,p.forwardRef)(function({gridRow:e,gridColumn:t,zIndex:n,children:a,className:r,debugLabel:i},s){return(0,S.jsx)("div",{ref:s,className:Gt()(Hn,r),style:{gridRow:e,gridColumn:t,zIndex:n},children:a})}),Bn="LcRpLlcD2SuI25t2OqIg",Un=(0,p.forwardRef)(function({children:e,debugLabel:t},n){return(0,S.jsx)(Fn,{ref:n,className:Bn,gridRow:"global-nav / main-view",gridColumn:"left-sidebar / right-sidebar",zIndex:"var(--above-everything-except-now-playing-bar-z-index)",debugLabel:t,children:e})});var qn=o(96739);const Wn=()=>(0,Dn.Zf)(),Qn=()=>{const{property:e,value:t}=(()=>{const{size:e}=(0,qn.y)();return(0,p.useMemo)(()=>({property:"--left-sidebar-width",value:e}),[e])})();return(0,p.useMemo)(()=>({[e]:t}),[e,t])},Gn=()=>{const{size:e}=Wn(),n=(0,t.NC)(Ae.ZDY),a=(0,Dn.XB)()===Mn.Z.Disabled&&n?24:e;return(0,p.useMemo)(()=>({property:"--right-sidebar-width",value:a}),[a])},Zn=()=>{const{property:e,value:t}=Gn();return(0,p.useMemo)(()=>({[e]:t}),[e,t])},$n="Root__nav-bar",Kn="yXlTmwlWtDebsivA1gM6",Yn="PC0XqaPE4XHqzCeFzA2g",Jn="E2BF8e2Ap4Vdn17OiCb0";function Xn({children:e}){const{leftSidebarRef:t}=(0,nn.JT)(),n=Qn(),a=(0,pn.S)()===hn.z.LIBRARY;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:Gt()(Yn,{[Jn]:a}),style:n}),(0,S.jsx)("div",{id:"Desktop_LeftSidebar_Id",ref:t,className:Gt()($n,{[Kn]:a}),style:n,children:e})]})}const ea="main-yourLibraryX-entryPoints",ta="main-yourLibraryX-library",na=(0,p.lazy)(async()=>{const{YourLibraryX:e}=await Promise.all([o.e(7111),o.e(2435),o.e(6457)]).then(o.bind(o,92437));return{default:e}}),aa=()=>(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:Gt()(ea,ta),children:(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(na,{})})})}),ra="main-navBar-mainNav";function ia(){return(0,S.jsx)("nav",{className:ra,"aria-label":r.Ru.get("sidebar.a11y.landmark-label"),children:(0,S.jsx)(aa,{})})}const sa="Root__main-view";function oa({children:e}){const{mainContentRef:t}=(0,nn.JT)();return(0,S.jsx)("div",{ref:t,className:sa,id:"main-view",children:e})}var ca=o(40543),la=o(3349),ua=o(25109),da=o(18104);const ha=()=>{const e=(0,ua.v)(e=>{const t=(0,la.V)(e);return t.isPlayingRemotely&&void 0!==t.remoteDevice?.name&&void 0!==t.remoteDevice?.type}),t=(0,p.useContext)(da.a);return e||(t?.active??!1)},pa="Root__right-sidebar",ma="LO4qETPsZnDBbeRptb_l",ga="J48cLGRUDKjPDyApbN9h",fa="sTydT9mnP2DCGC6s9kZJ",va="SuQLz1pPukcYnguJIlD1";function ba({children:e}){const{rightSidebarRef:t}=(0,nn.JT)(),n=(0,ca.h)(),a=(0,pn.S)(),r=(0,l.d4)(e=>e.ui.fullscreenMode.isOpen),i=ha();return(0,S.jsx)("div",{ref:t,className:Gt()(pa,{[ma]:a===hn.z.NOW_PLAYING_VIEW,[ga]:n,[fa]:r,[va]:i}),children:e})}const ya="Root__now-playing-bar";function xa({children:e}){const{nowPlayingBarRef:t}=(0,nn.JT)();return(0,S.jsx)("div",{ref:t,className:ya,children:e})}var wa=o(29369),_a=o(8143);const Aa=(0,p.lazy)(()=>new Promise(e=>{const t=Promise.all([o.e(4306),o.e(446),o.e(2663),o.e(9676),o.e(3),o.e(582),o.e(3667)]).then(o.bind(o,10443)).then(e=>({default:e.PiPMiniPlayer})),n=new Promise(e=>{setTimeout(e,300)});Promise.all([t,n]).then(t=>{e(t[0])})}));var Sa=o(29742);const Ea=e=>{const t=(0,Sa.ZY)()??document;(0,p.useEffect)(()=>{if(!e)return;const n=e=>{const t=e.target;["INPUT","TEXTAREA"].includes(t.tagName)||e.preventDefault()};return t.addEventListener("contextmenu",n),()=>{t.removeEventListener("contextmenu",n)}},[t,e])},Ca=p.memo(()=>{const{isDeveloperMode:e}=(0,Ut.V)();return Ea(!e),null});var ja=o(68868),Ia=o(67677),Ta=o(64932);var Na=o(81144),La=o(17559),ka=o(16703),Ra=o(68644);const Pa="pip-mini-player",Da={OS_MACOS:"spotify__os--is-macos",OS_WINDOWS:"spotify__os--is-windows",CONTAINER_DESKTOP:"spotify__container--is-desktop",CONTAINER_WEB:"spotify__container--is-web"};function Ma(e,t,n){!function(e,t){e.querySelector("html")?.classList.remove(...t)}(n,Object.values(Da));const a=function(e,t){const n=["no-focus-outline"];return t===Na.f.macOS?n.push(Da.OS_MACOS):t===Na.f.Windows&&n.push(Da.OS_WINDOWS),e===L.m.Desktop?n.push(Da.CONTAINER_DESKTOP):e===L.m.Web&&n.push(Da.CONTAINER_WEB),n}(e,t);!function(e,t){t.forEach(t=>{e.querySelector("html")?.classList.add(t)})}(n,a)}const Oa=e=>{const t=Array.from(document.getElementsByTagName("script")).filter(e=>e.src?.includes("xpui.js"))?.[0]?.src.replace(/\/[^/]+$/,"")??"",n="-snapshot";return{scripts:[`${t}/${Pa}${n}.js`,`${t}/vendor~${Pa}${n}.js`],styles:[`${t}/${Pa}${n}.css`,`${t}/vendor~${Pa}${n}.css`]}},Va=e=>{const t=(0,T.mv)();(0,p.useLayoutEffect)(()=>{if(!e)return;const{pipResources:n}=(0,La.x)(ka.I4),{scripts:a,styles:r}=Oa();[{rel:"icon",href:(0,Ta.bj)("images/icons/Spotify_32.png"),sizes:"32x32"}].forEach(t=>{const n=e.document.createElement("link");n.rel=t.rel,n.href=t.href,t.sizes&&n.setAttribute("sizes",t.sizes),e.document.head.appendChild(n)}),e.document.body.style.margin="0",e.document.body.style.padding="0",e.document.body.style.overflow="hidden",e.document.body.style.height="100%",Ma(t.container,t.operatingSystem,e.document),Ra.M.setup(e.document),a.map(t=>((e,t)=>{const n=document.createElement("script");n.setAttribute("src",e),t.document.head.appendChild(n)})(t,e)),r.map(t=>((e,t)=>{const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),t.document.body.prepend(n)})(t,e))},[e,t])};var za=o(41749);const Ha=p.memo(()=>{const{capabilities:{isEnabled:e},isOpen:t,close:n}=(0,za.H)(),a=(0,p.useCallback)(n,[n]),r=window.documentPictureInPicture?.window??null;var i,s;if(Va(r),i=r,s=window,(0,p.useEffect)(()=>{i&&s&&["lang","dir"].forEach(e=>{const t=s.document.documentElement.getAttribute(e);null!==t&&i.document.documentElement.setAttribute(e,t)})},[i,s]),(0,p.useEffect)(()=>{},[]),!e||!t||!r)return null;const o=r;return(0,_a.createPortal)((0,S.jsx)(h.s,{onError:a,children:(0,S.jsxs)(Sa.IF,{handle:o,children:[(0,S.jsx)(Ca,{}),(0,S.jsx)(Ia.S,{children:(0,S.jsx)(p.Suspense,{fallback:(0,S.jsx)(ja.B,{}),children:(0,S.jsx)(Aa,{})})})]})}),r.document.body)});var Fa=o(66759),Ba=o(64723);class Ua extends Ba.V{}var qa=o(54461),Wa=(o(84826),o(62887)),Qa=o(89307),Ga=o(18348);const Za=640;class $a{_events=new Ua;graphicsRef=null;currentImageUrl=null;getCapabilities(){return{isEnabled:!0,supportsVideo:!1,supportsAds:!1,supportsConnect:!1,supportsOffline:!1}}getEvents(){return this._events}async open(e){const t=this.getOrCreateGraphics();await this.updateGraphicsFromPlayerState(t,e);const n=this.getPictureInPictureElement();return n===t.video||(await this.requestPictureInPicture(t,()=>{this.close()}),this._events.emitSync("visibility_change",!0)),n??null}async updateGraphicsFromPlayerState(e,t){const n=this.getImageURLFromPlayerState(t);null!==n?await this.drawImage(e,n):this.close()}close(){this.getPictureInPictureElement()&&document.exitPictureInPicture(),this.disposeGraphics(),this._events.emitSync("visibility_change",!1)}isAllowed(e,t,n){const a=e?.hasContext??!1,r=e?.item?.type===Qa.c.EPISODE&&"audio"!==e?.item.mediaType;return!!a&&(!!(n??!0)&&!r)}getCurrentState(){return this.getPictureInPictureElement()?"open":"closed"}syncWithPlayerState(e){const t=e?.hasContext??!1,n=e?.isPaused??!1,a=this.getPictureInPictureElement();!t||n?a?.pause():a?.play();const r=this.getOrCreateGraphics();this.updateGraphicsFromPlayerState(r,e)}getOrCreateGraphics(){return this.graphicsRef??=this.createGraphics(),this.graphicsRef}disposeGraphics(){this.graphicsRef=null,this.currentImageUrl=null}createGraphics(){const e=document.createElement("canvas");e.width=Za,e.height=Za;const t=e.getContext("2d"),n=document.createElement("video");return n.srcObject=e.captureStream(),n.muted=!0,{context:t,video:n}}async drawImage({context:e,video:t},n){if(this.currentImageUrl===n)return;this.currentImageUrl=n;const a=new Image;a.crossOrigin="anonymous",a.src=(0,Ga.m)({imageUriOrUrl:n,desiredMosaicSize:Za}),await a.decode(),e.drawImage(a,0,0,Za,Za),await t.play()}getImageURLFromPlayerState(e){const t=e?.item?.images??[];return(0,Wa.h)(t,{desiredSize:Za})??null}async requestPictureInPicture({video:e},t){try{await e.requestPictureInPicture(),e.addEventListener("leavepictureinpicture",t,{once:!0})}catch(e){(0,qa.v)(e)}}getPictureInPictureElement(){if(document.pictureInPictureElement)return document.pictureInPictureElement}static isSupported(){return!1}}var Ka=o(2626),Ya=o(14754),Ja=o(73541),Xa=o.n(Ja);class er{#h=new Ua;#p=null;#m;constructor(e=!1){this.#m=e}getCapabilities(){return{isEnabled:!0,supportsVideo:!0,supportsAds:!0,supportsConnect:!0,supportsOffline:this.#m}}getEvents(){return this.#h}async open(e){if(!er.isSupported())return null;const t=this.getDocumentPictureInPictureElement()?.window;if(t){if(t===this.#p)return this.#p;t.close()}const{width:n,height:a}=this.getInitialWindowSize(e?.item),r=await this.createWindow(n,a);return void 0===r?(this.close(),null):(this.#p=r,this.#p.addEventListener("pagehide",()=>{this.close()},{once:!0}),this.#h.emitSync("visibility_change",!0),this.#p)}close(){this.#p&&(this.#p.close(),this.#p=null),this.#h.emitSync("visibility_change",!1)}isAllowed(e,t,n){return!(!(e?.hasContext??!1)&&t===Ya.zP.NOT_CONNECTED)||!!(0,Ka.HS)(e?.context??null)}getCurrentState(){return this.#p?"open":"closed"}syncWithPlayerState(e){}getInitialWindowSize(e){let t=300,n=300;if(e){(0,M.p)(e)&&("video"===e.mediaType||"mixed"===e.mediaType)&&(t=425,n=300)}return{width:t,height:n}}async createWindow(e,t){return await(this.getDocumentPictureInPictureElement()?.requestWindow({width:e,height:t}))}getDocumentPictureInPictureElement(){return window.documentPictureInPicture}static isSupported(){return"documentPictureInPicture"in window&&!0}}class tr{getCapabilities(){return{isEnabled:!1,supportsVideo:!1,supportsAds:!1,supportsConnect:!1,supportsOffline:!1}}getEvents(){return new Ua}open(){return Promise.resolve(void 0)}close(){}isAllowed(e,t,n){return!1}getCurrentState(){return"closed"}syncWithPlayerState(){}}var nr=o(17270);var ar=o(50253),rr=o(15722);function ir(){if(sr())try{navigator.mediaSession.setActionHandler("enterpictureinpicture",null)}catch(e){}}function sr(){return"mediaSession"in navigator}const or=p.memo(({pipInstance:e})=>((e=>{const{connectionStatus:t,isActiveDeviceLocal:n}=(0,ua.v)(e=>({connectionStatus:e.connectionStatus,isActiveDeviceLocal:e.activeDevice?.isLocal}),rr.a),a=(0,ar.o)(e=>e,(e,t)=>e?.hasContext===t?.hasContext&&e?.item?.uri===t?.item?.uri),r=(0,p.useRef)(a);r.current=a;const i=(0,p.useMemo)(()=>e.isAllowed(a,t,n),[t,n,e,a]);(0,p.useEffect)(()=>{if(sr()){try{i?navigator.mediaSession.setActionHandler("enterpictureinpicture",t=>{e.open(r.current)}):ir()}catch(e){}return()=>{ir()}}},[e,i])})(e),null));var cr=o(60749),lr=o(47301),ur=o(43580),dr=o(28838),hr=o(21765),pr=o(97202),mr=o(24797),gr=o(51584),fr=o(87861),vr=gr.Ay.a.withConfig({displayName:"Link",componentId:"sc-1rnxmqt-0"})([""," position:absolute;inset-block-start:0;inset-inline-start:0;display:inline-block;background-color:",";padding-block:"," 24px;padding-inline:",";text-decoration:none;z-index:",";",""],function(e){return!e.$useBrowserDefaultFocusStyle&&(0,fr.AH)(["&:focus{outline:none;}"])},(0,dr.oj)(dr.ZI.backgroundBase),(0,hr.po)("base","16px"),(0,hr.po)("base","16px"),pr.GK,function(e){return!e.$isFocus&&(0,fr.AH)(["&:not(:focus){","}"],(0,mr.Q)())}),br=o(73649),yr=o(46313),xr=gr.Ay.div.withConfig({displayName:"LinkText",componentId:"sc-3xixkl-0"})(["",";color:",";border-color:",";overflow-wrap:break-word;&::after{"," content:'';position:relative;border-color:inherit;}"],(0,br.W)(),(0,dr.oj)(dr.ZI.textBase),(0,dr.oj)(dr.ZI.essentialBase),(0,yr.hT)(0)),wr=["className","colorSet","children","isFocus"],_r=function(e){var t=e.className,n=e.colorSet,a=void 0===n?"invertedDark":n,r=e.children,i=void 0===r?"Skip to content":r,s=e.isFocus,o=(0,lr.A)(e,wr),c=(0,p.useContext)(Jt.g).useBrowserDefaultFocusStyle;return p.createElement(vr,Object.assign({$useBrowserDefaultFocusStyle:c,$isFocus:s,className:(0,dr.Ju)(a,t)},o,{"data-encore-id":ur.j.SkipLink}),p.createElement(xr,null,i))},Ar=o(58075);const Sr=p.createContext({}),Er=({children:e})=>{const[t,n]=p.useState(!0),a=(0,p.useMemo)(()=>({isGlobalNavDraggable:t,setIsGlobalNavDraggable:n}),[t,n]);return(0,S.jsx)(Sr.Provider,{value:a,children:e})};var Cr=o(70870),jr=o(78717),Ir=o(64300),Tr=o(20005),Nr=o(34101),Lr=o(39614),kr=o(49348);const Rr="RZqBn0k4_hBTnRDlirqW",Pr="DtO65YLcrqyv2M_mhuw8",Dr="ZgcYhaRG46PvmxXSpXCQ",Mr="Sb9jugwJNPX0EpS_JXcP",Or="DHY7OiLy3KCgGjhSOgaL",Vr="qv5N3ObBwgxa2IfUvzfS",zr="N2xwvyS0vl7vXAyZLmu4",Hr="SbOIxAZVD1DwC0j4Ix53",Fr="BVBAKkJcfy9bjxN0jg_g",Br="Root__globalNav",Ur="Y5DSUJKOG6sI99LanZGL",qr="main-globalNav-navLink",Wr="main-globalNav-navLinkActive",Qr="DoxYADBBjYMvoYwl7QPg",Gr="main-globalNav-historyButtonsContainer",Zr="XkJKUsFLQrqnS2jNdVe4",$r="main-globalNav-searchSection",Kr="main-globalNav-searchContainer",Yr="tqCUDtAz7Iqgtp76Zugj",Jr="link-subtle",Xr="dQoZDg5x_6337uhcvvdP",ei="zMyYs8szjnEHolcA9TL2",ti="main-topBar-topbarContentRight",ni="YaU17q8G6eTc2eoKRwnL",ai="main-actionButtons",ri="jI9iuMgD97sg1kp1zR5A",ii="D6ET51bs7zmZo25svq0O",si="Z7uZtH_Z6fn1PZnjN3Gg",oi="iRW3PWSODvPGXVgNQ9cz",ci="main-globalNav-historyButtons",li=({containerRef:e,contentRightRef:t,isSearchInputCollapsed:n,forceExpandSearchInput:a})=>{const{logOpenCreateMenu:i}=(0,Lr.q)(),s=(0,p.useRef)(null),o=(0,p.useRef)(null),[c,l]=(0,p.useState)(!1),u=(0,cn.W)(),d=(0,p.useCallback)(()=>{if(s.current&&o.current&&t.current){const e=s.current.offsetWidth+o.current.offsetWidth,{left:n,right:a}=t.current.getBoundingClientRect(),{left:r,right:i}=s.current.getBoundingClientRect();let c=r+e>n;if(u){c=i-e<a}l(c)}},[t,u]);(0,kr.w)({refOrElement:e,onResize:d,observeOnMount:!0});const h=!c&&!(n&&a)||c&&n&&!a;return(0,S.jsx)(Ir.b,{menu:(0,S.jsx)(Nr.r,{}),onShow:()=>{i()},children:(e,t,n)=>(0,S.jsx)(Tr.Zp,{label:r.Ru.get("web-player.global-nav-bar.create-button.tooltip"),children:(0,S.jsx)("div",{className:Rr,ref:s,children:(0,S.jsxs)("button",{type:"button",ref:n,onClick:t,className:Gt()(Jr,Pr,e&&zr,Dr),children:[(0,S.jsx)(Cr.u,{className:Hr}),(0,S.jsx)("span",{className:Gt()(Or,{[Vr]:!h}),children:(0,S.jsx)("span",{className:Fr,children:(0,S.jsx)(jr.E,{ref:o,variant:"bodyMediumBold",semanticColor:"textBase",className:Mr,children:r.Ru.get("web-player.global-nav-bar.create-button.label")})})})]})})})})};var ui=o(35394),di=o(73136),hi=o(99424),pi=o(18067);const mi=({children:e})=>(0,S.jsx)(S.Fragment,{children:e});var gi=o(54673),fi=o(44715);const vi=({children:e})=>{const t=(0,gi.t)(),[{data:n}]=(0,fi.K)(t.employee.isEmployee);return n?(0,S.jsx)(S.Fragment,{children:e}):null},bi=p.lazy(async()=>{const{EmployeeNotificationsInner:e}=await o.e(9560).then(o.bind(o,36760));return{default:e}}),yi=()=>(0,S.jsx)(mi,{children:(0,S.jsx)(vi,{children:(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(bi,{})})})});var xi=o(30920),wi=o(59023),_i=o(67735),Ai=o(57055),Si=o(31143);const Ei="music",Ci="4.0.0",ji="default",Ii="17.0.0";function Ti(e){return new Ni(e)}class Ni{constructor(e){this.specType=Si.a.ROOT,this._path=[{name:"desktop-user-widget-menu"}]}goToAccountPageRowFactory(){return new Ni.GoToAccountPageRowEventFactory({path:this._path})}goToUserProfileRowFactory(){return new Ni.GoToUserProfileRowEventFactory({path:this._path})}openEmployeePodcastModalRowFactory(){return new Ni.OpenEmployeePodcastModalRowEventFactory({path:this._path})}goToUpgradePlanPageRowFactory(){return new Ni.GoToUpgradePlanPageRowEventFactory({path:this._path})}togglePrivateSessionRowFactory(){return new Ni.TogglePrivateSessionRowEventFactory({path:this._path})}goToSettingsRowFactory(){return new Ni.GoToSettingsRowEventFactory({path:this._path})}goToInAppMessagingRowFactory(){return new Ni.GoToInAppMessagingRowEventFactory({path:this._path})}updateClientRowFactory(){return new Ni.UpdateClientRowEventFactory({path:this._path})}logOutRowFactory(){return new Ni.LogOutRowEventFactory({path:this._path})}goToPlanManagementFactory(){return new Ni.GoToPlanManagementEventFactory({path:this._path})}ageAssuranceButtonFactory(){return new Ni.AgeAssuranceButtonEventFactory({path:this._path})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}impression(){return{app:Ei,generatorVersion:Ii,specificationVersion:Ci,specificationMode:ji,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}!function(e){e.GoToAccountPageRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"go_to_account_page_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.GoToUserProfileRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"go_to_user_profile_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.OpenEmployeePodcastModalRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"open_employee_podcast_modal_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.GoToUpgradePlanPageRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"go_to_upgrade_plan_page_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitNavigateToExternalUri({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"navigate_to_external_uri",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.TogglePrivateSessionRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"toggle_private_session_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitSetSettingField(){return{actionName:"set_setting_field",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.GoToSettingsRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"go_to_settings_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.GoToInAppMessagingRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"go_to_in_app_messaging_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.UpdateClientRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"update_client_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.LogOutRowEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"log_out_row"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitLogout(){return{actionName:"logout",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.GoToPlanManagementEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"go_to_plan_management"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitNavigateToExternalUri({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"navigate_to_external_uri",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={})),function(e){e.AgeAssuranceButtonEventFactory=class{constructor({path:e,data:t}){this._path=e.concat({name:"age_assurance_button"})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[ji,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Ci,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){return{locations:[this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Ei,generatorVersion:Ii,interactionType:"hit",specificationMode:ji,specificationVersion:Ci,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation()}}}}(Ni||(Ni={}));var Li=o(74690),ki=o(48564),Ri=o(87995),Pi=o(58346);function Di(e,t){return t?(0,Pi.r)(e):(0,Ri._)(e)}var Mi=o(46150),Oi=o(4533),Vi=o(8476);const zi=({divider:e,visible:t})=>{const n=(0,T.vh)(),a=(0,ve.V)(),i=(0,p.useCallback)(()=>{n.send(Di({category:"masthead",action:"click",label:"download-link",destination_url:Oi.Kw,context:window.location.href,os:(0,Vi.f)(),variant:"a"},a))},[n,a]);return t?(0,S.jsx)(ki.D,{divider:e,role:"menuitem",href:Oi.Kw,onClick:i,target:"_blank",trailingIcon:(0,S.jsx)(Mi.p,{size:"small"}),children:r.Ru.get("download.download")}):null};var Hi=o(66054);const Fi=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,Hi.k)(),{url:i,isExternal:s}=a,o=(0,p.useCallback)(()=>{t.logInteraction(n.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:i}))},[t,n,i]);return s?(0,S.jsx)(ki.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(Mi.p,{size:"small"}),onClick:o,target:"_blank",href:i,children:r.Ru.get("navbar.premium")}):(0,S.jsx)(ki.D,{divider:e,role:"menuitem",onClick:o,to:i,children:r.Ru.get("navbar.premium")})},Bi=({divider:e,visible:t})=>{const n=(0,T.vh)(),a=(0,ve.V)(),i=(0,p.useCallback)(()=>{n.send(Di({category:"masthead",action:"click",label:"support-link",destination_url:Oi.nw,context:window.location.href,os:(0,Vi.f)(),variant:"a"},a))},[n,a]);return t?(0,S.jsx)(ki.D,{divider:e,role:"menuitem",href:Oi.nw,onClick:i,target:"_blank",trailingIcon:(0,S.jsx)(Mi.p,{size:"small"}),children:r.Ru.get("user.support")}):null},Ui="8px",qi="fruNgOQZ8O9FpTRnejsP",Wi="main-userWidget-box",Qi="QIh3NfheIaZrzOIFBx4U",Gi="coA1q4S3eeiNaSjK4oy5",Zi="aytVBHQR2dzGmQeWYrnu",$i="f7NRWsyHkxz9DtZTUUxV",Ki="tvDNkVcq1njXGXjsZuAY",Yi="pOalvVMH5xasfpa8lp3D",Ji="j9PoiAaHeF8WweXGfaun",Xi="z7D7zAjIcdtsl_vMQJkj",es="main-userWidget-hasAvatar",ts=()=>{const{isDesktop:e,preferredAppToInstall:t}=(0,Ut.V)(),{spec:n,logger:a}=(0,yn.$)(Ti,{});return(0,p.useEffect)(()=>{a.logImpression(n.impression())},[a,n]),e?null:(0,S.jsx)("div",{className:Qi,children:(0,S.jsxs)(Li.W,{children:[(0,S.jsx)(Fi,{ubiSpec:n,ubiLogger:a}),(0,S.jsx)(Bi,{visible:!0}),(0,S.jsx)(zi,{visible:"none"!==t})]})})};function ns(e){if(null===e)return null;const t=e["multiuserplan-member-type"],n=parseInt(e["multiuserplan-current-size"]||"1",10);switch(t){case"FAMILY_MANAGER":return{plan:"family",currentSize:n};case"DUO_MANAGER":return{plan:"duo",currentSize:n};default:return null}}var as=o(85969);const rs=`${Oi.xD}?utm_source=spotify&utm_medium=menu&utm_campaign=your_account`,is=({divider:e,ubiLogger:t,ubiSpec:n})=>{const{openURLWithSessionTransfer:a}=(0,as.L)();return(0,S.jsx)(ki.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(Mi.p,{size:"small"}),onClick:()=>{t.logInteraction(n.goToAccountPageRowFactory().hitUiNavigate({destination:rs})),a(rs)},children:r.Ru.get("user.account")})};var ss=o(82240),os=o(39376),cs=o(36482);const ls=()=>{const{show:e}=(0,os.j)();return(0,cs.R)()?(0,S.jsxs)(ss.g,{displayText:"Debug Tools",children:[(0,S.jsx)(ki.D,{role:"menuitem",onClick:()=>e(),children:"Debug Window"}),!1,!1]}):null};var us=o(75676);const ds=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,l.wA)(),i=(0,p.useCallback)(()=>{t.logInteraction(n.logOutRowFactory().hitLogout()),a((0,us.wH)())},[a,t,n]);return(0,S.jsx)(ki.D,{divider:e,role:"menuitem",onClick:i,"":"user-widget-dropdown-logout",children:r.Ru.get("user.log-out")})};var hs=o(77936);const ps=({divider:e,planAttributes:t,ubiSpec:n,ubiLogger:a})=>{const{openURLWithSessionTransfer:i}=(0,as.L)(),s="duo"===t.plan?"https://www.spotify.com/account/duo/":"https://www.spotify.com/account/family/";return(0,S.jsx)(ki.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(Mi.p,{size:"small"}),onClick:()=>{a.logInteraction(n.goToPlanManagementFactory().hitNavigateToExternalUri({destination:s})),i(s)},children:(0,S.jsxs)("span",{className:Xi,children:["duo"===t.plan?r.Ru.get("user.setup-duo"):r.Ru.get("user.setup-family"),t.currentSize<=1&&(0,S.jsx)(hs.Z,{className:Zi,"":"dot-icon"})]})})};var ms=o(8056),gs=o(94209);var fs=o(68402);function vs(){const e=(0,gs.N)(ms.H),[t,n]=(0,p.useState)(!1),a=(0,fs.a)();(0,p.useEffect)(()=>{const t=e.subscribeToPrivateSession(e=>{a()&&n(e)});return()=>{t()}},[e,a]);return{isPrivateSession:t,setPrivateSession:(0,p.useCallback)(t=>{e.setPrivateSession(t)},[e])}}const bs=({visible:e,divider:t,ubiSpec:n,ubiLogger:a})=>{const{isPrivateSession:i,setPrivateSession:s}=vs(),o=(0,p.useCallback)(()=>{a.logInteraction(n.togglePrivateSessionRowFactory().hitSetSettingField()),s(!i)},[s,i,a,n]);return e?(0,S.jsx)(ki.D,{divider:t,role:"menuitemcheckbox","aria-checked":i,onClick:o,children:r.Ru.get("user.private-session")}):null};var ys=o(35682);const xs=({divider:e})=>(0,t.NC)(Ae.hN5,{loadingValue:!1})?(0,S.jsx)(ki.D,{divider:e,role:"menuitem",to:ys.d,children:r.Ru.get("web-player.recents.title")}):null,ws="/preferences",_s=({divider:e,ubiLogger:t,ubiSpec:n})=>(0,S.jsx)(ki.D,{divider:e,role:"menuitem",to:ws,onClick:()=>{t.logInteraction(n.goToSettingsRowFactory().hitUiNavigate({destination:ws}))},children:r.Ru.get("user.settings")});var As=o(91604),Ss=o(79817),Es=o(64899);const Cs=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,Ss.k)(),i=(0,As.t)(),s=(0,p.useCallback)(()=>{t.logInteraction(n.updateClientRowFactory().hitUiHide()),i.applyUpdate()},[i,t,n]);return a?.state!==Es.D.UPDATE_READY?null:(0,S.jsx)(ki.D,{divider:e,role:"menuitem",onClick:s,trailingIcon:(0,S.jsx)(hs.Z,{className:Zi}),"":"user-widget-update-available",children:r.Ru.get("user.update-client")})},js=({divider:e})=>{const t=(0,l.wA)(),n=(0,p.useCallback)(()=>{t((0,s.as)())},[t]);return(0,S.jsx)(ki.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(hs.Z,{className:Yi}),onClick:n,href:"",target:"_blank",children:r.Ru.get("user.unable-to-update")})};var Is=o(16848),Ts=o(51629);const Ns=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,Is.D)("loggedin_upgrade_menu"),i=(0,Hi.k)(),{url:s,isExternal:o}=i,c=(0,p.useCallback)(()=>{t.logInteraction(n.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:s}))},[s,t,n]);return(0,l.d4)(e=>(0,Ts.Yb)(e))?o?(0,S.jsx)(ki.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(Mi.p,{size:"small"}),onClick:c,target:"_blank",href:a(s),children:r.Ru.get("upgrade.tooltip.title")}):(0,S.jsx)(ki.D,{divider:e,role:"menuitem",onClick:c,to:s,children:r.Ru.get("upgrade.tooltip.title")}):null};var Ls=o(27360);const ks=({divider:e,ubiSpec:t,ubiLogger:n})=>{const a=(0,l.d4)(e=>e.session.user?.uri),i=(0,P.z)();if(!a)return null;const s=(0,Ls.o_h)(a).toURLPath(!0);return(0,S.jsx)(ki.D,{divider:e,role:"menuitem",to:s,onClick:()=>{n.logInteraction(t.goToUserProfileRowFactory().hitUiNavigate({destination:s})),i.setReferrer("user_profile")},children:r.Ru.get("card.tag.profile")})};var Rs=o(50136),Ps=o(59576),Ds=o(32284);function Ms(){const e=(0,Ps.D)(),t="1"===(0,Ds.$)("should-assure-age-social");return e&&t}const Os=({ubiSpec:e,ubiLogger:t})=>{const n=Ms(),a=(0,Rs.XB)();return n?(0,S.jsx)(ki.D,{role:"menuitem",onClick:()=>{const n=t.logInteraction(e.ageAssuranceButtonFactory().hitUiReveal()).interactionId;a({interactionId:n})},trailingIcon:(0,S.jsx)(hs.Z,{semanticColor:"textWarning"}),children:r.Ru.get("web-player.age-assurance.confirm-age-action.title")}):null};var Vs=o(8335),zs=o(60940);const Hs={icon:"OVVFtLL0zXOXUDDlJpjv",notificationsMenu:"dmXYGGMInuaZl4IaVXg5",notificationList:"dIWS3ZWSJa6pi6C3T6Du",sectionTitle:"IUGDtlo7wG96q64RSnZf",notificationRow:"LKBm9mjM0WHE9JrOG5Mw",ringOverlay:"KeHKwRmYYdnWoWVGEzZ_",loadingRow:"m0HheQOm2_cgUPp1769v",emptyWrapper:"d3fVZIX9xvhDPtPIO8dL",imageWrapper:"uonHvKvdZJv_iE4YnzM_",image:"_FlV7lOsmu9QuVKt9pVA",doubleImagePrimary:"k5NmTB2W77NZ9MI1AK_a",doubleImageSecondary:"mZzTaXb36hNoJ4zXFsov",facepile:"YJ09efcGBO4_AQtTQH63",nudge:"mvzxfYzB6P9y4JkuNCwq",titleContainer:"F6QiLm5pz49_JWpQRXAE",titleText:"pfdWI87ANAog7BgqC43T",timestamp:"kudl8u_Bx8sBN3mulBCV",buttonUnreadWrapper:"QHuLY9GHlRXTkheeMI6k",unreadIndicator:"ZGi_lPDYsUVtUz2KLQlz"},Fs=()=>(0,S.jsxs)("div",{className:Hs.emptyWrapper,children:[(0,S.jsx)(zs.i,{size:"large",semanticColor:"textBase"}),(0,S.jsx)(jr.E,{semanticColor:"textBase",variant:"bodySmallBold",children:r.Ru.get("web-player.subfeeds.home.subfeed.following.empty-state.all-caught-up.title")}),(0,S.jsx)(jr.E,{semanticColor:"textSubdued",variant:"marginal",children:r.Ru.get("web-player.notification-center.empty-state")})]});var Bs=o(22541);const Us=({lastItemRef:e})=>(0,S.jsx)("div",{className:Hs.loadingRow,ref:e,children:(0,S.jsx)(Bs.a3,{semanticColor:"textSubdued","aria-labelledby":r.Ru.get("page.loading")})});var qs=o(70796);var Ws=o(34503),Qs=o(65992);const Gs=({images:e})=>{if(e.length>1)return(0,S.jsx)("div",{className:Hs.facepile,children:e.map((t,n)=>(0,S.jsx)("div",{className:Hs.nudge,style:{zIndex:e.length-n},children:(0,S.jsx)(Ai.e,{imageClassName:Hs.ringOverlay,placeholderClassName:Hs.ringOverlay,label:"notificationAvatar",width:32,images:[{url:t.imageUrl||""}],userIconSize:"medium",username:t.userDisplayName,displayName:t.userDisplayName})},n))});const t=e[0];return(0,S.jsx)(Ai.e,{images:[{url:t?.imageUrl||""}],userIconSize:"large",label:"notificationAvatar",width:48,username:t?.userDisplayName||"",displayName:t?.userDisplayName||""})},Zs=e=>{switch(e.type){case"multiUser":return(0,S.jsx)(Gs,{images:e.data.userImages});case"entity":return(0,S.jsx)(Ws.b,{className:Hs.image,images:[{url:e.data.imageUrl}],iconSize:"large",size:Qs.Qe.SIZE_48,shape:Ws.u.ROUNDED_CORNERS,type:Qa.c.PLAYLIST,title:""});case"userAndEntity":return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ws.b,{className:Gt()(Hs.doubleImagePrimary,Hs.image),images:[{url:e.data.entityImage?.imageUrl||""}],iconSize:"medium",size:Qs.Qe.SIZE_40,shape:Ws.u.ROUNDED_CORNERS,type:Qa.c.PLAYLIST,title:""}),(0,S.jsx)(Ai.e,{className:Hs.doubleImageSecondary,imageClassName:Hs.ringOverlay,placeholderClassName:Hs.ringOverlay,label:"notificationAvatar",width:24,images:[{url:e.data.userImage?.imageUrl||""}],userIconSize:"small",username:e.data.userImage?.userDisplayName||"",displayName:e.data.userImage?.userDisplayName||""})]});default:return(0,S.jsx)(Ai.e,{userIconSize:"large",label:"notificationAvatar",width:48,images:[],username:"",displayName:""})}},$s=({imageVariant:e})=>(0,S.jsx)("div",{className:Hs.imageWrapper,children:Zs(e)});var Ks=o(79898),Ys=o(4621);const Js=({title:e,timestamp:t})=>{const n=(0,p.useMemo)(()=>{if(!t)return"";const e=t instanceof Date?t.getTime():new Date(t).getTime();return(0,Ys.Z)(e).replace(/\s+/g,"")},[t]),a=(e=>e.trim())(e);return(0,S.jsxs)(Ks.d,{variant:"marginal",semanticColor:"textBase",className:Hs.titleContainer,children:[(0,S.jsx)("span",{className:Hs.titleText,children:a}),n&&(0,S.jsxs)("span",{className:Hs.timestamp,children:["  ",n]})]})},Xs=()=>(0,S.jsx)("div",{className:Hs.unreadIndicator}),eo=({notification:e})=>{const t=(e=>e.isNew)(e),n=(e=>e.multiUserImage?{type:"multiUser",data:e.multiUserImage}:e.entityImage?{type:"entity",data:e.entityImage}:e.userAndEntityImage?{type:"userAndEntity",data:e.userAndEntityImage}:{type:"none"})(e);return(0,S.jsx)(qs.v,{id:e.id,variant:"naked",className:Hs.notificationItem,title:(0,S.jsx)(Js,{title:e.title,timestamp:e.createdTimestamp}),media:(0,S.jsx)($s,{imageVariant:n}),trailing:t&&(0,S.jsx)(Xs,{})})};var to=o(15684);var no=o(80728),ao=o(78969),ro=o(38895);const io=()=>{const{data:e,isLoading:t,fetchNextPage:n,hasNextPage:a}=(0,no.q)({queryKey:["notifications","items"],queryFn:async({pageParam:e})=>await(async e=>{const t=ao.n.getInstance(),n=new URLSearchParams({locale:"",limit:"20"});return e&&n.append("cursor",e),(await t.build().withHost(ro.dv).withJsonContentType().withoutMarket().withMethod("GET").withPath(`/GetNotifications?${n.toString()}`).send()).body})(e),initialPageParam:void 0,getPreviousPageParam:e=>e.latestCursor,getNextPageParam:e=>e.forwardCursor,gcTime:18e5,staleTime:6e5});return{notifications:e?.pages.map(e=>e.notifications).flat()??[],isLoading:t,hasNextPage:a,fetchNextPage:n,latestCursor:e?.pages?.at(0)?.latestCursor}},so=e=>{const t=(0,it.jE)();(0,p.useEffect)(()=>()=>{e&&(async e=>{const t=ao.n.getInstance();await t.build().withHost(ro.dv).withJsonContentType().withoutMarket().withMethod("POST").withBody({cursor:e}).withPath("/ResetLatestCursor").send()})(e).then(async()=>{await t.invalidateQueries({queryKey:["notifications"]})}).catch(e=>{console.error("Failed to reset cursor on menu close:",e)})},[e,t])};var oo=o(45112),co=o(29675);const lo=({notifications:e,fetchNextPage:t,hasNextPage:n})=>{const a=(0,Ft.g)(),{ref:i,inView:s}=(0,Vs.Wx)(),{getEffectiveNotifications:o,markAsRead:c}=(()=>{const[e,t]=(0,p.useState)(new Set);return{isLocallyRead:(0,p.useCallback)(t=>e.has(t),[e]),markAsRead:(0,p.useCallback)(e=>{t(t=>new Set(t).add(e))},[]),getEffectiveNotifications:(0,p.useCallback)(t=>t.map(t=>({...t,isNew:t.isNew&&!e.has(t.id)})),[e])}})(),l=o(e);(0,p.useEffect)(()=>{s&&t()},[t,s]);const u=(0,p.useCallback)(e=>{if(c(e.id),!(e=>Boolean(e.action?.uri))(e))return;const t=e.action?.uri;if(!t)return;const n=t.replace(/:internal:podcast:/,":"),r=(0,Ls.o_h)(n)?.toURLPath(!0)??"";r&&a(r)},[c,a]),d=(0,p.useCallback)(()=>l.map((e,t)=>(0,S.jsx)(co.u,{children:(0,S.jsx)(oo.H,{role:"menuitem",className:Gt()(Hs.notificationRow),onClick:()=>u(e),children:(0,S.jsx)(eo,{notification:e})})},e.id||t)),[l,u]);return(0,S.jsxs)("div",{className:Hs.notificationsMenu,children:[(0,S.jsx)(jr.E,{variant:"bodyMediumBold",semanticColor:"textBase",className:Hs.sectionTitle,children:r.Ru.get("web-player.notification-center.button-label")}),l.length>0?(0,S.jsxs)("div",{className:Hs.notificationList,children:[d(),n&&(0,S.jsx)(Us,{lastItemRef:i})]}):(0,S.jsx)(Fs,{})]})},uo=()=>{const{notifications:e,isLoading:t,hasNextPage:n,fetchNextPage:a,latestCursor:r}=io();return(()=>{const e=(0,it.jE)(),t=(0,p.useCallback)(()=>{e.invalidateQueries({queryKey:["notifications"]})},[e]),{registerCloseCallback:n}=(0,p.useContext)(to.P);(0,p.useEffect)(()=>{n(t,{x:0,y:0})},[t,n])})(),so(r),t?(0,S.jsx)("div",{className:Hs.notificationsMenu,children:(0,S.jsx)(Us,{})}):(0,S.jsx)(lo,{notifications:e,hasNextPage:n,fetchNextPage:a})};var ho=o(19818);const po=()=>{const{setIsGlobalNavDraggable:e}=(0,p.useContext)(Sr),{isDesktop:n,preferredAppToInstall:a}=(0,Ut.V)(),{spec:r,logger:i}=(0,yn.$)(Ti,{});(0,p.useEffect)(()=>{i.logImpression(r.impression())},[i,r]),(0,p.useEffect)(()=>(e?.(!1),()=>{e?.(!0)}),[e]);const{ui:{showAccountInProfileContextMenu:s,showSupportInProfileContextMenu:o}}=(0,Ut.V)(),c=(0,ho.k)(),l=ns(c.data),u=(0,t.NC)(Ae.y2l);return(0,S.jsx)("div",{"":"user-widget-menu",className:Qi,children:(0,S.jsxs)(Li.W,{children:[s&&(0,S.jsx)(is,{ubiSpec:r,ubiLogger:i}),l&&(0,S.jsx)(ps,{planAttributes:l,ubiSpec:r,ubiLogger:i}),(0,S.jsx)(Os,{ubiSpec:r,ubiLogger:i}),(0,S.jsx)(ks,{ubiSpec:r,ubiLogger:i}),(0,S.jsx)(xs,{}),(0,S.jsx)(Ns,{ubiSpec:r,ubiLogger:i}),o&&(0,S.jsx)(Bi,{visible:!0}),(0,S.jsx)(zi,{visible:"none"!==a}),(0,S.jsx)(bs,{visible:n,ubiSpec:r,ubiLogger:i}),(0,S.jsx)(_s,{divider:"after",ubiSpec:r,ubiLogger:i}),c?.data?.["client-deprecated"]&&(0,S.jsx)(js,{}),(0,S.jsx)(Cs,{ubiSpec:r,ubiLogger:i})," ",(0,S.jsx)(ls,{}),(0,S.jsx)(ds,{ubiSpec:r,ubiLogger:i,divider:u?"after":void 0}),u&&(0,S.jsx)(uo,{})]})})},mo=({displayAvatar:e,label:t,className:n,semanticColor:a})=>(0,S.jsx)("div",{className:Ji,children:(0,S.jsx)(hs.Z,{title:t,className:Gt()(n,{[$i]:!e},Ki),size:"small",semanticColor:a})}),go=({displayAvatar:e})=>(0,S.jsx)(mo,{displayAvatar:e,label:r.Ru.get("user.update-available"),className:Zi}),fo="VliYrOD85c8CvFJDK4sM",vo="O6ZT7RRhIjyUAbQIICfi",bo="kwVqf5XYO2KgtAg1Z1uQ",yo=({percentage:e,label:t})=>(0,S.jsx)("div",{className:fo,style:{"--onboarding-circle-percentage":`${e}%`},children:(0,S.jsx)("div",{className:vo,children:(0,S.jsx)(jr.E,{as:"span",variant:"titleSmall",semanticColor:"textSubdued",className:bo,children:t})})});var xo=o(10700);const wo="music",_o="3.0.0",Ao="default",So="16.2.6";function Eo(e){return new Co(e)}class Co{constructor(e){this._path=[{name:"desktop-onboarding-checklist-menu"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}tasksFactory(){return new Co.TasksEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}snackbarFactory(e){return new Co.SnackbarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ao,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[_o,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}impression(){return{app:wo,generatorVersion:So,specificationVersion:_o,specificationMode:Ao,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(e){e.TasksEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"tasks"}),t&&(this._parentAbsoluteLocation=t)}taskItemFactory(t){return new e.TasksEventFactory.TaskItemEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ao,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[_o,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(Co||(Co={})),function(e){e.SnackbarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"snackbar"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ao,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[_o,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:wo,generatorVersion:So,interactionType:"hit",specificationMode:Ao,specificationVersion:_o,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:wo,generatorVersion:So,interactionType:"hit",specificationMode:Ao,specificationVersion:_o,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:wo,generatorVersion:So,specificationVersion:_o,specificationMode:Ao,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Co||(Co={})),function(e){!function(e){e.TaskItemEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"task_item"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ao,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[_o,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitFocusInputField(){return{actionName:"focus_input_field",actionVersion:1,app:wo,generatorVersion:So,interactionType:"hit",specificationMode:Ao,specificationVersion:_o,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:wo,generatorVersion:So,interactionType:"hit",specificationMode:Ao,specificationVersion:_o,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:wo,generatorVersion:So,interactionType:"hit",specificationMode:Ao,specificationVersion:_o,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitCreatePlaylist(){return{actionName:"create_playlist",actionVersion:1,app:wo,generatorVersion:So,interactionType:"hit",specificationMode:Ao,specificationVersion:_o,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.TasksEventFactory||(e.TasksEventFactory={}))}(Co||(Co={}));var jo=o(20083),Io=o(91645);const To="YEpzAMziiaje1SwrzmaP",No="bTpn6DIBYfAywwOMi1pI",Lo="cnxqvAK53LeRNbhpP91z",ko="mrGVR7evnEgSBy5y6HBc",Ro="Repuo7mtCXlGmgZrQKFk",Po="AByv3bnuu_U5xXvaeNdz",Do="uErJRK34Z4GNEk3_EZyJ",Mo=()=>{const{tasks:e,performTask:t}=(0,jo.V)(),n=(0,u.Oj)(),{spec:a,logger:r}=(0,Io.r)(Eo,{});(0,p.useEffect)(()=>{r.logImpression(a.impression())},[]);const i=e=>{t(e,()=>{(e=>{const t=a.tasksFactory().taskItemFactory({identifier:e});switch(e){case"start-playing":r.logInteraction(t.hitFocusInputField());break;case"save-playlist":case"watch-a-video":r.logInteraction(t.hitUiNavigate({destination:"/search"}));break;case"create-playlist":r.logInteraction(t.hitCreatePlaylist());break;default:r.logInteraction(t.hitUiReveal())}})(e),n({type:"close"})})};return(0,S.jsx)(p.Fragment,{children:e.map(e=>{const t=e.completed?xo.k:e.icon;return(0,S.jsx)(co.u,{onKeyDown:t=>{if("Enter"===t.key){if(t.preventDefault(),e.completed)return;i(e.id)}},children:(0,S.jsxs)("div",{role:"button","aria-disabled":e.completed,className:Gt()(To,{[No]:e.completed}),children:[(0,S.jsx)("div",{className:Lo,children:(0,S.jsx)(t,{size:"large"})}),(0,S.jsxs)("div",{className:Ro,children:[(0,S.jsxs)("div",{className:Po,children:[(0,S.jsx)(jr.E,{as:"h3",variant:"bodyMediumBold",semanticColor:"textBase",className:Do,children:e.title}),(0,S.jsx)("div",{className:ko,children:e.action&&(0,S.jsx)(di.$,{size:"small",disabled:e.completed,onClick:()=>i(e.id),children:e.action})})]}),(0,S.jsx)(jr.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:e.description})]})]})},e.id)})})};var Oo=o(77431);const Vo="EB2XF6AXMCV6pPBckJuG",zo="IuK5PdSfvW_bPkkQUSlA",Ho="MfpWLM77SrdZXrVS7Jom",Fo="Mr7F9kuYvB55OLCR3AOA",Bo=()=>{const{completed:e,count:t,percentage:n}=(0,Oo.o)(),a=e===t;return(0,S.jsxs)(Li.W,{className:Vo,children:[(0,S.jsx)("li",{children:(0,S.jsxs)("header",{className:zo,children:[(0,S.jsxs)("div",{className:Ho,children:[(0,S.jsx)(jr.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:a?r.Ru.get("web-player.onboarding-checklist.menu.title.complete"):r.Ru.get("web-player.onboarding-checklist.menu.title")}),(0,S.jsx)(jr.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:a?r.Ru.get("web-player.onboarding-checklist.menu.text.complete"):r.Ru.get("web-player.onboarding-checklist.menu.text")})]}),(0,S.jsx)("div",{className:Fo,children:(0,S.jsx)(yo,{percentage:n,label:r.Ru.get("web-player.onboarding-checklist.progress",{completed:e,count:t})})})]})}),(0,S.jsx)(Mo,{})]})};var Uo=o(91714),qo=o(70013),Wo=o(94450);const Qo=({taskId:e,onShowChecklist:t})=>{const{spec:n,logger:a}=(0,Io.r)(Eo,{});return(0,p.useEffect)(()=>{a.logImpression(n.snackbarFactory({identifier:e}).impression())},[]),(0,S.jsx)(Uo.O,{children:(0,S.jsx)(Wo.P,{center:(0,S.jsx)(qo.z,{children:r.Ru.get("web-player.onboarding-checklist.snackbar.message")}),trailing:(0,S.jsx)(ui.H,{semanticColor:"textBrightAccent",onClick:t,condensedAll:!0,"aria-hidden":"true",children:r.Ru.get("web-player.onboarding-checklist.snackbar.action")})})})};var Go=o(56363),Zo=o(26053),$o=o(93531),Ko=o(61525),Yo=o(24023),Jo=o(59452);var Xo=o(64694);const ec="SSSSsPxrVk3ho1oV_JKA",tc="ERa40Q9Nbm3YkuQw5Mmn",nc="v924ZLE6cWd8TkgtyQJQ",ac="e91vDKQnSW75dL11qZAQ",rc="RuMUC8fjOsPAmrIcQ_iz",ic="FSDaGjWJzWZiEFC3_zSS",sc="aHXsUXQCwKS1MvW_x5MJ",oc="X3lESY_Ji4_IRJuvPD7O",cc=({userDisplayName:e,avatarContent:t,showUpdateNotification:n,displayAvatar:a,onAvatarClick:i})=>{const[s,o]=(0,p.useState)(null),{completed:c,count:u,percentage:d}=(0,Oo.o)(),h=(0,p.useRef)(null);return(()=>{const{completeTask:e,isTaskCompleted:t}=(0,jo.V)(),{enqueueCustomSnackbar:n}=(0,Zo.i)(),a=(0,Go.S)(),r=(0,p.useCallback)(()=>{a("openChecklist",{})},[a]),i=(0,p.useCallback)(t=>{e(t),n((0,S.jsx)(Qo,{taskId:t,onShowChecklist:r}),{identifier:"onboarding-checklist"})},[e,n,r]);(0,B.p)(F.gd.QUEUE_ACTION,e=>{t("queue-it-up")||"add"===e.data.action&&i("queue-it-up")});const s=t("watch-a-video"),o=(0,ar.o)(e=>("video"===e?.item?.mediaType||"video"===e?.item?.metadata?.track_player)&&(0,Ko.uW)(e)===$o.i.PLAYING);(0,p.useEffect)(()=>{o&&!s&&i("watch-a-video")},[i,s,o]);const c=t("start-playing"),u=(0,ar.o)(e=>"audio"===e?.item?.mediaType&&(0,Ko.uW)(e)===$o.i.PLAYING);(0,p.useEffect)(()=>{u&&!c&&i("start-playing")},[i,c,u]);const d=t("save-playlist");(0,Yo.b)(Jo.tD.OPERATION_COMPLETE,e=>{d||"add"===e.data.operation&&e.data.uris.some(Ls.tbX)&&i("save-playlist")});const h=t("create-playlist");(0,Yo.b)(Jo.tD.OPERATION_COMPLETE,e=>{h||"create_playlist"===e.data.operation&&i("create-playlist")});const m=t("become-a-pro"),g=(0,l.d4)(e=>e.ui.keyboardShortcutsHelpModal.isOpen);(0,p.useEffect)(()=>{g&&!m&&i("become-a-pro")},[i,m,g]);const{isOpen:f}=(0,za.H)(),v=t("try-mini-player");(0,p.useEffect)(()=>{f&&!v&&i("try-mini-player")},[i,v,f])})(),((e,t)=>{const n=(0,Xo.R)(),a=(0,p.useRef)(t);(0,p.useEffect)(()=>{a.current=t},[t]),(0,p.useEffect)(()=>n.addListener(e,e=>{a.current&&a.current(e)}),[e,n])})("openChecklist",()=>{const e=h.current;if(!e)return;const t=e.querySelector("button");t?.click()}),(0,S.jsxs)("div",{className:Gt()(ec,{[tc]:"onboarding"===s,[nc]:"user"===s}),children:[(0,S.jsx)("div",{className:ic,ref:h,children:(0,S.jsx)(Ir.b,{onHide:()=>o(null),onShow:()=>o("onboarding"),offset:[0,8],placement:"bottom-end",menu:(0,S.jsx)(Bo,{}),children:(e,t,n)=>(0,S.jsx)(Tr.Zp,{label:r.Ru.get("web-player.onboarding-checklist.widget.tooltip"),children:(0,S.jsx)(ui.H,{ref:n,className:oc,condensedAll:!0,"aria-label":r.Ru.get("web-player.onboarding-checklist.widget.tooltip"),style:{"--onboarding-circle-percentage":`${d}%`},onClick:e=>{t(e)},"aria-expanded":e,children:(0,S.jsx)("span",{className:ac,children:r.Ru.get("web-player.onboarding-checklist.progress",{completed:c,count:u})})})})})}),(0,S.jsx)("div",{className:rc,children:(0,S.jsx)(Ir.b,{onShow:()=>o("user"),onHide:()=>o(null),offset:[0,8],placement:"bottom-end",menu:(0,S.jsx)(po,{}),children:(r,s,o)=>(0,S.jsx)(Tr.Zp,{label:e,children:(0,S.jsxs)(ui.H,{ref:o,className:sc,onClick:e=>{i?.(e),s(e)},condensedAll:!0,"aria-label":e,"":"user-widget-link",semanticColor:"textBase","aria-expanded":r,children:[t,n&&(0,S.jsx)(go,{displayAvatar:a})]})})})})]})},lc=({displayAvatar:e})=>(0,S.jsx)(mo,{displayAvatar:e,label:r.Ru.get("web-player.age-assurance.user-widget.notification"),semanticColor:"textWarning"});var uc=o(1812);const dc=()=>{const e=(0,t.NC)(Ae.y2l),{data:n}=(0,uc.I)({queryKey:["notifications","unread-status"],queryFn:async()=>await(async()=>{const e=ao.n.getInstance();return(await e.build().withHost(ro.dv).withJsonContentType().withoutMarket().withMethod("GET").withBody({postFix:"a"}).withPath("/GetUserHasUnreadNotification").send()).body})(),enabled:e,staleTime:6e5,refetchInterval:e=>!e.state.data?.userHasUnreadNotification&&108e5});return n?.userHasUnreadNotification??!1};var hc=o(29665),pc=o(61468),mc=o(16759);const gc=e=>{const n=(0,l.d4)(e=>e.session.user),a=(0,Ss.k)(),r=ns((0,ho.k)().data),i=!!r&&r.currentSize<=1,s=(0,t.NC)(Ae.y2l),o=dc(),c=s&&o,u=Ms(),d=(0,hc.q)(),h=(0,pc.w)(),p=!d&&h.variant!==Ae.Vt9.Control;if(!n)return(0,S.jsx)(Ir.b,{offset:[0,parseInt(Ui,10)],placement:"bottom-end",menu:(0,S.jsx)(ts,{}),children:(e,t,n)=>(0,S.jsx)("button",{className:Gt()(qi),type:"button",onClick:t,ref:n,"":"unauth-user-widget-link",children:e?(0,S.jsx)(xi.M,{size:"small","aria-hidden":"true"}):(0,S.jsx)(wi.d,{size:"small","aria-hidden":"true"})})});const m=n.display_name||n.id,g=n.display_name?.charAt(0).toUpperCase(),f=!!n?.images.length||!n.display_name,v=(0,mc.nj)(n?.avatarBackgroundColor||0),b="var(--background-elevated-base)",y={backgroundColor:f?b:`#${v}`,color:_i.Ql9,lineHeight:"32px"},x=f?(0,S.jsx)(Ai.e,{label:m,width:n?.images.length?32:24,images:n?.images,userIconSize:"small",testID:"user-widget-avatar",transparent:!0,className:Gt()({[es]:n?.images.length})}):(0,S.jsx)(jr.E,{variant:"bodySmallBold","":"username-first-letter",style:y,className:Gi,children:g}),w=a?.state===Es.D.UPDATE_READY||i||c,_=u&&!w;return p?(0,S.jsx)(cc,{avatarContent:x,userDisplayName:m,showUpdateNotification:w,displayAvatar:f,onAvatarClick:t=>{e.onClick?.(t)}}):(0,S.jsx)(Ir.b,{offset:[0,parseInt(Ui,10)],placement:"bottom-end",menu:(0,S.jsx)(po,{}),children:(t,n,a)=>(0,S.jsx)(Tr.Zp,{label:m,children:(0,S.jsxs)(ui.H,{className:Wi,onClick:t=>{e.onClick?.(t),n(t)},style:{backgroundColor:b},ref:a,condensedAll:!0,"aria-label":m,"":"user-widget-link",semanticColor:"textBase","aria-expanded":t,children:[x,w&&(0,S.jsx)(go,{displayAvatar:f}),_&&(0,S.jsx)(lc,{displayAvatar:f})]})})})};var fc=o(28487);function vc(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M4.538 7.513c.16-.482.42-.925.761-1.3.072-.079.159-.139.237-.21l-.2-.113a.667.667 0 0 1-.179-1l.232-.278a2.84 2.84 0 0 0 .714-1.677 2.8 2.8 0 0 0-.106-.937A2.07 2.07 0 0 0 4.853.74a2.12 2.12 0 0 0-2.415.508 2.1 2.1 0 0 0-.435.75 2.8 2.8 0 0 0-.106.937c.047.622.298 1.212.714 1.677l.232.278a.666.666 0 0 1-.179 1l-1.331.768A2.67 2.67 0 0 0 0 8.968v.034h4.347a4.3 4.3 0 0 1 .191-1.489m10.134-.856-1.331-.768a.666.666 0 0 1-.179-1l.232-.278a2.84 2.84 0 0 0 .714-1.677 2.8 2.8 0 0 0-.106-.937A2.07 2.07 0 0 0 12.858.739a2.12 2.12 0 0 0-2.415.508 2.1 2.1 0 0 0-.435.75 2.8 2.8 0 0 0-.106.937c.047.622.298 1.212.714 1.677l.232.278a.665.665 0 0 1-.179 1l-.2.113c.078.071.165.131.237.21.342.375.6.818.76 1.3.15.48.214.984.186 1.487H16v-.034a2.67 2.67 0 0 0-1.328-2.308m-4 6-1.331-.769a.665.665 0 0 1-.179-1l.232-.278a2.72 2.72 0 0 0 .608-2.614 2.1 2.1 0 0 0-.435-.75 2.117 2.117 0 0 0-3.124 0 2.1 2.1 0 0 0-.435.75 2.8 2.8 0 0 0-.106.937c.047.622.298 1.212.714 1.677l.232.278a.666.666 0 0 1-.179 1l-1.331.769a2.67 2.67 0 0 0-1.333 2.309V15h8v-.034a2.67 2.67 0 0 0-1.333-2.305z'/>"},{size:24,svgContent:"<path d='m16.004 19.153-2-1.153a1 1 0 0 1-.268-1.506l.347-.417c.624-.697 1-1.581 1.071-2.515a4.2 4.2 0 0 0-.159-1.406 3.1 3.1 0 0 0-.651-1.125 3.177 3.177 0 0 0-4.687 0 3.15 3.15 0 0 0-.652 1.125 4.2 4.2 0 0 0-.159 1.406c.07.934.447 1.818 1.071 2.515l.348.417A1 1 0 0 1 9.996 18l-2 1.153a4 4 0 0 0-2 3.464v.051h12v-.05a4 4 0 0 0-1.992-3.465m-9.151-5.472a6.2 6.2 0 0 1 .262-2.168 5.2 5.2 0 0 1 .845-1.557.992.992 0 0 1-.22-1.462l.347-.417c.624-.697 1-1.581 1.071-2.515a4.2 4.2 0 0 0-.159-1.406 3.1 3.1 0 0 0-.651-1.125 3.18 3.18 0 0 0-4.687 0 3.15 3.15 0 0 0-.652 1.125 4.2 4.2 0 0 0-.159 1.406c.07.934.447 1.818 1.071 2.515l.348.417A1 1 0 0 1 4 10l-2 1.153a4 4 0 0 0-2 3.464v.051h6.993a6 6 0 0 1-.14-.987m15.151-2.528-2-1.153a1 1 0 0 1-.268-1.506l.347-.417c.624-.697 1-1.581 1.071-2.515a4.2 4.2 0 0 0-.159-1.406 3.1 3.1 0 0 0-.651-1.125 3.18 3.18 0 0 0-4.687 0 3.15 3.15 0 0 0-.652 1.125 4.2 4.2 0 0 0-.159 1.406c.07.934.447 1.818 1.071 2.515l.348.417a.993.993 0 0 1-.221 1.462c.368.468.654.994.845 1.557.217.701.305 1.435.262 2.168q-.03.5-.143.987H24v-.05a4 4 0 0 0-1.996-3.465'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var bc=o(1453),yc=o(73412);const xc="main-topBar-buddyFeed",wc=({onClick:e,tooltipLabel:t,ariaLabel:n,className:a,testId:r,children:i,restoreFocusKey:s,disabled:o})=>(0,S.jsx)(Tr.Zp,{label:t,children:(0,S.jsx)(ui.H,{"aria-label":n,onClick:e,size:"small",condensedAll:!0,"":r,className:Gt()(xc,a),"data-restore-focus-key":s,disabled:o,children:i})});var _c=o(68057),Ac=o(85284),Sc=o(48198),Ec=o(81694),Cc=o(8075);const jc=Pe.$S.BUDDY_FEED_BUTTON_CLICK,Ic=({spec:e})=>{const{isActive:t,panelSend:n}=(0,Dn.AI)(Mn.Z.BuddyFeed,Mn.Z.BuddyFeedOverlay),{isSupported:a}=(0,Le.C)().getCapabilities(),i=(0,Ec.n)(),s=(0,Sc.K)(),o=(0,Rt.s)(),c=(0,p.useCallback)(()=>{if(!a)return void(s&&o.logInteraction(e.hitUiReveal()));const r=t;n(jc),r||(0,yc.I)("BUDDY-FEED")},[a,t,n,s,o,e]),l=(0,Cc.S)((0,Ut.V)()),u=(0,S.jsx)(wc,{tooltipLabel:i?r.Ru.get("buddy-feed.friend-activity"):r.Ru.get("offline.feedback-text"),ariaLabel:r.Ru.get("buddy-feed.friend-activity"),onClick:c,testId:"friend-activity-button",restoreFocusKey:Mn.Z.BuddyFeed,disabled:!i,children:t?(0,S.jsx)(vc,{size:"small",semanticColor:"textBase"}):(0,S.jsx)(bc.B,{size:"small"})});return a?u:s&&l?(0,S.jsx)(Ac.$,{type:"buddy-feed",children:u}):null},Tc=e=>(0,_c.a)()?null:(0,S.jsx)(Ic,{...e});var Nc=o(37899),Lc=o(94079),kc=o(75728),Rc=o(35270);const Pc="400ms",Dc="GXEhyqg9i0iWg_pLNisE",Mc="j93lddTG4VnvI3pGjMwH",Oc="iP4AQ9xsEE0o0vxZA8oA",Vc="wxIUdUjHDbOBIjrVWtYv",zc="kTuLqcJLzXouTDMIlQ8C",Hc="kodYEC_tj9Ms420tAlgq",Fc="XEfcy0j8WGacbytuqov2",Bc="uYbNw4o41nE48PTSq_8c",Uc="ry34L0g0V3HIb1JfHBpk",qc="qNHBcspsUuDnDtLJhEgM",Wc="Pp5YtVMWv5N8WOF4CV9i",Qc="u2wxk1myB52SAexZN32R";let Gc=function(e){return e.ERROR="ERROR",e.NOTICE="NOTICE",e}({});const Zc=(0,p.memo)(function(e){const{children:t,feedbackType:n,tooltip:a,itemId:r,display:i=!0,minimized:s=!1,renderInLine:o=!1,spec:c}=e,l=(0,p.useRef)(null),u=(0,Rt.s)();return(0,S.jsx)(Lc.A,{in:i,timeout:parseInt(Pc,10),unmountOnExit:!0,onEnter:()=>{s||l.current?.classList.add(qc)},onEntered:()=>{s||l.current?.classList.add(Qc)},onExited:()=>{s||l.current?.classList.remove(Qc)},classNames:{enter:Fc,enterActive:Bc,exitActive:Uc},nodeRef:l,children:(0,S.jsx)("div",{className:Gt()(Dc,{[Wc]:!s}),children:(0,S.jsx)(Rc.y,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,S.jsx)(kc.z,{className:Gt()({[Hc]:n===Gc.ERROR}),children:(0,S.jsx)("div",{children:a})}),renderInline:o,children:(0,S.jsx)("button",{className:Gt()(Mc,{[zc]:a,[Oc]:n===Gc.ERROR,[Vc]:n===Gc.NOTICE}),onClick:()=>{c&&u.logInteraction(c.hitUiReveal())},ref:l,"":r,children:t})})})})});var $c=o(57302),Kc=o(24069),Yc=o(11288),Jc=o(44629);const Xc="u6qoiB8U3Z8Rct_FPRkk",el="ZYue5U8v0xTas1zr7RuY",tl="q8eRDqlEW5LuFp2H2gbX",nl="IMD49knm_tTvC8IHdRJl";function al(e){if(null===e)return null;const t=Math.abs(Date.now()-e.getTime());if(t<1e3)return null;const{hours:n,minutes:a,seconds:i}=(0,Jc.S)(t),s=(0,$c.j)({h:n,m:a,s:i});return r.Ru.get("authorization-status.retrying",s)}const rl=({retryAt:e})=>{const t=(0,Kc.v)(),[n,a]=(0,p.useState)(al(e)),i=(0,u.Oj)();return(0,p.useEffect)(()=>{const t=window.setInterval(()=>{a(al(e))},500);return()=>{window.clearInterval(t)}},[e,a]),(0,S.jsxs)("div",{className:Xc,children:[(0,S.jsx)(jr.E,{as:"p",variant:"bodyMediumBold",children:r.Ru.get("authorization-status.title")}),(0,S.jsx)("span",{className:el,children:n??r.Ru.get("authorization-status.reconnecting")}),(0,S.jsxs)("div",{className:tl,children:[(0,S.jsx)(ui.H,{semanticColor:"textBase",buttonSize:"sm",onClick:()=>{i({type:"close"})},children:r.Ru.get("authorization-status.dismiss")}),(0,S.jsx)(di.$,{className:nl,buttonSize:"sm",onClick:()=>t.tryAuthorize(),children:r.Ru.get("authorization-status.retry")})]})]})},il=({minimized:e,spec:n})=>{const a=(0,Ec.n)(),{isAuthorized:i,retryAt:s}=(0,Yc.Y)();return(0,t.NC)(Ae.ueo)?(0,S.jsxs)(Zc,{feedbackType:Gc.ERROR,minimized:e,display:a&&!i,spec:n,tooltip:(0,S.jsx)(rl,{retryAt:s}),itemId:"authorization-status-indicator",children:[(0,S.jsx)(Nc.b,{size:"small"}),r.Ru.get("authorization-status.badge")]}):null};var sl=o(69365),ol=o(92953),cl=o(53126),ll=o(36729),ul=o(55247);const dl="s8RWZTiRisL52B5ByfA2",hl="ZxR5RMhRDP0WUM1fwbiR",pl=()=>{const e=(0,Rt.s)(),{spec:t}=(0,Io.r)(ol.V,{}),n=(0,u.Oj)(),a=(0,l.wA)(),i=(0,p.useCallback)(()=>{n({type:"close"}),a(ll.r8.actions.open()),e.logInteraction(t.learnMoreButtonFactory().hitUiReveal())},[a,e,n,t]);return(0,S.jsxs)("div",{className:dl,children:[(0,S.jsx)(jr.E,{variant:"bodySmall",children:r.Ru.get("topBar.dsa-indicator")}),(0,S.jsx)(ui.H,{className:hl,onClick:i,condensedAll:!0,size:"small",semanticColor:"textBase",children:r.Ru.get("topBar.dsa-cta")})]})},ml=({spec:e})=>{const t=(0,cl.p)();return(0,S.jsx)(ul.r,{spec:e,children:(0,S.jsx)(Zc,{feedbackType:Gc.NOTICE,minimized:!0,display:!t,tooltip:(0,S.jsx)(pl,{}),itemId:"dsa-mode-status-indicator",spec:e,renderInLine:!0,children:(0,S.jsx)(sl.p,{size:"small"})})})};var gl=o(88677);const fl=({minimized:e,spec:t})=>{const n=!(0,Ec.n)();return(0,S.jsxs)(Zc,{feedbackType:Gc.NOTICE,minimized:e,display:n,spec:t,tooltip:r.Ru.get("offline.callout-disconnected"),itemId:"offline-status-indicator",children:[(0,S.jsx)(gl.P,{size:"small"}),r.Ru.get("offline.badge")]})};var vl=o(79444);const bl=({minimized:e,spec:t})=>{const{isPrivateSession:n}=vs();return(0,S.jsxs)(Zc,{feedbackType:Gc.NOTICE,minimized:e,display:n,tooltip:r.Ru.get("private-session.badge"),spec:t,itemId:"private-session-indicator",children:[(0,S.jsx)(vl.y,{size:"small"}),r.Ru.get("private-session.badge")]})};var yl=o(84473);const xl=p.memo(function(e){const t=(0,yl.U)("(max-width: 1023px)"),n=(0,p.useMemo)(()=>e.spec?.privateSessionButtonFactory(),[e.spec]),a=(0,p.useMemo)(()=>e.spec?.offlineButtonFactory(),[e.spec]),r=(0,p.useMemo)(()=>e.spec?.authorizationButtonFactory(),[e.spec]),i=(0,p.useMemo)(()=>e.spec?.dsaModeButtonFactory(),[e.spec]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(bl,{spec:n,minimized:t}),(0,S.jsx)(fl,{spec:a,minimized:t}),(0,S.jsx)(il,{spec:r,minimized:t}),(0,S.jsx)(ml,{spec:i})]})});var wl=o(64398),_l=o(1722);const Al=p.memo(({spec:e,logger:t})=>{const n=(0,p.useCallback)(()=>{if(!e||!t)return;const n=e.installAppButtonFactory().hitNavigateToExternalUri({destination:"/download"});t.logInteraction(n)},[t,e]),[a,i]=(0,p.useState)(!1),s=(0,p.useRef)(null);(0,kr.w)({onResize:({width:e})=>{s.current?.scrollWidth&&e<s.current?.scrollWidth?i(!0):i(!1)},refOrElement:s});const o=(0,S.jsx)(ui.H,{size:"small",href:"/download",iconLeading:wl.i,onClick:n,component:_l.v,children:(0,S.jsx)(jr.E,{variant:"bodySmallBold",className:"ellipsis-one-line",ref:s,children:r.Ru.get("navbar.install-app")})});return a?(0,S.jsx)(Tr.Zp,{label:r.Ru.get("navbar.install-app"),children:o}):o});var Sl=o(24189);function El(e,t){switch(t.type){case"installed":return{...e,installed:!0};case"before-install":return{...e,deferredPrompt:t.prompt,canBeInstalled:!0};default:return e}}const Cl=p.memo(({logger:e,spec:t})=>{const n=(0,l.wA)(),a=(0,T.vh)(),i=(0,ve.V)(),{enqueueSnackbar:s}=(0,Sl.d)(),[o,c]=(0,p.useReducer)(El,{deferredPrompt:void 0,installed:!1,canBeInstalled:!1});(0,p.useEffect)(()=>{const e=()=>{c({type:"installed"}),s(r.Ru.get("pwa.confirm"));const e={action_type:"unknown",action_intent:"pwa-installed",target_uri:"/pwa-install-confirmation",item_id:"pwa",view_uri:"/unknown",page:"/page"};a.send(i?function(e){return{name:"KmInteractionNonAuth",environments:["browsernonauth"],data:e}}(e):function(e){return{name:"KmInteraction",environments:["browser"],data:e}}(e))},t=e=>{e.preventDefault(),c({type:"before-install",prompt:e})};return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",e),()=>{window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",e)}},[n,s,a,i]);const u=(0,p.useCallback)(n=>{if(n.preventDefault(),t&&e){const n=t.installPwaButtonFactory().hitInstallApp({appName:"pwa"});e.logInteraction(n)}o.deferredPrompt&&o.deferredPrompt.prompt()},[t,e,o.deferredPrompt]),{canBeInstalled:d,installed:h}=o;return!d||h?null:(0,S.jsx)(di.$,{colorSet:"overMedia",size:"small",onClick:u,iconLeading:wl.i,children:(0,S.jsx)(jr.E,{variant:"bodySmallBold",className:"ellipsis-one-line",children:r.Ru.get("pwa.download-app")})})}),jl=p.memo(({spec:e,logger:t})=>{const{preferredAppToInstall:n}=(0,Ut.V)();return"desktop"===n?(0,S.jsx)(Al,{spec:e,logger:t}):"pwa"===n?(0,S.jsx)(Cl,{logger:t,spec:e}):null});var Il=o(3246),Tl=o(32197),Nl=o(29503),Ll=o(80095),kl=o(54117);const Rl={isCTA:!1,placement:Tl.D.bottomLeft,shouldHideOnOutsideClick:({triggerAction:e})=>!e||e.type!==kl.Gs,getTitle:({triggerAction:e})=>e?.type===Ll.no.SAVE_PRERELEASE?r.Ru.get("action-trigger.log-in-or-sign-up"):r.Ru.get("action-trigger.logged-out"),getDescription:({triggerAction:e})=>{switch(e?.type){case Il.gK.ADD_TO_QUEUE_ERROR:case Il.gK.ADD_TO_QUEUE_SUCCESS:return r.Ru.get("action-trigger.logged-out-queue");case Ll.$k.START_RADIO:return r.Ru.get("action-trigger.logged-out-radio");case Ll.no.SAVE_TRACK:return r.Ru.get("action-trigger.log-in-like-action");case Ll.no.SAVE_ALBUM:return r.Ru.get("action-trigger.save-album");case Ll.no.SAVE_PRERELEASE:return r.Ru.get("web-player.prerelease.album_anonymous_presave");case Ll.tf.FOLLOW_USER:return r.Ru.get("action-trigger.log-in-follow-profile");case kl.Gs:return"track"===e?.entityType?r.Ru.get("action-trigger.logged-out-full-track"):r.Ru.get("action-trigger.logged-out-synced");default:return r.Ru.get("action-trigger.logged-out-continue")}}},Pl=({children:e})=>(0,S.jsx)(Tl.y,{id:Nl.Z,options:Rl,children:e});var Dl=o(44451),Ml=o(88439);const Ol=({...e})=>{const{spec:t}=(0,Dl.D)(hi.x,{}),n=(0,p.useMemo)(()=>t.upgradeButtonFactory(),[t]),a=(0,Ml.n)(n.getAbsoluteLocation(),n);return(0,S.jsx)(di.$,{...e,style:{flexShrink:0},ref:a,size:"small",onClick:e.onClick,"aria-label":r.Ru.get("upgrade.tooltip.title"),title:r.Ru.get("upgrade.tooltip.title"),colorSet:"invertedLight","":"upgrade-button",children:r.Ru.get("upgrade.button")})};function Vl(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M8 0a5.5 5.5 0 0 0-5.5 5.5v3.069L.307 12.376A.75.75 0 0 0 .25 13h15.5a.75.75 0 0 0-.057-.624L13.5 8.567V5.5A5.5 5.5 0 0 0 8 0m1.937 14.5H6.063a2 2 0 0 0 3.874 0'/>"},{size:24,svgContent:"<path d='M9.261 21a2.75 2.75 0 1 0 5.478 0zM12 1a7.5 7.5 0 0 0-7.5 7.5v5.344L1.53 19h20.94l-2.97-5.158V8.5A7.5 7.5 0 0 0 12 1'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}function zl(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M8 1.5a4 4 0 0 0-4 4v3.27a.75.75 0 0 1-.1.373L2.255 12h11.49L12.1 9.142a.75.75 0 0 1-.1-.374V5.5a4 4 0 0 0-4-4m-5.5 4a5.5 5.5 0 0 1 11 0v3.067l2.193 3.809a.75.75 0 0 1-.65 1.124H10.5a2.5 2.5 0 0 1-5 0H.957a.75.75 0 0 1-.65-1.124L2.5 8.569zm4.5 8a1 1 0 1 0 2 0z'/>"},{size:24,svgContent:"<path d='M12 3a5.5 5.5 0 0 0-5.5 5.5v5.878L4.414 18h15.173L17.5 14.377V8.5A5.5 5.5 0 0 0 12 3M4.5 8.5a7.5 7.5 0 1 1 15 0v5.342L23.046 20h-7.582a3.5 3.5 0 1 1-6.929 0H.955L4.5 13.844zM10.585 20a1.5 1.5 0 1 0 2.83 0z'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Hl=o(49570),Fl=o(69698),Bl=o(58848),Ul=o(54390),ql=o(55211);const Wl="QbUJMOFqRxnnRnk9DDCN",Ql="FWnzC63EJUybtaTp2zg0",Gl="vw7Ql5Ip9ZrzaLknOFdK";function Zl(){const{name:e}=Fl.lo;return[e]}const $l=()=>{const e=(0,Ft.g)(),t=(0,Bl.J)(),n=(0,Ec.n)(),a=(0,Ul._)(e=>"/content-feed"===e.pathname),i=a,[s,o]=(0,p.useState)(!1),{request:c}=(0,p.useContext)(Tt.j),l=(0,it.jE)(),{spec:u,logger:d}=(0,yn.$)(Hl.q,{});(0,p.useEffect)(()=>{let e=!1;const t=setInterval(async()=>{let t;try{t=await(0,ql.c)({request:c,document:Fl.jF,variables:{}})}catch{return}if(t?.errors)return;const n=t?.data?.whatsNewFeedHasNewItems||!1;if(n&&!e){const e=u.notificationsBellToggleFactory().notificationsIndicatorFactory().impression();d.logImpression(e),o(!0),l.invalidateQueries({queryKey:Zl()})}e=n},144e5);return()=>{clearInterval(t)}},[d,l,c,u]);const h=()=>(0,S.jsxs)("div",{className:Wl,"":"notification-dot",children:[(0,S.jsx)("span",{className:Ql,children:r.Ru.get("new_releases")}),(0,S.jsx)(hs.Z,{className:Gl})]}),m=(0,p.useCallback)(()=>{a?(d.logInteraction(u.notificationsBellToggleFactory().hitUiNavigateBack()),t.length>1?t.goBack():e("/")):(o(!1),d.logInteraction(u.notificationsBellToggleFactory().hitUiNavigate({destination:"spotify:app:content-feed"})),e("/content-feed"))},[a,d,u,t,e]);return(0,S.jsxs)(wc,{tooltipLabel:r.Ru.get("web-player.whats-new-feed.button-label"),ariaLabel:r.Ru.get("web-player.whats-new-feed.button-label"),testId:"whats-new-feed-button",onClick:m,disabled:!n,children:[i?(0,S.jsx)(Vl,{size:"small",semanticColor:"textBase"}):(0,S.jsx)(zl,{size:"small"}),s&&(0,S.jsx)(h,{})]})};var Kl=o(32100);const Yl=(0,p.forwardRef)(({className:e},t)=>{const n=(0,l.wA)(),a=(0,ve.V)(),{ui:{showDownloadButtonInUnauthenticated:i,showPremiumButtonInUnauthenticated:s}}=(0,Ut.V)(),{spec:o,logger:c}=(0,Dl.D)(hi.x,{}),u=(0,yl.U)("(max-width: 849px)"),d=a&&u,h=(0,p.useCallback)(()=>{n((0,pi.Ai)())},[n]),m=(0,p.useCallback)(()=>{n((0,pi.zL)())},[n]),g=(0,p.useCallback)(()=>{n((0,pi.NM)())},[n]),{openURLWithSessionTransfer:f}=(0,as.L)(),v=(0,Ft.g)(),b=(e,t)=>{t?f(e):v(e)},y=(0,p.useMemo)(()=>o.upgradeButtonFactory(),[o]),x=(0,p.useMemo)(()=>o.friendFeedButtonFactory(),[o]),{shouldShowUpgradeButton:w,onUpgradeClick:_}=(0,Kl.i)(y,c),A=(0,yl.U)("(min-width: 1024px)"),E=(0,p.useCallback)(()=>{c.logInteraction(o.profileButtonFactory().hitUiReveal())},[c,o]);return(0,S.jsxs)("div",{className:Gt()(e,ti),ref:t,children:[(0,S.jsx)(xl,{spec:o}),a&&!u?(0,S.jsxs)(S.Fragment,{children:[s&&(0,S.jsx)(ui.H,{condensed:!0,onClick:()=>{g()},children:r.Ru.get("navbar.premium")}),(0,S.jsx)(ui.H,{condensed:!0,onClick:()=>b(Oi.nw,!0),children:r.Ru.get("user.support")}),i&&(0,S.jsx)(ui.H,{condensed:!0,onClick:()=>b(Oi.Kw,!0),children:r.Ru.get("download.download")}),(0,S.jsx)("div",{className:ri})]}):(0,S.jsx)(S.Fragment,{}),(0,S.jsx)(yi,{}),w&&A&&(0,S.jsx)(Ol,{onClick:_,className:ii}),(0,S.jsx)(jl,{logger:c,spec:o}),a&&(0,S.jsxs)("div",{className:si,children:[(0,S.jsx)(ui.H,{className:oi,onClick:h,"":"signup-button",size:"small",children:r.Ru.get("sign_up")}),(0,S.jsx)(Pl,{children:(0,S.jsx)(di.$,{colorSet:"invertedLight",onClick:m,"":"login-button",children:r.Ru.get("login")})})]}),!a&&(0,S.jsxs)("div",{className:Gt()(ni,ai),children:[(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)($l,{})}),(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Tc,{spec:x})})]}),(!a||d)&&(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(gc,{onClick:E})})]})});var Jl=o(27498),Xl=o(21903),eu=o(54264);const tu=({className:e})=>{const{spec:t,logger:n}=(0,Dl.D)(hi.x,{}),a=(0,Ft.g)(),[i,s]=(0,eu.l)(),o=(0,p.useCallback)(()=>{n.logInteraction(t.backButtonFactory().hitUiNavigateBack()),a(-1)},[n,a,t]),c=(0,p.useCallback)(()=>{n.logInteraction(t.forwardButtonFactory().hitUiNavigateForwardInHistory()),a(1)},[n,a,t]);return(0,S.jsxs)("div",{className:Gt()(e,ci),children:[(0,S.jsx)(Tr.Zp,{label:r.Ru.get("navbar.go-back"),children:(0,S.jsx)(ui.H,{size:"medium",iconOnly:Jl.g,condensed:!0,"":"top-bar-back-button","aria-label":r.Ru.get("navbar.go-back"),disabled:!i,onClick:o})}),(0,S.jsx)(Tr.Zp,{label:r.Ru.get("navbar.go-forward"),children:(0,S.jsx)(ui.H,{size:"medium",iconOnly:Xl.V,condensed:!0,"":"top-bar-forward-button","aria-label":r.Ru.get("navbar.go-forward"),disabled:!s,onClick:c})})]})};function nu(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M9.375.988a2.75 2.75 0 0 0-2.75 0l-5.25 3.03A1.75 1.75 0 0 0 .5 5.535v9.724c0 .415.336.75.75.75h4a.75.75 0 0 0 .75-.75V10h4v5.258c0 .415.336.75.75.75h4a.75.75 0 0 0 .75-.75V5.534a1.75 1.75 0 0 0-.875-1.515z'/>"},{size:24,svgContent:"<path d='M13.5 1.515a3 3 0 0 0-3 0L3 5.845a2 2 0 0 0-1 1.732V21a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6h4v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V7.577a2 2 0 0 0-1-1.732z'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var au=o(8859),ru=o(3877),iu=o(12627),su=o(27454);const ou=({className:e})=>{const{spec:n,logger:a}=(0,Dl.D)(hi.x,{}),i=(0,Ft.g)(),s=(0,ru.l)(),o=(0,t.NC)(Ae.gQu),c=(0,iu.SF)(),l=(0,su.j)(),u=(0,Ul._)(e=>"/"===e.pathname||"/home"===e.pathname);return(0,S.jsx)(Tr.Zp,{label:r.Ru.get("view.web-player-home"),children:(0,S.jsx)(ui.H,{iconOnly:u?nu:au.H,className:Gt()(e,qr,Jr,{[Wr]:u}),"aria-label":r.Ru.get("view.web-player-home"),"":"home-button",onClick:()=>{const e=n.homeButtonFactory().hitUiNavigate({destination:"spotify:app:home"});a.logInteraction(e),o&&!u||s(hn.z.CLOSED),u?c.current?.scrollTo({top:0,behavior:l?"instant":"smooth"}):i("/")}})})},cu="OPsY6bKl1_FfA8jFpq1V",lu="Il1Yz_P2hpTeJyNf9mi_",uu="IEulmRakQT_FgH43ov2a",du="ppjvheuqvs8mmcHwKkK5",hu="vRrKblnUUQV5eMbvUdv8",pu=({children:e})=>(0,S.jsx)("div",{className:du,children:e}),mu=()=>(0,S.jsx)("div",{className:cu}),gu=({children:e})=>(0,S.jsx)("div",{className:hu,children:e}),fu=()=>(0,S.jsx)("div",{className:lu}),vu=()=>(0,S.jsx)("div",{className:uu});var bu=o(89408),yu=o(60071),xu=o(94378);function wu(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M2 1.2a.7.7 0 0 1 .7-.7h10.6a.7.7 0 0 1 .7.7V4H2zM.987 6a.75.75 0 0 0-.734.906l1.81 8.5a.75.75 0 0 0 .733.594h10.38a.75.75 0 0 0 .734-.594l1.81-8.5A.75.75 0 0 0 14.987 6zM8 13c-1.657 0-3-.895-3-2s1.343-2 3-2 3 .895 3 2-1.343 2-3 2'/>"},{size:24,svgContent:"<path d='M4 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v4H4zM1.513 9.37A1 1 0 0 1 2.291 9H21.71a1 1 0 0 1 .978 1.208l-2.17 10.208A2 2 0 0 1 18.562 22H5.438a2 2 0 0 1-1.956-1.584l-2.17-10.208a1 1 0 0 1 .201-.837zM12 17.834c1.933 0 3.5-1.044 3.5-2.333s-1.567-2.333-3.5-2.333S8.5 14.21 8.5 15.5s1.567 2.333 3.5 2.333z'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}function _u(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M.404 6.278A.75.75 0 0 1 .987 6h14a.75.75 0 0 1 .733.906l-1.81 8.5a.75.75 0 0 1-.733.594H2.797a.75.75 0 0 1-.734-.594l-1.81-8.5a.75.75 0 0 1 .15-.628zM1.914 7.5l1.49 7h9.166l1.49-7z'/><path d='M9.987 11c0 .736-.896 1.333-2 1.333s-2-.597-2-1.333.895-1.333 2-1.333 2 .597 2 1.333M2 1.25A.75.75 0 0 1 2.75.5h10.5a.75.75 0 0 1 .75.75V4h-1.5V2h-9v2H2z'/>"},{size:24,svgContent:"<path d='M15 15.5c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2'/><path d='M1.513 9.37A1 1 0 0 1 2.291 9h19.418a1 1 0 0 1 .979 1.208l-2.339 11a1 1 0 0 1-.978.792H4.63a1 1 0 0 1-.978-.792l-2.339-11a1 1 0 0 1 .201-.837zM3.525 11l1.913 9h13.123l1.913-9zM4 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v4h-2V3H6v3H4z'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Au=o(36544);const Su="music",Eu="3.0.0",Cu="default",ju="17.0.0";function Iu(e){return new Tu(e)}class Tu{constructor(e){this.specType=Si.a.EMBEDDED,this._path=[{name:"desktop-search-input"}],this._parentAbsoluteLocation=e.parentAbsoluteLocation}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Cu,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Eu,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}keyStrokeChangeSearchQuery({searchQueryString:e}){return{actionParameterNames:["search_query_string"],actionParameterValues:[e.toString()],actionName:"change_search_query",actionVersion:1,app:Su,generatorVersion:ju,interactionType:"key_stroke",specificationMode:Cu,specificationVersion:Eu,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeSearch(){return{actionName:"search",actionVersion:1,app:Su,generatorVersion:ju,interactionType:"key_stroke",specificationMode:Cu,specificationVersion:Eu,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Su,generatorVersion:ju,interactionType:"key_stroke",specificationMode:Cu,specificationVersion:Eu,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitTextClear(){return{actionName:"text_clear",actionVersion:1,app:Su,generatorVersion:ju,interactionType:"hit",specificationMode:Cu,specificationVersion:Eu,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}var Nu=o(73599),Lu=o(14546),ku=o(62960),Ru=o(2948),Pu=o(88089),Du=o(87200);const Mu=[Qa.c.ALBUM,Qa.c.ARTIST,Qa.c.AUDIOBOOK,Qa.c.AUTHOR,Qa.c.EPISODE,Qa.c.GENRE,Qa.c.PLAYLIST,Qa.c.SHOW,Qa.c.TRACK,Qa.c.USER,Qa.c.LIKED_SONGS,Qa.c.PRE_RELEASE_ALBUM,Qa.c.PRE_RELEASE_BOOK,Qa.c.AUTOCOMPLETE];function Ou(e){const t=Mu.map(t=>{const n=[];return(0,Du.I)(t)&&n.push("play-button"),n.push("title"),"recent-searches"===e?(n.push("remove-item-button"),[t,n]):((0,Du.DP)(t)&&n.push("add-to-queue-button"),!1!==(0,Du.dL)(t)&&n.push("save-button"),[t,n])});return Object.fromEntries(t)}var Vu=o(492);const zu="inputMethod",Hu=(e,t)=>{const n=e.currentTarget?.dataset?.[zu];return n===t};var Fu=o(92363);const Bu="main-globalNav-searchInputSection",Uu="GFX1oiYNmcV2wfUGuls_",qu="al8f6ds34QJ4LZ74vbVP",Wu="eoACZlxIIdCS_g00hynp",Qu="main-topBar-searchBar",Gu="vq_8tRO1ZF7Fy_ThSKSv",Zu="SrfZ87xJMiJ7OYEB4Ziz",$u="VeD7NAcigQaaIUn8jrkN",Ku="JkvrLi4Txzq1Oo8ckPM7",Yu="znOINyqAy7ivIGbQyrbt",Ju="tCM4bynl5K1claibdP08",Xu="x-searchHistoryEntries-clearSingleSearchHistory",ed="Z9zIHlpsT2vCYKtScl6t",td="main-globalNav-searchInputContainer",nd="x-searchInput-searchInputSearchIcon",ad="AuBUa5p8ygF3lMwln_hu",rd="x-searchInput-searchInputInput",id="x-searchInput-searchInputClearButton",sd="Ckze8wMFNiDXk_f1IqjJ",od=({children:e,shouldShowDropdown:t,id:n,testId:a,scrollNodeRef:r})=>(0,S.jsx)("div",{className:Gt()(Ku,{[ed]:t}),id:n,role:"listbox","":a,children:!!p.Children.count(e)&&(0,S.jsx)(Fu.a,{className:Yu,scrollNodeRef:r,tabIndex:-1,children:e})});var cd=o(43258),ld=o(55043),ud=o(10622),dd=o(53167);const hd="music",pd="2.1.0",md="default",gd="17.0.0";function fd(e){return new vd(e)}class vd{constructor(e){this._path=[{name:"desktop-search-suggestions"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}searchSuggestionsCardsFactory(){return new vd.SearchSuggestionsCardsEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.SearchSuggestionsCardsEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"search_suggestions_cards"}),t&&(this._parentAbsoluteLocation=t)}searchSuggestionItemFactory(t){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}viewAllResultsButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.ViewAllResultsButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(vd||(vd={})),function(e){!function(t){t.SearchSuggestionItemEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"search_suggestion_item"}),t&&(this._parentAbsoluteLocation=t)}playPauseButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.PlayPauseButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.SaveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}addToQueueButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.AddToQueueButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}titleLinkFactory(t){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.TitleLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}creatorLinkFactory(t){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.CreatorLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"key_stroke",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(vd||(vd={})),function(e){!function(e){e.ViewAllResultsButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"view_all_results_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(vd||(vd={})),function(e){!function(e){!function(e){e.PlayPauseButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"play_pause_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:e}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[e.toString()],actionName:"pause",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:e}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[e.toString()],actionName:"resume",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(vd||(vd={})),function(e){!function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"save_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:e}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[e.toString()],actionName:"like",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:e}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[e.toString()],actionName:"remove_like",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitFollow({itemToBeFollowed:e}){return{actionParameterNames:["item_to_be_followed"],actionParameterValues:[e.toString()],actionName:"follow",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUnfollow({itemToBeUnfollowed:e}){return{actionParameterNames:["item_to_be_unfollowed"],actionParameterValues:[e.toString()],actionName:"unfollow",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(vd||(vd={})),function(e){!function(e){!function(e){e.AddToQueueButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"add_to_queue_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitAddItemToQueue({itemToAddToQueue:e}){return{actionParameterNames:["item_to_add_to_queue"],actionParameterValues:[e.toString()],actionName:"add_item_to_queue",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveItemFromQueue({itemToRemoveFromQueue:e}){return{actionParameterNames:["item_to_remove_from_queue"],actionParameterValues:[e.toString()],actionName:"remove_item_from_queue",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(vd||(vd={})),function(e){!function(e){!function(e){e.TitleLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"title_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(vd||(vd={})),function(e){!function(e){!function(e){e.CreatorLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"creator_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[md,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[pd,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hd,generatorVersion:gd,interactionType:"hit",specificationMode:md,specificationVersion:pd,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(vd||(vd={}));var bd=o(34207),yd=o(62507),xd=o(76826);const wd=({entity:e})=>{const{name:t,searchTerm:n}=e;if(!n||!t.startsWith(n))return(0,S.jsx)(jr.E,{semanticColor:"textBase",children:t});const a=n?t.replace(n,""):t;return(0,S.jsxs)(jr.E,{semanticColor:"textSubdued",children:[(0,S.jsx)(jr.E,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:n}),a]})};var _d=o(49970),Ad=o(59725),Sd=o(25875),Ed=o(24903);const Cd={imageContainer:"CPA32oZsy5GsqEhQ_2Ej",playButtonContainer:"PcZ4Ih4RnDcfih7nQsvV",circle:"XGU2hiOPwlUs2HhaOnX1",item:"x-searchHistoryEntries-searchHistoryEntry",compactItem:"J8RRDN_W_RLj2mFc8oGy",entityImage:"zmpWR8j0dbIY01n6Jfp4",itemFocused:"xAnGbahL5KjmIxwfBGWA",removeButton:"x-searchHistoryEntries-clearSingleSearchHistoryButton",focusOutline:"ROOCivYb2nUDWJkLUJdj",subtitle:"Hgf9VTLAWPiuT26erM08",badgesContainer:"IlVl7PNsjNLiqeWoMtpS",saveButton:"XnpcFS6w_pjB4jhYgZHf",addToQueueButtonContainer:"OovG5Edy3FeZSbZ_faCg",verifiedBadge:"xDZKoHxFogL1bpwr4m4s"},jd=(0,p.memo)(({entity:e,index:t,focusedElement:n,isPlaying:a,isAddToQueueButtonVisible:i,isSaveButtonVisible:s,onClearItemClick:o,onClick:c,onPlayClick:l,onToggleSave:u,onToggleAddToQueue:d,setSelectedSearchItemId:h})=>{const m=(0,Ed._)(),g=(0,p.useRef)(null),f=(0,p.useId)(),v=`${f}-title`,b=`${f}-play`,y=`${f}-save`,x=`${f}-remove`,w=`${f}-add-to-queue`,_=(0,yd.j3)(e.type),{draggable:A,onDragStart:E}=(0,Ad.P)({itemUris:_?[e.uri]:[],itemMimeTypes:_?[_]:[],dragLabelText:e.name});(0,Sd.g)(g),(0,p.useEffect)(()=>{n&&g.current?.scrollIntoView({behavior:"auto",block:"nearest"})},[n]);const C=(0,p.useCallback)((e,n,a)=>{u?.(e,n,a,t)},[u,t]),j=(0,p.useCallback)(n=>{d?.(e.uri,n,t)},[d,e.uri,t]),I=(0,Du.Hd)(e.type),T=(0,Du.ji)(e),N=(0,Du.I)(e.type),L=(0,Du.dL)(e.type),k=s&&!1!==L,R=i&&(0,Du.DP)(e.type),P=void 0!==n;(0,p.useEffect)(()=>{switch(n){case"play-button":h(b);break;case"remove-item-button":h(x);break;case"save-button":h(y);break;case"title":h(v);break;case"add-to-queue-button":h(w);break;case void 0:break;default:(0,Q.k)(n)}},[n,b,x,y,w,h,v]);const{spec:D,logger:M}=(0,Io.r)(fd,{}),O=(0,Du.bA)(e),V=(0,Du.Tv)(e),z=(0,Du.$F)(e,{onArtistClick:n=>{const a=D.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e.uri,position:t}).creatorLinkFactory({uri:n,position:t}).hitUiNavigate({destination:n});M.logInteraction(a)}}),H=O||V?(0,S.jsxs)("span",{className:Cd.leadingContainer,children:[O&&(0,S.jsx)("span",{className:Cd.badgesContainer,children:O}),V&&(0,S.jsx)("span",{children:V})]}):null,F=z?(0,S.jsx)("span",{className:Cd.subtitle,children:z}):null,B=e.name,U=e.type===Qa.c.ARTIST&&e.verified;return(0,S.jsx)(qs.v,{ref:g,variant:"naked",hoverAnimationDuration:"0ms",hoverBackgroundColor:"backgroundTintedHighlight",activeBackgroundColor:"backgroundTintedHighlight",size:"sm",onClick:c,isRedundantOnClick:!0,role:"row","aria-rowindex":t,"aria-selected":P,className:Gt()(Cd.item,{[Cd.itemFocused]:P,[Cd.compactItem]:e.type===Qa.c.AUTOCOMPLETE,[Cd.focusOutline]:"title"===n}),id:f,draggable:A,onDragStart:E,media:(0,S.jsxs)("div",{className:Gt()({[Cd.imageContainer]:N}),children:[(0,S.jsx)(Ws.b,{className:Cd.entityImage,fadeIn:!0,images:m(T,48),shape:I,size:Qs.Qe.SIZE_48,iconSize:"medium",type:e.type,title:e.name,loadingMode:"eager"}),N&&(0,S.jsx)("div",{role:"gridcell",id:b,className:Gt()(Cd.playButtonContainer,{[Cd.focusOutline]:"play-button"===n,[Cd.circle]:I===Ws.u.CIRCLE}),children:(0,S.jsx)(ui.H,{iconOnly:a?cd._:ld.A,className:Gt()({[Cd.circle]:I===Ws.u.CIRCLE}),semanticColor:"textBase",onClick:l,"aria-label":a?r.Ru.get("playlist.a11y.pause",e.name):r.Ru.get("playlist.a11y.play",e.name),size:"medium"})})]}),subtitle:(H||F)&&(0,S.jsx)(Tr.Zp,{label:z,renderInline:!0,children:(0,S.jsxs)(ud.j,{"aria-hidden":!0,lineClamp:1,hasTextSeparator:!0,children:[H,F]})}),title:(0,S.jsx)("div",{role:"gridcell",id:v,children:(0,S.jsx)(xd.N,{to:e.uri,onClick:n=>{const a=Hu(n,"keyboard"),r=e.type===Qa.c.AUTOCOMPLETE;if(a||r)return c(n),n.preventDefault(),void n.stopPropagation();const i=D.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e.uri,position:t}).titleLinkFactory({uri:e.uri}).hitUiNavigate({destination:e.uri});M.logInteraction(i)},children:(0,S.jsx)(Tr.Zp,{label:B,children:(0,S.jsxs)(Ks.d,{lineClamp:1,children:[e.type===Qa.c.AUTOCOMPLETE?(0,S.jsx)(wd,{entity:e}):e.name,U&&(0,S.jsx)(dd.C,{"":"verified-icon",size:"small",className:Gt()(Cd.verifiedBadge)})]})})})}),trailing:(0,S.jsxs)(S.Fragment,{children:[R&&(0,S.jsx)("div",{role:"gridcell",id:w,className:Gt()(Cd.addToQueueButtonContainer,{[Cd.focusOutline]:"add-to-queue-button"===n}),children:(0,S.jsx)(bd.W,{uri:e.uri,onClick:j,className:Cd.addToQueueButton,isActive:"add-to-queue-button"===n})}),k&&(0,S.jsx)("div",{role:"gridcell",id:y,className:Gt()({[Cd.focusOutline]:"save-button"===n}),children:(0,S.jsx)(_d.y,{uri:e.uri,"data-subelement-type":"save-button",isActive:"save-button"===n,onToggleSave:C,className:Cd.saveButton,variant:L})}),o&&(0,S.jsx)("div",{role:"gridcell",id:x,className:Gt()({[Cd.focusOutline]:"remove-item-button"===n}),children:(0,S.jsx)(ui.H,{className:Cd.removeButton,"aria-label":r.Ru.get("remove"),iconOnly:xi.M,size:"small",onClick:()=>o(e.uri),"data-subelement-type":"remove-item-button",id:x,hover:"remove-item-button"===n})})]})},e.uri)});var Id=o(41045);const Td=({defaultSelectedSubElement:e,inputRef:t,items:n,setSelectedSearchItemId:a,shouldTrackFocus:r,subElementsForType:i,triggerPlayUri:s})=>{const[o,c]=(0,p.useState)(-1),[l,u]=(0,p.useState)(e),d=(0,p.useCallback)((e,t)=>!!e&&!!i[e.type]?.includes(t),[i]),h=(0,p.useMemo)(()=>{if(-1!==o)return n.at(o)},[n,o]),m=(0,p.useCallback)(()=>{if(void 0===l)return;const e=h?.type;return(e?i[e]:[]).indexOf(l)},[h,l,i]),g=(0,p.useCallback)(t=>{c(t),d(n.at(t),l)||u(e)},[d,n,l,e]),f=(0,p.useCallback)(e=>{e.preventDefault();const t=Math.max(o-1,0);g(t)},[o,g]),v=(0,p.useCallback)(e=>{e.preventDefault();const t=Math.min(o+1,n.length-1);g(t)},[o,n.length,g]),b=(0,p.useCallback)(e=>{if(!h)return;e.preventDefault();const t=m(),n=h?.type,a=(n?i[n]:[]).at(t&&t>0?Math.max(t-1,0):0);void 0!==a&&u(a)},[m,h,i]),y=(0,p.useCallback)(e=>{if(!h)return;e.preventDefault();const t=m(),n=h?.type,a=(n?i[n]:[]).at(t?t+1:1);void 0!==a&&u(a)},[m,h,i]),x=(0,p.useCallback)(e=>{if(e.preventDefault(),!h)return;if(e.shiftKey)return s(h.uri,o),void e.stopPropagation();const n=t.current?.getAttribute("aria-activedescendant");if(!n)return;const a=(0,Id.Zo)(`[id="${n}"]`),r=document.querySelector(a);if(r){i="keyboard",r.dataset[zu]=i;try{r.click()}finally{(e=>{delete e.dataset[zu]})(r)}e.stopPropagation()}var i},[h,t,s,o]),w=(0,p.useCallback)(n=>{o>=0&&(n.preventDefault(),n.stopPropagation(),c(-1),u(e),t.current?.focus())},[o,e,t]);return(0,p.useEffect)(()=>{c(-1),u(e),a(void 0)},[n,e,a]),(0,p.useEffect)(()=>{const n=t.current,i=e=>{switch(e.key){case"ArrowUp":f(e);break;case"ArrowDown":v(e);break;case"ArrowLeft":b(e);break;case"ArrowRight":y(e);break;case"Enter":x(e);break;case"Escape":w(e)}},s=()=>{c(-1),u(e),a(void 0)},o=()=>{c(-1),u(e),a(void 0)};return r&&(n?.addEventListener("keydown",i),n?.addEventListener("focus",s),n?.addEventListener("blur",o)),()=>{n?.removeEventListener("keydown",i),n?.removeEventListener("focus",s),n?.removeEventListener("blur",o)}},[r,t,f,v,b,y,x,w,e,a]),{selectedIndex:o,selectedSubElement:l}},Nd="search-dropdown",Ld=(0,p.memo)(({items:e,footer:t,header:n,inputRef:a,onClearItemClick:r,setSelectedSearchItemId:i,shouldShowDropdown:s,trackNavigateToItem:o,trackPause:c,trackPlay:l,trackToggleSave:u,trackToggleAddToQueue:d,isSaveButtonVisible:h,isAddToQueueButtonVisible:m,onNavigateToSearchQuery:g,id:f,testId:v,defaultSelectedSubElement:b,subElementsForType:y})=>{const x=(0,p.useRef)(null),{mainLandmarkRef:w}=(0,nn.JT)(),_=(0,Ft.g)(),A=(0,p.useRef)(null),{isPlaying:E,currentlyPlayingContextUri:C}=(0,ar.o)(e=>({isPlaying:(0,Ko.uW)(e)===$o.i.PLAYING,currentlyPlayingContextUri:e?.context.uri??null}),rr.a),j=(0,P.z)(),I=(0,p.useCallback)((e,t)=>{const n=(0,Ls.o_h)(e);if((0,Du.MB)(n?.type))if(E&&C===e)j.pause({featureIdentifier:"search"}),c(e,t);else if(E||C!==e){const n=l(e,t);j.play({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"},{loggingParams:n})}else j.resume({featureIdentifier:"search"}),l(e,t)},[j,E,C,c,l]),T=(0,p.useCallback)((e,t,n)=>{const a=(0,Ls.o_h)(e.uri);if(null!==a){const r=Hu(n,"keyboard");o(e,t,r),e.type===Qa.c.AUTOCOMPLETE&&g?g?.(e.name):_(a.toURLPath(!0),{state:{referrer:"search"}}),requestAnimationFrame(()=>{w.current&&w.current.focus()})}},[w,_,g,o]),{selectedIndex:N,selectedSubElement:L}=Td({defaultSelectedSubElement:b,inputRef:a,items:e,setSelectedSearchItemId:i,shouldTrackFocus:s,subElementsForType:y,triggerPlayUri:I});return(0,p.useEffect)(()=>{-1===N&&A.current?.scrollIntoView()},[N]),(0,S.jsxs)(od,{shouldShowDropdown:s,id:f??Nd,testId:v??Nd,scrollNodeRef:x,children:[n,(0,S.jsx)(Vu.b,{condensedAll:!0,role:"grid",children:e.map((e,t)=>(0,S.jsx)(jd,{focusedElement:N===t?L??b:void 0,entity:e,index:t,isPlaying:E&&C===e.uri,onClick:n=>T(e,t,n),onPlayClick:()=>I(e.uri,t),onClearItemClick:r,onToggleSave:u,onToggleAddToQueue:d,isSaveButtonVisible:h,isAddToQueueButtonVisible:m,setSelectedSearchItemId:i},e.uri))}),t]})});var kd=o(64571);const Rd=(0,p.memo)(({inputRef:e,setSelectedSearchItemId:t,hasQuery:n})=>{const{searchHistory:a,clearSearchHistory:i}=(0,kd.k)(),s=(0,p.useRef)(null),[o,c]=(0,p.useState)(!1),{spec:l,logger:u}=(0,yn.$)(Ru.a,{data:{uri:"spotify:app:recent-searches"}}),d=(0,p.useCallback)(e=>{const t=l.recentSearchesItemFactory({uri:e}).removeRecentSearchesItemButtonFactory().hitRemoveRecentSearchesItem();u.logInteraction(t),i(e)},[i,l,u]),h=(0,p.useCallback)((e,t)=>{const n=l.recentSearchesItemFactory({uri:e.uri}).hitUiNavigate({destination:e.uri});u.logInteraction(n)},[l,u]),m=(0,p.useCallback)((e,t)=>{const n=l.recentSearchesItemFactory({uri:e}).pauseRecentSearchesItemButtonFactory().hitPause({itemToBePaused:e});u.logInteraction(n)},[l,u]),g=(0,p.useCallback)((e,t)=>{const n=l.recentSearchesItemFactory({uri:e}).playRecentSearchesItemButtonFactory().hitPlay({itemToBePlayed:e});return u.logInteraction(n)},[l,u]),f=(0,p.useMemo)(()=>Ou("recent-searches"),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ld,{items:a,shouldShowDropdown:!n,inputRef:e,setSelectedSearchItemId:t,onClearItemClick:d,trackNavigateToItem:h,trackPause:m,trackPlay:g,defaultSelectedSubElement:"title",subElementsForType:f,header:(0,S.jsx)(jr.E,{as:"p",ref:s,variant:"bodyMediumBold",semanticColor:"textBase",className:Ju,children:r.Ru.get("search.title.recent-searches")}),footer:(0,S.jsx)(ku.n,{onClick:()=>{c(!0)},size:"small",className:Gt()(Xu),children:r.Ru.get("search.clear-recent-searches")})}),(0,S.jsx)(Pu.T,{onClose:()=>{c(!1)},isOpen:o,onConfirm:()=>{(()=>{const e=l.clearButtonFactory().hitClearRecentSearches();u.logInteraction(e),i()})(),c(!1)},"aria-label":r.Ru.get("search.clear-recent-searches-dialog.title"),titleText:r.Ru.get("search.clear-recent-searches-dialog.title"),descriptionText:r.Ru.get("search.clear-recent-searches-dialog.description"),confirmText:r.Ru.get("search.clear-recent-searches-dialog.confirm-button"),cancelText:r.Ru.get("search.clear-recent-searches-dialog.cancel-button")})]})});var Pd=o(740),Dd=o(7854),Md=o(13140),Od=o(2710),Vd=o(78730);const zd="sqB2bu7F5BwfCIZXYAAr",Hd="M1_5dCavFDP2Snje9n1N",Fd="RfIYvqMwodxl0_iBJLPA",Bd=(0,p.memo)(()=>{const e=(0,Od.h)("shimmer");return(0,S.jsx)("div",{ref:e,className:Gt()(zd,Vd.A.isLoading)})}),Ud=(0,p.memo)(()=>{const e=(0,p.useId)();return(0,S.jsx)(qs.v,{id:e,variant:"naked",size:"sm","aria-hidden":!0,titleGap:"8px",media:(0,S.jsx)(Bd,{}),title:(0,S.jsx)(Md.Y,{variant:"bodyMedium",charCount:20,className:Hd,isLoading:!0}),subtitle:(0,S.jsx)(Md.Y,{variant:"bodySmall",charCount:12,className:Fd,isLoading:!0})})});var qd=o(13057),Wd=o(67793),Qd=o(54635),Gd=o(6372),Zd=o(53811),$d=o(75917);const Kd=(e,t)=>{if(!e||!t)return null;switch(t.type){case $d.c.ENTITY_TYPE_TRACK:case $d.c.ENTITY_TYPE_ALBUM:case $d.c.ENTITY_TYPE_AUDIOBOOK:return e.contributors.length>0?e.contributors.map((e,t)=>[t>0&&r.Ru.getSeparator(),e.uri?(0,S.jsx)(Tr.Zp,{label:e.name,showDelay:Tr.uF,children:(0,S.jsx)(xd.N,{to:e.uri,dir:"auto",tabIndex:-1,children:e.name})},e.uri):(0,S.jsx)("span",{children:e.name},e.name)]).flat():null;case $d.c.ENTITY_TYPE_PODCAST_EPISODE:return e.contentHierarchyParent?(0,S.jsx)(Tr.Zp,{label:e.contentHierarchyParent.name,showDelay:Tr.uF,children:(0,S.jsx)(xd.N,{to:e.contentHierarchyParent.uri,dir:"auto",tabIndex:-1,children:e.contentHierarchyParent.name})}):null;case $d.c.ENTITY_TYPE_PODCAST_SHOW:{const t=e.contributors.at(0);return t?t.uri?(0,S.jsx)(Tr.Zp,{label:t.name,showDelay:Tr.uF,children:(0,S.jsx)(xd.N,{to:t.uri,dir:"auto",tabIndex:-1,children:t.name})}):t.name:null}case $d.c.ENTITY_TYPE_PLAYLIST:{const t=e.contributors.at(0);return t?t.uri?(0,S.jsx)(Tr.Zp,{label:t.name,showDelay:Tr.uF,children:(0,S.jsx)(xd.N,{to:t.uri,dir:"auto",tabIndex:-1,children:t.name})}):t.name:null}case $d.c.ENTITY_TYPE_ARTIST:case $d.c.ENTITY_TYPE_AUTHOR:case $d.c.ENTITY_TYPE_USER:default:return null}};var Yd=o(81369),Jd=o(83688),Xd=o(21623);const eh=(0,Yd.m5)({identityTrait:(0,Yd.lq)(Jd.J.IDENTITY_TRAIT),visualIdentityTrait:(0,Yd.lq)(Jd.J.VISUAL_IDENTITY_TRAIT),entityTypeTrait:(0,Yd.lq)(Jd.J.ENTITY_TYPE_TRAIT),consumptionExperienceTrait:(0,Yd.lq)(Jd.J.CONSUMPTION_EXPERIENCE_TRAIT),onPlatformReputationTrait:(0,Yd.lq)(Jd.J.ON_PLATFORM_REPUTATION_TRAIT)}),th=(0,p.memo)(({index:e,item:t})=>{const{identityTrait:n,visualIdentityTrait:a,entityTypeTrait:i,consumptionExperienceTrait:s,onPlatformReputationTrait:o}=(0,Xd.K)(eh,{uri:t.uri}),c=(0,Ed._)(),l=(0,Ft.g)(),u=((e,t)=>(0,Ls.gui)(t)?[{url:"https://t.scdn.co/images/728ed47fc1674feb95f7ac20236eb6d7.jpeg",width:300}]:(0,Gd.y)(e?.squareCoverImage?.instances)??[])(a,t.uri),d=(e=>{if(!e)return Ws.u.ROUNDED_CORNERS;switch(e.type){case $d.c.ENTITY_TYPE_ARTIST:case $d.c.ENTITY_TYPE_AUTHOR:case $d.c.ENTITY_TYPE_USER:return Ws.u.CIRCLE;default:return Ws.u.ROUNDED_CORNERS}})(i),h=n?.name??"",m=s?.formats.includes(2)??!1,g=((e,t)=>{const n=[];return e?.contentRatings.includes(Zd.HG.CONTENT_RATING_EXPLICIT)&&n.push((0,S.jsx)(Wd.U,{},"explicit")),e?.contentRatings.includes(Zd.HG.CONTENT_RATING_SOUTH_KOREA_19)&&n.push((0,S.jsx)(Qd.q,{size:16},"19plus")),t&&n.push((0,S.jsx)(qd.B,{"":"video-icon",size:"small","aria-hidden":"true"},"video")),n})(s,m),f=((e,t,n)=>{if((0,Ls.gui)(t))return r.Ru.get("card.tag.genre");if(!e)return null;switch(e.type){case $d.c.ENTITY_TYPE_ALBUM:return r.Ru.get("card.tag.album");case $d.c.ENTITY_TYPE_TRACK:return n?r.Ru.get("card.tag.music-video"):r.Ru.get("card.tag.track");case $d.c.ENTITY_TYPE_ARTIST:return r.Ru.get("card.tag.artist");case $d.c.ENTITY_TYPE_PODCAST_SHOW:return r.Ru.get("card.tag.show");case $d.c.ENTITY_TYPE_PODCAST_EPISODE:return r.Ru.get("card.tag.episode");case $d.c.ENTITY_TYPE_PLAYLIST:return r.Ru.get("card.tag.playlist");case $d.c.ENTITY_TYPE_AUDIOBOOK:return r.Ru.get("card.tag.audiobook");case $d.c.ENTITY_TYPE_USER:return r.Ru.get("card.tag.profile");case $d.c.ENTITY_TYPE_AUTHOR:return r.Ru.get("card.tag.author");default:return null}})(i,t.uri,m),v=Kd(n,i),b=!0===o?.isVerified,y=g||f?(0,S.jsxs)("span",{className:Cd.leadingContainer,children:[g&&(0,S.jsx)("span",{className:Cd.badgesContainer,children:g}),f&&(0,S.jsx)("span",{children:f})]}):null,x=v?(0,S.jsx)("span",{className:Cd.subtitle,children:v}):null,w=(0,p.useCallback)(()=>{const e=(0,Ls.o_h)(t.uri);e&&l(e.toURLPath(!0),{state:{referrer:"search"}})},[l,t.uri]);return(0,S.jsx)(qs.v,{id:t.uri,variant:"naked",hoverAnimationDuration:"0ms",hoverBackgroundColor:"backgroundTintedHighlight",activeBackgroundColor:"backgroundTintedHighlight",size:"sm",isRedundantOnClick:!0,role:"row","aria-rowindex":e,onClick:w,media:(0,S.jsx)(Ws.b,{className:Cd.entityImage,fadeIn:!0,images:c(u,48),shape:d,size:Qs.Qe.SIZE_48,iconSize:"medium",type:Qa.c.TRACK,title:h,loadingMode:"eager"}),subtitle:(y||x)&&(0,S.jsx)(Tr.Zp,{label:v,renderInline:!0,children:(0,S.jsxs)(ud.j,{"aria-hidden":!0,lineClamp:1,hasTextSeparator:!0,children:[y,x]})}),title:(0,S.jsx)("div",{role:"gridcell",children:(0,S.jsx)(xd.N,{to:t.uri,children:(0,S.jsx)(Tr.Zp,{label:n?.name,children:(0,S.jsxs)(Ks.d,{lineClamp:1,children:[n?.name,b&&(0,S.jsx)(dd.C,{"":"verified-icon",size:"small",className:Cd.verifiedBadge})]})})})})},t.uri)}),nh=()=>{const e=(0,Dd.S)(),t=e.getItems(0,e.nrValidItems,{cachedOnly:!0});return(0,S.jsx)(od,{shouldShowDropdown:!0,id:"recent-searches-dropdown-traits",testId:"recent-searches-dropdown-traits",children:(0,S.jsx)(Vu.b,{condensedAll:!0,role:"grid",children:t.map((e,t)=>e&&(0,S.jsx)(p.Suspense,{fallback:(0,S.jsx)(Ud,{}),children:(0,S.jsx)(th,{index:t,item:e},e.uri)},t+e.uri))})})},ah=()=>(0,S.jsx)(Pd.K,{uri:"spotify:list:recent-searches:default",options:{initialResync:!0},children:(0,S.jsx)(nh,{})});var rh=o(18572),ih=o(18055);const sh={header:"hMDMzK0kEHnmWUHrHt11",arrowsContainer:"I9Yb9ntSTvfJMMgbH1mC",arrow:"UfogM59HjeOWOZBR25vD",enterKey:"x3pSIMzsfPui8yrJ7cQX",enterKeyText:"N1QAM0YqANh6SHOPcijD",enterKeyContainer:"keZnh3e87Zqbq_QaHLzv"},oh=()=>(0,S.jsxs)("div",{className:sh.header,"aria-label":r.Ru.get("web-player.search.suggestions.header.label"),children:[(0,S.jsxs)("div",{className:sh.arrowsContainer,children:[(0,S.jsx)(rh.U,{"aria-label":r.Ru.get("web-player.search.suggestions.header.up"),className:sh.arrow,size:"xsmall",semanticColor:"textSubdued"}),(0,S.jsx)(ih.R,{"aria-label":r.Ru.get("web-player.search.suggestions.header.down"),className:sh.arrow,size:"xsmall",semanticColor:"textSubdued"}),(0,S.jsx)(jr.E,{as:"span",variant:"marginal",semanticColor:"textSubdued",children:r.Ru.get("web-player.search.suggestions.header.navigate")})]}),(0,S.jsxs)("div",{className:sh.enterKeyContainer,children:[(0,S.jsx)("div",{className:sh.enterKey,children:(0,S.jsx)(jr.E,{className:sh.enterKeyText,as:"span",variant:"marginal",semanticColor:"textSubdued",children:r.Ru.get("web-player.search.suggestions.header.enter")})}),(0,S.jsx)(jr.E,{as:"span",variant:"marginal",semanticColor:"textSubdued",className:sh.instructionText,children:r.Ru.get("web-player.search.suggestions.header.search")})]})]}),ch="XNBhseCmoagtJ480fTy3",lh="k3rZZ7mglXnI4yRI4Rbu",uh="SnQwkvzsHAad3ZDlumgw",dh="Nhm6JXFY1ODhSwrmSM5n",hh="KGQXML6rJLZ_zJuG23tZ",ph=(0,p.memo)(({isCircle:e})=>{const t=(0,Od.h)("shimmer");return(0,S.jsx)("div",{ref:t,className:Gt()(ch,Vd.A.isLoading,{[lh]:e})})}),mh=(0,p.memo)(({titleCharCount:e,subtitleCharCount:t,isCircle:n})=>{const a=(0,p.useId)();return(0,S.jsx)(qs.v,{id:a,variant:"naked",size:"sm","aria-hidden":!0,titleGap:"8px",media:(0,S.jsx)(ph,{isCircle:n}),title:(0,S.jsx)(Md.Y,{variant:"bodyMedium",charCount:e,className:Gt()(uh,dh),isLoading:!0}),subtitle:(0,S.jsx)(Md.Y,{variant:"bodySmall",charCount:t,className:Gt()(uh,hh),isLoading:!0})})}),gh=[{titleCharCount:28,subtitleCharCount:17,isCircle:!1},{titleCharCount:25,subtitleCharCount:14,isCircle:!1},{titleCharCount:21,subtitleCharCount:15,isCircle:!1},{titleCharCount:20,subtitleCharCount:10,isCircle:!1},{titleCharCount:19,subtitleCharCount:14,isCircle:!1},{titleCharCount:24,subtitleCharCount:13,isCircle:!1}],fh="search-suggestions-loading-dropdown",vh=(0,p.memo)(()=>(0,S.jsx)(od,{shouldShowDropdown:!0,id:fh,testId:fh,children:gh.map((e,t)=>(0,S.jsx)(mh,{titleCharCount:e.titleCharCount,subtitleCharCount:e.subtitleCharCount,isCircle:e.isCircle},t))})),bh="IZn87aYpceHETnxIcOQ3",yh=({query:e})=>(0,S.jsx)(od,{shouldShowDropdown:!0,id:"search-suggestions-offline-dropdown",children:(0,S.jsxs)("div",{className:bh,children:[(0,S.jsx)(jr.E,{variant:"bodyMediumBold",as:"p",semanticColor:"textBase",children:r.Ru.get("web-player.search.suggestions.offline.title",{query:e})}),(0,S.jsx)(jr.E,{variant:"bodySmall",as:"p",semanticColor:"textSubdued",children:r.Ru.get("web-player.search.suggestions.offline.description")})]})});var xh=o(35964),wh=o(75072),_h=o(26843);const Ah=Spicetify.GraphQL.Definitions["searchSuggestions"]=new wh.l("searchSuggestions","query","a2a6e5d400e2a8331128edb2d45f9eeb2c9445ca95b4859ae7da977815928ddf",null);var Sh=o(12295),Eh=o(82597),Ch=o(5671),jh=o(36285),Ih=o(82761),Th=o(2139),Nh=o(3166),Lh=o(89478),kh=o(96777),Rh=o(65479),Ph=o(50201),Dh=o(74777),Mh=o(95438),Oh=o(10183);const Vh=[],zh=(e,t)=>{const n=(0,xh.H)(),[a]=(0,bu.d7)(e,200,{leading:!0,trailing:!0,maxWait:200}),{data:r,loading:i,error:s}=((e,t)=>(0,_h.I)(Ah,e,t))({query:a,limit:30,numberOfTopResults:30,offset:0,includeAuthors:n},{enabled:t&&!!a,gcTime:9e5,staleTime:3e5,placeholderData:ze.rX,abortRequestWhenInactive:!1}),{items:o,queryFromResponse:c}=(0,p.useMemo)(()=>{const e=r?.searchV2?.query??"";return{queryFromResponse:e,items:Hh(r,e)}},[r]);return{items:o,query:c,loading:i,error:!!s}};function Hh(e,t){if(!e?.searchV2?.topResultsV2?.itemsV2)return Vh;const n=e.searchV2.topResultsV2.itemsV2.map(e=>function(e,t){switch(e.__typename){case"AlbumResponseWrapper":return(0,Sh.l)(e,void 0);case"ArtistResponseWrapper":return(0,Eh.f)(e,void 0);case"EpisodeResponseWrapper":return(0,Ih.t)(e,void 0);case"GenreResponseWrapper":return(0,Th.z)(e,void 0);case"PlaylistResponseWrapper":return(0,Nh.G)(e,void 0);case"TrackResponseWrapper":return(0,Rh.g)(e,[],void 0);case"UserResponseWrapper":return(0,Ph.n)(e,void 0);case"PreReleaseResponseWrapper":return(0,kh.M)(e,void 0);case"AuthorResponseWrapper":return(0,jh.j)(e,void 0);case"UnknownTypeWrapper":if((0,Mh.h)(e._uri)){const{name:t,images:n}=(0,Dh.zK)();return{uri:e._uri,type:Qa.c.LIKED_SONGS,name:t,images:n,color:void 0}}return null;case"PodcastResponseWrapper":return(0,Lh.yY)(e,void 0);case"AudiobookResponseWrapper":return(0,Ch.V)(e,void 0);case"SearchAutoCompleteEntity":return function(e,t){return{uri:e.data.uri,type:Qa.c.AUTOCOMPLETE,name:e.data.text,searchTerm:t}}(e,t);case"SearchSectionEntity":return null;default:return(0,Q.k)(e),null}}(e.item,t)).filter(Oh.P);return n}const Fh="iFJeMO0qsyi7S7AUo1_x",Bh=(0,p.memo)(({inputRef:e,setSelectedSearchItemId:t,query:n,onNavigateToAllResults:a})=>{const{spec:i,logger:s}=(0,Io.r)(fd,{}),{addToSearchHistory:o}=(0,kd.k)(),{currentlyPlayingContextUri:c,disallowAddToQueue:l}=(0,ar.o)(e=>({currentlyPlayingContextUri:e?.context.uri??null,disallowAddToQueue:(e?.restrictions.disallowAddToQueueReasons||[]).length>0}),rr.a),u=(0,p.useCallback)((e,t,n=!1)=>{const a=e.uri,r=i.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:a,position:t}),c=n?r.keyStrokeUiNavigate({destination:a}):r.hitUiNavigate({destination:a});s.logInteraction(c),e.type!==Qa.c.AUTOCOMPLETE&&o([e])},[i,s,o]),d=(0,p.useCallback)((e,t)=>{const n=i.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e,position:t}).playPauseButtonFactory().hitPause({itemToBePaused:e});s.logInteraction(n)},[i,s]),h=(0,p.useCallback)((e,t)=>{const n=i.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e,position:t}).playPauseButtonFactory(),a=c===e?n.hitResume({itemToBeResumed:e}):n.hitPlay({itemToBePlayed:e});return s.logInteraction(a)},[i,s,c]),m=(0,p.useCallback)((e,t,n,a)=>{const r=i.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e,position:a}).saveButtonFactory();if(t&&n){const t=r.hitFollow({itemToBeFollowed:e});s.logInteraction(t)}else if(t&&!n){const t=r.hitUnfollow({itemToBeUnfollowed:e});s.logInteraction(t)}else if(!t&&n){const t=r.hitLike({itemToBeLiked:e});s.logInteraction(t)}else if(!t&&!n){const t=r.hitRemoveLike({itemNoLongerLiked:e});s.logInteraction(t)}},[i,s]),g=(0,p.useCallback)((e,t,n)=>{const a=i.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e,position:n}).addToQueueButtonFactory(),r=t?a.hitAddItemToQueue({itemToAddToQueue:e}):a.hitRemoveItemFromQueue({itemToRemoveFromQueue:e});s.logInteraction(r)},[i,s]),{items:f,query:v,loading:b}=zh(n??"",!0),y=(0,p.useCallback)(()=>{if(v){a(v);const e=i.searchSuggestionsCardsFactory().viewAllResultsButtonFactory().hitUiNavigate({destination:`spotify:search:${v}`});s.logInteraction(e)}},[i,s,a,v]),x=(0,p.useMemo)(()=>Ou("search-results"),[]);return!(0,Ec.n)()?(0,S.jsx)(yh,{query:n}):b?(0,S.jsx)(vh,{}):(0,S.jsx)(iu.ql.Provider,{value:"search",children:(0,S.jsx)(Ld,{inputRef:e,setSelectedSearchItemId:t,items:f,isSaveButtonVisible:!0,isAddToQueueButtonVisible:!l,shouldShowDropdown:!!f.length,trackNavigateToItem:u,trackPause:d,trackPlay:h,trackToggleSave:m,trackToggleAddToQueue:g,onNavigateToSearchQuery:a,header:(0,S.jsx)(oh,{}),defaultSelectedSubElement:"title",subElementsForType:x,footer:(0,S.jsx)(ku.n,{size:"small",className:Fh,onClick:y,children:r.Ru.get("web-player.search.suggestions.view-all-results",{query:v??""})})})})});var Uh=o(42359),qh=o(42975),Wh=o(80850);const Qh=(0,p.memo)(function({onFocus:e,onLeadingIconClick:n,inputRef:a}){const i=(0,re.zy)(),s="/search"===i.pathname,o=(0,Ft.g)(),{setIsGlobalNavDraggable:c}=(0,p.useContext)(Sr),u=(0,p.useRef)(null),d=a||u,h=(0,p.useRef)(null),m=(0,iu.SF)(),{mainLandmarkRef:g}=(0,nn.JT)(),f=(0,l.wA)(),v=(0,t.NC)(Ae.dX2),b=(0,t.NC)(Ae.x4z),y=(0,ve.V)(),[x,w]=(0,p.useState)(!1),[{category:_,query:A},E]=(0,Uh.o)(),[C,j]=(0,p.useState)(A),I=v?C:A,T=(0,p.useCallback)(()=>d.current?.value||"",[d]),N=(0,p.useCallback)(e=>{d.current&&(d.current.value=e)},[d]);(0,p.useEffect)(()=>{v&&(j(A),N(A))},[v,A,N]);const[L,k]=(0,p.useState)(void 0),{spec:R}=(0,Dl.D)(hi.x,{}),{spec:P,logger:D}=(0,Dl.D)(Iu,{}),[M,O,V]=(()=>{const[e,t]=(0,p.useState)(!1),n=(0,p.useRef)(null);return[e,e=>{"compositionstart"===e.type&&t(!0),"compositionend"===e.type&&(t(!1),n.current&&(n.current(),n.current=null))},e=>{n.current=e}]})(),z=(0,bu.YQ)(e=>{const t=P.keyStrokeChangeSearchQuery({searchQueryString:e}),{interactionId:n}=D.logInteraction(t);E(e,_,!I,n),m.current&&(m.current.scrollTop=0)},200,{trailing:!0}),H=(0,p.useCallback)((e=!1)=>{d.current!==document.activeElement&&(h.current=document.activeElement,d.current&&d.current.focus()),e&&d.current?.select()},[d]);(0,Wh.x)(qh.W.SHOW_SEARCH,()=>H(!0)),(({location:e,searchQuery:t,setValue:n,isEnabled:a})=>{const r=(0,p.useRef)(e.key),i=e.key;(0,p.useEffect)(()=>{r.current!==i&&a&&(n(t),r.current=i)},[i,t,n,a])})({location:i,searchQuery:I,setValue:N,isEnabled:!z.isPending()&&!v});const F=()=>{d.current&&d.current.focus();const e=P.hitTextClear();e&&D.logInteraction(e),c?.(!1),N(""),j("")},B=e=>{e.preventDefault();const t=T();t&&D.logInteraction(P.keyStrokeSearch());const n=(0,Ls.o_h)(t,{parseUnknown:!0});if(n?.type===Ls.NQG.AD){const e=(0,Ls.cEw)(n.id);if(n.id===e)return;f((0,Nu.gt)(n.id))}else n?(z.cancel(),o(`${n.toURLPath(!0)}${(e=>{try{return new URL(e).search}catch(e){return""}})(t)}`,{state:{preventMoveFocus:!0,redirectToHome:(0,Ls.crr)(n)}})):t?z(t):o("/search",{state:{preventMoveFocus:!0}});t&&g.current&&g.current.focus()},U=(0,p.useCallback)(e=>{z(e),requestAnimationFrame(()=>{g.current&&g.current.focus()})},[z,g]),q=(0,p.useCallback)(()=>{c?.(!1),w(!0),e?.()},[e,c]),W=(0,p.useCallback)(()=>{w(!1),c?.(!0)},[c]),Q=(0,_n.Nf)();(0,p.useEffect)(()=>{const e=d.current,t=(0,mn.p)(gn.r.OPEN_SEARCH_MODAL);return e&&sn()(e).bind(t,()=>{Q({type:"OPEN"})}),()=>{sn()(e).unbind(t)}},[d,Q]);const G=r.Ru.get("search.search-for-label");let Z=null;return v&&I?Z=(0,S.jsx)(Bh,{query:I,inputRef:d,setSelectedSearchItemId:k,onNavigateToAllResults:U}):b?Z=x?(0,S.jsx)(ah,{}):null:y||(Z=(0,S.jsx)(Rd,{hasQuery:!!T(),inputRef:d,setSelectedSearchItemId:k})),(0,S.jsx)("div",{className:Bu,children:(0,S.jsx)(yu.E,{as:"form",onSubmit:B,role:"search",className:td,onClick:n,iconLeading:(0,S.jsx)(Tr.Zp,{label:r.Ru.get("navbar.search"),children:(0,S.jsxs)("div",{children:[(0,S.jsx)(ui.H,{className:ad,condensed:!0,iconOnly:xu.C,"aria-label":r.Ru.get("navbar.search"),onClick:n}),(0,S.jsx)(xu.C,{"":"search-icon",className:nd,"aria-hidden":!0,size:"xlarge"})]})}),iconTrailing:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Tr.Zp,{label:r.Ru.get("search.a11y.clear-input"),children:(0,S.jsx)(ui.H,{condensedAll:!0,className:id,"":"clear-button",iconOnly:xi.M,"aria-label":r.Ru.get("search.a11y.clear-input"),onClick:F})}),(0,S.jsx)(Tr.Zp,{label:r.Ru.get("browse"),children:(0,S.jsx)("div",{className:sd,children:(0,S.jsx)(ui.H,{condensedAll:!0,"":"browse-button",iconOnly:s?wu:_u,"aria-label":r.Ru.get("browse"),onClick:e=>{const t=R.browseButtonFactory().hitUiNavigate({destination:"spotify:app:search"});D.logInteraction(t),e.preventDefault(),e.stopPropagation(),o("/search",{state:{fromBrowse:!0}})},className:s?Uu:""})})})]}),children:(0,S.jsxs)("div",{className:Wu,children:[(0,S.jsx)(Au.Z,{role:"combobox","aria-owns":Nd,"aria-controls":Nd,"aria-expanded":!0,"aria-activedescendant":L,"":"search-input","aria-label":G,"data-top-bar-search":!0,className:Gt()(Qu,rd),type:"search",spellCheck:!1,placeholder:G,ref:d,onKeyDown:e=>{const t=T();if("Escape"===e.key&&(e.stopPropagation(),t&&F()),"Enter"===e.key&&""!==t){if(M)return;B(e)}},onFocus:q,onBlur:W,onChange:e=>{if(!e.currentTarget)return;const t=e.currentTarget.value;M?V(()=>{c?.(""!==t),v?j(t):z(t)}):(c?.(""!==t),v?j(t):z(t))},onCompositionStart:O,onCompositionEnd:O}),(0,S.jsxs)("div",{className:Gt()(qu),"aria-hidden":"true",children:[(0,S.jsx)("span",{className:Gu,children:G}),(0,S.jsx)("span",{className:Zu,children:(0,mn.p)(gn.r.OPEN_SEARCH_MODAL).at(0)?.split("+").map(e=>(0,S.jsx)(jr.E,{as:"kbd",variant:"bodyMedium",className:$u,children:(0,Lu.O)(e)},e))})]}),Z]})})})}),Gh=(0,p.createContext)({isBannerVisible:!1,setIsBannerVisible:()=>{}}),Zh=({children:e})=>{const[t,n]=(0,p.useState)(!1),a=(0,p.useMemo)(()=>({isBannerVisible:t,setIsBannerVisible:n}),[t,n]);return(0,S.jsx)(Gh.Provider,{value:a,children:e})};var $h=o(56317);const Kh=e=>{if(!e.current)return!1;return e.current.offsetWidth>400},Yh=e=>!!e.current&&(e.current===document.activeElement||""!==e.current.value),Jh=(e,t)=>!!e.current&&(e.current.offsetLeft<=t&&t<=e.current.offsetLeft+e.current.offsetWidth),Xh=({globalNavContainerRef:e,className:n})=>{const a=(0,T.mv)(),i=a.operatingSystem===$h.f.Windows,s=i||a.operatingSystem===$h.f.Linux,{isWeb:o,isPWA:c,isDesktop:l}=(0,Ut.V)(),u=o||c,{isGlobalNavDraggable:d}=(0,p.useContext)(Sr),h=(0,t.NC)(Ae.s_6,{loadingValue:Ae.G2o.NONE})===Ae.G2o.GLOBAL_NAV,[m,g]=(0,p.useState)(!1),[f,v]=(0,p.useState)(!1),[b,y]=(0,p.useState)(!1),x=(0,p.useRef)(null),w=(0,p.useRef)(null),_=(0,p.useRef)(null),A=(0,p.useRef)(null),E=(0,p.useRef)(null),C=(0,ca.h)(),j=(0,p.useRef)(!1);(0,p.useEffect)(()=>{w.current&&(w.current.tabIndex=f&&!b?-1:0)},[f,b]);const I=(0,p.useCallback)(({width:t})=>{t&&(E?.current&&t!==E.current&&(j.current=t>E.current),E.current=t),((e,t,n,a,r,i)=>{if(!n.current||!t.current||!e.current)return;const s=n.current,o=Math.max(350,Math.min(i?604:546,.5*s.offsetWidth)),c=Jh(e,s.offsetWidth/2-o/2)||Jh(e,s.offsetWidth/2+o/2)||Jh(t,s.offsetWidth/2-o/2)||Jh(t,s.offsetWidth/2+o/2);a!==c&&r(c)})(_,A,e,m,g,h),((e,t,n,a)=>{e.current&&(Kh(e)&&!0===t&&n?a(!1):Kh(e)||!1!==t||n||a(!0))})(x,j.current,f,v),((e,t,n)=>{e.current&&Yh(e)&&(t||n(!0))})(w,b,y)},[b,h,e,f,m]);var N,L,k;(0,kr.w)({refOrElement:e,onResize:I}),N=A,L=()=>{e.current&&I({width:null})},k={subtree:!0,childList:!0},(0,p.useEffect)(()=>{if(N.current){const e=new MutationObserver(L);return e.observe(N.current,k),()=>e.disconnect()}return()=>{}},[N,L,k]);const R=(0,p.useCallback)(e=>{e?.preventDefault(),e?.stopPropagation(),Yh(w)||y(!b);(!f||f&&!b)&&w.current?.focus()},[b,f]),{isBannerVisible:P}=(0,p.useContext)(Gh);return(0,S.jsxs)("div",{className:Gt()(Br,n,Xr,{[Jr]:!d,[Yr]:m||f,searchInputCollapsed:f,forceExpandSearchInput:b,[ei]:C,[Ur]:!P}),ref:e,id:"global-nav-bar","":"global-nav-bar",children:[(0,S.jsx)(_r,{href:"#main-view",children:r.Ru.get("navbar.a11y.skip-navigation")}),(0,S.jsxs)("div",{className:Gr,ref:_,children:[u&&(0,S.jsx)(cr.N_,{to:"/",className:Zr,children:(0,S.jsx)(Ar.G,{height:32,condensed:!0})}),c&&(0,S.jsx)(tu,{className:Jr}),l&&(0,S.jsxs)(pu,{children:[s?(0,S.jsx)(fu,{}):(0,S.jsx)(mu,{}),(0,S.jsx)(tu,{className:Jr})]})]}),(0,S.jsx)("div",{className:$r,children:(0,S.jsxs)("div",{className:Kr,ref:x,children:[(0,S.jsx)(ou,{className:Qr}),(0,S.jsx)(Qh,{inputRef:w,onLeadingIconClick:R,onFocus:()=>y(!0)}),h&&(0,S.jsx)(li,{containerRef:e,contentRightRef:A,isSearchInputCollapsed:f,forceExpandSearchInput:b})]})}),(0,S.jsxs)(gu,{children:[(0,S.jsx)(Yl,{className:Jr,ref:A}),i&&!o?(0,S.jsx)(vu,{}):(0,S.jsx)(S.Fragment,{})]})]})};var ep=o(32639);const tp=({elementRef:e})=>{const{item:t}=(0,ar.o)(e=>({item:e?.item}),(e,t)=>e.item?.uri===t.item?.uri),{spec:n,logger:a}=(0,yn.$)(ep.t,{data:{uri:t?.uri??""}}),{min:i,max:s,size:o,setSize:c}=Wn(),l=(0,p.useMemo)(()=>[[i,s]],[i,s]),u=(0,Dn.XB)(),d=(0,cn.W)(),h=(0,p.useCallback)((e,t)=>{e!==t&&a.logInteraction(n.npvUiResizeFactory().dragUiResize({startSizePx:e,endSizePx:t}))},[a,n]);return u===Mn.Z.Disabled?null:(0,S.jsx)(dn,{elementRef:e,placement:"inline-start",label:r.Ru.get("resize.sidebar"),onResize:c,size:o,ranges:l,decreaseSizeKeyboardCombination:d?(0,mn.p)(gn.r.LEFT_SIDEBAR_DECREASE_WIDTH):(0,mn.p)(gn.r.NPV_SIDEBAR_DECREASE_WIDTH),increaseSizeKeyboardCombination:d?(0,mn.p)(gn.r.LEFT_SIDEBAR_INCREASE_WIDTH):(0,mn.p)(gn.r.NPV_SIDEBAR_INCREASE_WIDTH),afterResizing:h})},np=(0,p.createContext)(null);var ap=o(56854),rp=o(97302);const ip=({children:e})=>{const[t,n]=(0,p.useState)(!1),[a,r]=(0,p.useState)(""),i=(0,p.useRef)(null),o=(0,rp.O)(),c=(0,ap.C)(),u=(0,l.wA)(),d=(0,p.useCallback)(e=>{t?(c(a),r(""),n(!1),u((0,s.np)())):(e&&r(e),o.startActiveDiscovery(),n(!0),u((0,s.ae)()))},[t,c,a,u,o]),h=(0,p.useMemo)(()=>({triggerRef:i,toggleDevicePicker:d,isPickerOpen:t}),[d,t]);return(0,S.jsx)(np.Provider,{value:h,children:e})};var sp=o(26904);const op=()=>((0,sp.q)(),null),cp=()=>(0,N.S)().isOpen?null:(0,S.jsx)(op,{}),lp=p.lazy(async()=>await Promise.all([o.e(8381),o.e(8282),o.e(172),o.e(1206)]).then(o.bind(o,87994)).then(e=>({default:e.RootDialogs}))),up=e=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(lp,{...e})}),dp=({children:e,debugLabel:t})=>(0,S.jsx)(Fn,{gridRow:"global-nav / now-playing-bar",gridColumn:"left-sidebar / right-sidebar",zIndex:"var(--above-everything-grid-area-z-index)",debugLabel:t,children:e});var hp=o(27249);const pp=()=>(0,S.jsx)("div",{id:hp.K,style:{zIndex:"1"}}),mp=p.lazy(async()=>{const{NowPlayingBar:e}=await Promise.all([o.e(4306),o.e(446),o.e(1037),o.e(9676),o.e(3),o.e(582),o.e(26),o.e(7626),o.e(3322)]).then(o.bind(o,50585));return{default:e}}),gp=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(mp,{})});var fp=o(72961);const vp=p.lazy(async()=>{const{WatchFeedViewContainer:e}=await o.e(777).then(o.bind(o,85946));return{default:e}}),bp=()=>{const{close:e}=(0,fp.P)();return(0,S.jsx)(h.s,{onError:t=>{e({resumePlayback:!0}),(0,An.Jy)(t,"WatchFeedView")},children:(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(vp,{})})})},yp=p.lazy(async()=>{const{SnackbarProvider:e}=await Promise.resolve().then(o.bind(o,8017));return{default:e}}),xp=e=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(yp,{...e})}),wp=p.lazy(async()=>{const{FeedbackBar:e}=await o.e(8552).then(o.bind(o,79478));return{default:e}}),_p=e=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(wp,{...e})}),Ap=p.lazy(async()=>{const{PageErrorTemplate:e}=await o.e(352).then(o.bind(o,58574));return{default:e}}),Sp=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Ap,{})}),Ep=p.lazy(async()=>{const{TopBar:e}=await o.e(5094).then(o.bind(o,20722));return{default:e}}),Cp=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Ep,{})}),jp=p.lazy(async()=>{const{Billboard:e}=await o.e(8588).then(o.bind(o,57502));return{default:e}}),Ip=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(jp,{})}),Tp=p.lazy(async()=>{const{LeaderboardComponent:e}=await o.e(9500).then(o.bind(o,5120));return{default:e}}),Np=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Tp,{})}),Lp=p.lazy(async()=>{const{VideoPlayer:e}=await Promise.all([o.e(4306),o.e(9676),o.e(3),o.e(7988)]).then(o.bind(o,27681));return{default:e}}),kp=e=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Lp,{...e})});var Rp=o(51938);const Pp=p.memo(()=>{const e=(0,re.zy)(),t=(0,En.m)();return(0,p.useEffect)(()=>{t.notifyViewLoaded(e.pathname)},[t,e.pathname]),null});var Dp=o(98014),Mp=o(48501),Op=o(86104),Vp=o(80756);const zp="music",Hp="2.0.0",Fp="default",Bp="17.0.0";function Up(e){return new qp(e)}class qp{constructor(e){this._path=[{name:"desktop-cinema-mode-npv"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}peekButtonFactory(){return new qp.PeekButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}toggleAudioVideoButtonFactory(e){return new qp.ToggleAudioVideoButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}fullscreenButtonFactory(){return new qp.FullscreenButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}subtitlesButtonFactory(){return new qp.SubtitlesButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}closeButtonFactory(){return new qp.CloseButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}switchVariantFactory(e){return new qp.SwitchVariantEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}ambientModeFactory(){return new qp.AmbientModeEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextTitleFactory(e){return new qp.ContextTitleEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}impression(){return{app:zp,generatorVersion:Bp,specificationVersion:Hp,specificationMode:Fp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(e){e.PeekButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"peek_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(qp||(qp={})),function(e){class t{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"toggle_audio_video_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}t.Identifier={SWITCH_TO_AUDIO:"switch_to_audio",SWITCH_TO_VIDEO:"switch_to_video"},e.ToggleAudioVideoButtonEventFactory=t}(qp||(qp={})),function(e){e.FullscreenButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"fullscreen_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(qp||(qp={})),function(e){e.SubtitlesButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"subtitles_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(qp||(qp={})),function(e){e.CloseButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"close_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(qp||(qp={})),function(e){class t{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"switch_variant"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}t.Identifier={ARTWORK:"artwork",CANVAS:"canvas",HERO:"hero",LYRICS:"lyrics",VIDEO:"video"},e.SwitchVariantEventFactory=t}(qp||(qp={})),function(e){e.AmbientModeEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"ambient_mode"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}autoUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"auto",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}autoUiHide(){return{actionName:"ui_hide",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"auto",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(qp||(qp={})),function(e){e.ContextTitleEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"context_title"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Fp,...[...Array(this._path.length-1)].map(()=>"")],specVersion:[Hp,...[...Array(this._path.length-1)].map(()=>"")]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:zp,generatorVersion:Bp,interactionType:"hit",specificationMode:Fp,specificationVersion:Hp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(qp||(qp={}));const Wp=()=>{const{spec:e,logger:t}=(0,Io.r)(Up,{}),n=(0,p.useCallback)((n,a="")=>{t.logInteraction(e.toggleAudioVideoButtonFactory({identifier:n}).hitPlay({itemToBePlayed:a}))},[t,e]),a=(0,p.useCallback)(n=>{t.logInteraction(e.fullscreenButtonFactory()[n?"hitUiReveal":"hitUiHide"]())},[t,e]),r=(0,p.useCallback)(n=>{t.logInteraction(e.subtitlesButtonFactory()[n?"hitUiReveal":"hitUiHide"]())},[t,e]),i=(0,p.useCallback)(()=>{t.logInteraction(e.peekButtonFactory().hitUiReveal())},[t,e]),s=(0,p.useCallback)(()=>{const{interactionId:n}=t.logInteraction(e.closeButtonFactory().hitUiHide());return n},[t,e]),o=(0,p.useCallback)(n=>{t.logInteraction(e.switchVariantFactory({identifier:n}).hitUiReveal())},[t,e]),c=(0,p.useCallback)(n=>{t.logInteraction(e.ambientModeFactory()[n?"autoUiReveal":"autoUiHide"]())},[t,e]),l=(0,p.useCallback)(n=>{t.logInteraction(e.contextTitleFactory({uri:n}).hitUiNavigate({destination:n}))},[t,e]);return(0,p.useMemo)(()=>({logAudioVideoToggleClick:n,logFullscreenButtonClick:a,logSubtitlesButtonClick:r,logShowNPVButtonClick:i,logCloseButtonClick:s,logSwitchVariantClick:o,logContextTitleClick:l,logAmbientModeTransition:c}),[c,n,s,l,a,i,r,o])};var Qp=o(38553),Gp=o(20457),Zp=o(30498);const $p=e=>{for(const t of["postEnter","postExit"])document.documentElement.removeAttribute(`data-${e}-${t}`)};var Kp=o(79729),Yp=o(59861),Jp=o(86182);const Xp=Dp.k5n(["artwork","canvas","hero","video","lyrics"]).catch("artwork");function em({children:e}){const{leftSidebarRef:n,mainContentRef:a}=(0,nn.JT)(),r=(0,Ul._)(e=>e.state?.cinemaState??Qp.z.CLOSED),i=(0,Ft.g)(),s=(0,Ul.M)(),[o,c]=(0,p.useState)(Qp.z.CLOSED),l=(0,p.useRef)(o),[u,d]=(0,Yp.x)("cinema-media-preference",Xp),h=(0,p.useRef)(null),[m,g]=(0,p.useState)(!1),{logAmbientModeTransition:f}=Wp(),v=(0,gs.N)(Zp.Z),b=Gn(),y=(0,p.useRef)(b);(0,p.useLayoutEffect)(()=>{y.current=b},[b]);const{setVideoPlayerUIFlag:x}=(0,Gp.d)(),w=(0,p.useRef)(!1),_=(0,t.NC)(Ae.gQu),A=(0,p.useCallback)(e=>{if(w.current!==e){e&&v.setWindowButtonsVisibility(!1),g(e),f(e);const t=null!==document.fullscreenElement;e||t||v.setWindowButtonsVisibility(!0)}w.current=e},[f,v]),E=(0,p.useCallback)(e=>{if(e===o)return;const t=function(e,t){if(e===Qp.z.NOW_PLAYING_VIEW&&t===Qp.z.LIBRARY||e===Qp.z.LIBRARY&&t===Qp.z.NOW_PLAYING_VIEW)return"cinema-library-npv";switch(e===Qp.z.CLOSED?t:e){case Qp.z.LIBRARY:return"cinema-library";case Qp.z.NOW_PLAYING_VIEW:default:return"cinema-npv"}}(e,l.current),{property:r,value:i}=y.current;n.current?.style.setProperty(r,`${i}`),a.current?.style.setProperty(r,`${i}`);const s=()=>{null!==document.fullscreenElement||v.setWindowButtonsVisibility(!0),$p("right-sidebar-open"),l.current=e};(0,Kp.G)({transitionKey:t,in:e!==Qp.z.CLOSED,transition:()=>{if(e===Qp.z.CLOSED)x(H.nP.cinema,!1),g(!1);c(e)},onTransitionFinished:s,onTransitionFinishedRejection:()=>{$p(t),s()}})},[o,n,a,v,x]),C=(0,p.useCallback)((e,t)=>{if(_||E(e),r===e)return;const n=s();i({...n,search:"?viewMode=1"}),i(n,{state:{cinemaState:e,navigationReason:t?Si.$.userInteraction(t):void 0},replace:!0})},[E,s,_,r,i]);(0,p.useEffect)(()=>{if(!_)return;(0,Jp.g)(Qp.z)(r)&&r!==o&&E(r)},[r,E,o,_]);const j=(0,p.useCallback)((e,t)=>{_?C(e,t):E(e)},[E,_,C]),I=(0,p.useCallback)(e=>{e!==u&&(h.current=u,d(e))},[u,d]),T=(0,p.useMemo)(()=>({currentVariant:u,previousVariant:h.current}),[u]);return(0,S.jsx)(Op.y.Provider,{value:j,children:(0,S.jsx)(Op.s.Provider,{value:o,children:(0,S.jsx)(Mp.y.Provider,{value:A,children:(0,S.jsx)(Mp.g.Provider,{value:m,children:(0,S.jsx)(Vp.N.Provider,{value:I,children:(0,S.jsx)(Vp.P.Provider,{value:T,children:e})})})})})})}var tm=o(39329),nm=o(82898),am=o(24818);const rm="BL44A7q5WlDQDM_1JnBq",im="CD5XGrOj7QrP3Ln3kTL8",sm="SStiilUaGKpxUmi8d0Ch",om="HWM1ud3la6veybGD0me6",cm="UdkCTPh6LtQRbmxedVQN",lm="rcz4YdIz9Tls7jnoD97k",um="fNK75RQdd9R1UUEEEaqN",dm="lnChYg1SUbOHAioPko4f";function hm({children:e}){const t=(0,ar.o)(e=>e?.item?.uri),n={appear:dm,appearActive:um,appearDone:lm,enter:cm,enterActive:om,enterDone:sm,exit:im,exitActive:rm},a=p.createRef();return void 0!==t?(0,S.jsx)("div",{children:(0,S.jsx)(am.A,{mode:"out-in",children:(0,S.jsx)(Lc.A,{classNames:n,nodeRef:a,appear:!0,addEndListener:e=>{a.current?.addEventListener("transitionend",e,!1)},children:(0,S.jsx)("div",{ref:a,children:e})},t)})}):(0,S.jsx)(S.Fragment,{children:e})}var pm=o(41205);const mm="eDAOcHFo38J9DpKwbc3n",gm="OJnLE_7zXqf8eKorQpQI",fm="w3RBm0dgJerrtbWOvNpr";function vm(){return(0,S.jsxs)("div",{className:mm,children:[(0,S.jsx)("div",{className:gm}),(0,S.jsx)("div",{className:fm})]})}const bm="SmAQxUpnHoiymeu2lHla";function ym({children:e,className:t}){return(0,S.jsx)("div",{className:Gt()(bm,t),children:e})}const xm="HTIKxmm0Wqn142jJBCue",wm=({children:e})=>(0,S.jsx)(ym,{className:xm,children:e});function _m({children:e}){const t=(0,p.useRef)(null),n=(0,p.useRef)(null);return(0,kr.w)({refOrElement:n,onResize:({height:e})=>{0===e?t.current?.style.setProperty("position","absolute"):(t.current?.style.removeProperty("position"),t.current?.style.setProperty("grid-row-end",`span ${e+16}`))},observeOnly:"height"}),(0,S.jsx)("div",{ref:t,children:(0,S.jsx)("div",{ref:n,children:e})})}var Am=o(40118),Sm=o(44714),Em=o(42901),Cm=o(53532),jm=o(55604),Im=o(17469),Tm=o(78570),Nm=o(2950),Lm=o(59751),km=o(11540),Rm=o(13335),Pm=o(15396),Dm=o(6552),Mm=o(45008);const Om=({item:e})=>{const n={uri:e.uri,numberOfChapters:jm.Kp},{data:a,isLoading:r,error:i}=(0,Nm.X)({queryKey:["queryNpvEpisode",n],staleTime:jm.Ff,gcTime:jm.CD,variables:n}),s=(0,Dm.d)(),o=(0,t.NC)(Ae.xEc),c=(0,Mm.d)(e.uri)?.episodeOrChapter,l=(0,Lm.SB)(a?.episodeUnionV2),u=(0,Lm.lz)(a?.episodeUnionV2);if(!e.uri||!l||r||i)return null;const d=(0,Rm.J)(c);return(0,S.jsxs)(wm,{children:[s&&(0,S.jsx)(_m,{children:(0,S.jsx)(Pm.GatedTopCommentsCard,{uri:l.uri})}),(0,S.jsx)(_m,{children:(0,S.jsx)(Em.N,{episode:l})}),!l.originalEpisode&&(0,S.jsx)(_m,{children:(0,S.jsx)(Am.c,{episode:l})}),(0,S.jsx)(_m,{children:(0,S.jsx)(Im.F,{episode:l})}),(0,S.jsx)(_m,{children:(0,S.jsx)(Sm.I,{episode:l})}),o&&u&&(0,S.jsx)(_m,{children:(0,S.jsx)(Tm.m,{coverArt:u.coverArt||void 0,description:u.htmlDescription||"",name:u.name,publisher:u.publisher?.name,uri:u.uri})}),d&&(0,S.jsx)(_m,{children:(0,S.jsx)(km.n,{episode:e,readAlongUrl:d})}),(0,S.jsx)(_m,{children:(0,S.jsx)(Cm.A,{sectionGap:16})})]})},Vm=({item:e})=>(0,Ec.n)()?(0,S.jsx)(Om,{item:e}):(0,S.jsx)(S.Fragment,{});var zm=o(16517);const Hm=({item:e,context:t})=>{const{loading:n,error:a,data:r}=(0,zm.k)({nowPlayingUri:e.uri,playContextUri:t?.uri??""});return n?(0,S.jsx)(S.Fragment,{children:"Loading..."}):a?(0,S.jsxs)(S.Fragment,{children:["Error: ",String(a)]}):"NpvPageContent"===r?.npvPageContent?.__typename&&r.npvPageContent.sections?(0,S.jsx)(S.Fragment,{children:r.npvPageContent.sections.items.map(e=>(0,S.jsxs)("section",{children:[(0,S.jsx)("p",{children:e.title?.transformedLabel}),(0,S.jsx)("p",{children:e.uri}),(0,S.jsx)("p",{children:e.contentType})]},e.uri))}):(0,S.jsx)(S.Fragment,{children:"Error: empty result"})};var Fm=o(70916),Bm=o(85010),Um=o(51986),qm=o(49471),Wm=o(23544),Qm=o(201),Gm=o(41852);var Zm=o(36276);const $m="bMe8DpNWGTTWcxgLJODd",Km=({item:e,variant:n})=>{const a=(0,t.NC)(Ae.LX5),{loading:r,error:i,data:s}=(0,Zm.i)(e),o=(0,Bm.Q)(e?.metadata?.context_uri??void 0);if(!e.uri||!(e=>"Artist"===e?.__typename)(s?.artistUnion)||!(e=>"Track"===e?.__typename)(s?.trackUnion)||r||i)return null;const{profile:c,stats:l,visuals:u,profile:{externalLinks:d}}=s.artistUnion,{credits:h,relatedVideos:p}=s.trackUnion,m=a&&(e=>"RelatedVideoPage"===e?.__typename)(p)&&p.totalCount>0,g=s.artistUnion.goods.concerts.totalCount>0,f=s.trackUnion.merch.totalCount>0;return(0,S.jsxs)(S.Fragment,{children:[m&&(0,S.jsx)("div",{className:$m,style:{"--section-background-base":"transparent","--section-padding":0},children:(0,S.jsx)(Gm.a,{data:s,item:e,withRelatedVideosHeadingShadow:"video"===n,withRelatedVideosHeadingSpacingBottom:!0,fullBleedGap:48,carouselCardWidth:292})}),(0,S.jsxs)(wm,{children:[(0,S.jsx)(_m,{children:(0,S.jsx)(Um.F,{artistUri:s.artistUnion.uri,artist:c,stats:l,visuals:u,externalLinks:d.items,preferFullBleed:!0})}),o&&(0,S.jsx)(_m,{children:(0,S.jsx)(Fm.t,{variant:"cinema"})}),h&&(0,S.jsx)(_m,{children:(0,S.jsx)(qm.V,{data:h,trackUri:e.uri})}),g&&(0,S.jsx)(_m,{children:(0,S.jsx)(Qm.I,{artistId:s.artistUnion.id,data:s.artistUnion.goods.concerts})}),f&&(0,S.jsx)(_m,{children:(0,S.jsx)(Wm.J,{artistId:s.artistUnion.id,artistUri:s.artistUnion.uri,merch:s.trackUnion.merch.items})}),(0,S.jsx)(_m,{children:(0,S.jsx)(Cm.A,{sectionGap:16})})]})]})},Ym=(0,p.createContext)({masonryItemRefs:{},addMasonryItemRef:()=>{},removeMasonryItemRef:()=>{}}),Jm=({children:e})=>{const[t,n]=(0,p.useState)({}),a=(0,p.useCallback)((e,t)=>{t&&n(n=>({...n,[e]:t}))},[]),r=(0,p.useCallback)(e=>{n(t=>{const{[e]:n,...a}=t;return a})},[]),i=(0,p.useMemo)(()=>({masonryItemRefs:t,addMasonryItemRef:a,removeMasonryItemRef:r}),[t,a,r]);return(0,S.jsx)(Ym.Provider,{value:i,children:e})};var Xm=o(9781);const eg="tnY8XVx1EgN5mK2qT8wO",tg="_OuZvCgdApoDHDDdFZfB",ng="U7vQpwrtDT3rl52q0AIf",ag={cssStyles:{"--section-background-base":"var(--background-elevated-base)","--section-padding":pm.spacer24,"--section-border-radius":pm.spacer16},headerVariant:"titleSmall"};function rg({item:e,variant:n,context:a}){const{cssStyles:r}=(0,Xm.Y)(),i=(0,ca.h)();let s=null;return(0,t.NC)(Ae.SEo)?s=(0,S.jsx)(Hm,{item:e,context:a}):(0,q.v)(e)&&!e.isLocal?s=(0,S.jsx)(Km,{item:e,variant:n}):(0,M.p)(e)&&(s=(0,S.jsx)(Vm,{item:e})),s?(0,S.jsxs)("div",{className:Gt()(eg,{[ng]:i}),style:r,children:[(0,S.jsx)(vm,{}),(0,S.jsx)("div",{className:tg,children:s})]}):null}function ig({item:e,variant:n,context:a}){return(0,t.NC)(Ae.k8v)?(0,S.jsx)(Jm,{children:(0,S.jsx)(Xm.T,{...ag,children:(0,S.jsx)(rg,{item:e,variant:n,context:a})})}):null}var sg=o(84628),og=o(48703),cg=o(80944),lg=o(24074);const ug=({title:e,link:t,onClick:n,className:a})=>e?t?(0,S.jsx)(cr.N_,{to:t,onClick:n,children:(0,S.jsx)(dg,{title:e,className:a})}):(0,S.jsx)(dg,{title:e,className:a}):null;function dg({className:e,title:t}){return(0,S.jsx)(jr.E,{variant:"bodyMediumBold",className:e,semanticColor:"textBase",children:t})}var hg=o(23119),pg=o(35433),mg=o(41300);function gg({item:e}){const n=(0,t.NC)(Ae.lDj);return(0,S.jsxs)("div",{className:mg.A.adHeader,children:[(0,S.jsx)(pg.A,{item:e,variant:"bodyMediumBold",semanticColor:"textBase",surface:"CINEMA_MODE"}),n&&(0,S.jsx)(hg.U,{item:e})]})}var fg=o(83498),vg=o(22141);const bg="nL0SZexZs6YujrwTuQb6",yg=({children:e,keyboardShortcut:t})=>(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{children:e}),(0,S.jsx)(jr.E,{variant:"marginal",as:"kbd",className:bg,children:t})]});var xg=o(87044),wg=o(42630),_g=o(78352),Ag=o(81147),Sg=o(8167),Eg=o(42695);const Cg="Lc8Fy9pTiV09sPIgIkHA",jg="YZOleUMz1Y4ZuKnRvtWu",Ig="YdtstFQTXYI91uq7Fo4w",Tg="g_wEwLuRJViUaXPNtUWM",Ng="cpl1AXzD81JMIHbmmFIr",Lg="AZWblmgYcbNZ2wf1J8MF",kg="RE6BUfIoROWtRB30yBHG",Rg="Xc0R3kWok3FkYeocfqN6",Pg="w6TUXPT2a5qzDorMgZoz",Dg="zJPU_JpC13g8CJ_tgKIV",Mg="xnMa0PxA0Q29p7sVXLFR",Og="qt11uUFVyGWpHNkj96lQ",Vg="TRj_Tybr9WozVUg42jUr";function zg(e){return(0,q.v)(e)||(0,W.v)(e)||(0,M.p)(e)||(0,D.d)(e)?e.name:(0,U.N)(e)?"":(0,Q.d)(e)}const Hg=({item:e,context:t,UBICallbacks:n})=>{const{logFullscreenButtonClick:a,logCloseButtonClick:i}=n,s=(0,ru.l)(),o=(0,xg.h)(),{isInFullScreen:c,isFullScreenSupported:l,toggleFullScreen:u}=(0,Sg.H)({refOrElement:document.body,shouldWakeLockScreen:!0}),d=(0,ar.o)(e=>(0,U.N)(e?.item??void 0)),h=(0,p.useRef)(null);(0,Eg.i)({ref:h,preventScroll:!0});const m=(0,p.useCallback)(()=>{a(!c),u()},[c,a,u]);return(0,S.jsxs)("div",{className:Og,children:[!d&&(0,S.jsx)(Ir.b,{menu:(0,S.jsx)(Ag.W,{context:t,item:e}),children:(0,S.jsx)(vg.e,{className:Dg,size:"small",condensed:!1,label:r.Ru.get("more.label.context",e?zg(e):"")})}),l&&!d&&(0,S.jsx)(Tr.Zp,{label:c?(0,S.jsx)(yg,{keyboardShortcut:"Esc",children:r.Ru.get("web-player.cinema-mode.fullscreen.exit")}):r.Ru.get("web-player.cinema-mode.fullscreen.enter"),children:(0,S.jsx)(ui.H,{className:Dg,iconOnly:c?wg.z:_g.T,size:"small",onClick:m,"aria-label":c?r.Ru.get("web-player.cinema-mode.fullscreen.exit"):r.Ru.get("web-player.cinema-mode.fullscreen.enter")})}),!c&&(0,S.jsx)(Tr.Zp,{label:(0,S.jsx)(yg,{keyboardShortcut:"Esc",children:r.Ru.get("web-player.cinema-mode.minimize")}),children:(0,S.jsx)(ui.H,{ref:h,className:Gt()(Dg,{[Ng]:o&&d}),iconOnly:fg.b,size:"small",onClick:()=>{const e=i();(0,yc.I)("NPV_OPEN_CINEMA_MODE_BUTTON"),s(Qp.z.CLOSED,e)},"aria-label":r.Ru.get("web-player.cinema-mode.minimize")})})]})};function Fg(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0'/><path d='M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0'/>"},{size:24,svgContent:"<path d='M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4'/><path d='M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m8.159-2.816A4 4 0 0 0 8 12a4 4 0 0 0 1.184 2.841A4 4 0 0 0 12 16a4 4 0 0 0 2.816-1.159l.012-.013.013-.012A4 4 0 0 0 16 12a4 4 0 0 0-1.184-2.841A4 4 0 0 0 12 8a4 4 0 0 0-2.841 1.184'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Bg=o(8413),Ug=o(2705),qg=o(61719);function Wg(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M0 16v-.672a4 4 0 0 1 2-3.463l3.112-1.8a1.2 1.2 0 0 0 .322-1.807l-.487-.585a5.37 5.37 0 0 1-1.353-3.175 5.3 5.3 0 0 1 .2-1.776c.172-.525.453-1.01.823-1.42a4.016 4.016 0 0 1 5.92 0c.37.41.65.895.823 1.42a5.3 5.3 0 0 1 .2 1.776 5.37 5.37 0 0 1-1.353 3.175l-.487.585A1.2 1.2 0 0 0 9.6 9.62l-.008.007A5.49 5.49 0 0 0 8.607 16zm14.72-9.029a.75.75 0 0 1 1.28.53v6a2.499 2.499 0 1 1-2.5-2.5h1V7.5a.75.75 0 0 1 .22-.53z'/>"},{size:24,svgContent:"<path d='M14.3 14.28a5.97 5.97 0 0 0 .237 7.717H1v-1.6a4 4 0 0 1 2-3.465l4.8-2.763a1.5 1.5 0 0 0 .4-2.26l-.7-.835a7.05 7.05 0 0 1-1.775-4.17 6.9 6.9 0 0 1 .264-2.33 5.2 5.2 0 0 1 1.08-1.865 5.27 5.27 0 0 1 7.77 0c.486.54.854 1.175 1.08 1.865.22.756.308 1.544.263 2.33a7.05 7.05 0 0 1-1.775 4.17l-.7.835a1.498 1.498 0 0 0 .4 2.26zm5.993-4.686a1 1 0 0 1 1.707.707v7.666a3 3 0 1 1-3-3h1v-4.666a1 1 0 0 1 .293-.707'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Qg=o(76855);function Gg(e){var t,n,a,r,i,s=e.size?fc.$Z[e.size]:e.iconSize,o=(0,fc._C)([{size:16,svgContent:"<path d='M9.44.891a4.261 4.261 0 1 1 3.171 7.895l-5.4-5.4A4.26 4.26 0 0 1 9.44.891M6.489 5.492l-5.412 6.157A2.318 2.318 0 0 0 4.35 14.92l6.156-5.412L6.49 5.492z'/>"},{size:24,svgContent:"<path d='m16.537 13.114-5.65-5.65-4.759 5.414L2 17.577A3.134 3.134 0 0 0 6.423 22l4.708-4.136zM11.87 5.62a5.511 5.511 0 1 1 6.51 6.51z'/>"}],s||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return p.createElement(fc.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,i=e.titleId,r?"<title ".concat(i?'id="'.concat(i,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Zg=o(95614),$g=o(29754);const Kg=({item:e,variant:n,hasHeroImage:a,hasCanvas:i,hasLyrics:s,UBICallbacks:o,setPreferredVariant:c})=>{const{logSwitchVariantClick:l}=o,u=(0,t.NC)(Ae.L$q),d=(0,p.useCallback)(e=>{const t=e.currentTarget.value;c(t),l(t)},[c,l]),h=(0,q.v)(e),{isSongVideoPlayingVideo:m}=(0,$g.k)();return m||!h?null:(0,S.jsx)("div",{role:"radiogroup","aria-label":r.Ru.get("web-player.cinema-mode.fullscreen.media-control-options"),className:Og,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Tr.Zp,{label:r.Ru.get("web-player.cinema-mode.artwork-mode"),children:(0,S.jsx)(ui.H,{role:"radio",value:"artwork","aria-checked":"artwork"===n,className:Gt()(Dg,{[Mg]:"artwork"===n}),iconOnly:"artwork"===n?Fg:Bg.I,size:"small","aria-label":r.Ru.get("web-player.cinema-mode.artwork-mode"),onClick:d})}),(0,S.jsx)(Tr.Zp,{label:r.Ru.get("web-player.cinema-mode.canvas-mode"),children:(0,S.jsx)(ui.H,{role:"radio",value:"canvas","aria-checked":"canvas"===n,className:Gt()(Dg,{[Mg]:"canvas"===n}),iconOnly:"canvas"===n?Ug.C:qg.d,size:"small","aria-label":r.Ru.get("web-player.cinema-mode.canvas-mode"),onClick:d,disabled:!i})}),(0,S.jsx)(Tr.Zp,{label:r.Ru.get("web-player.cinema-mode.hero-mode"),children:(0,S.jsx)(ui.H,{role:"radio",value:"hero","aria-checked":"hero"===n,className:Gt()(Dg,{[Mg]:"hero"===n}),iconOnly:"hero"===n?Wg:Qg.r,size:"small","aria-label":r.Ru.get("web-player.cinema-mode.hero-mode"),onClick:d,disabled:!a})}),u!==Ae.vkU.CONTROL&&(0,S.jsx)(Tr.Zp,{label:r.Ru.get("web-player.now-playing-view.show.lyrics"),children:(0,S.jsx)(ui.H,{role:"radio",value:"lyrics","aria-checked":"lyrics"===n,className:Gt()(Dg,{[Mg]:"lyrics"===n}),iconOnly:"lyrics"===n?Gg:Zg.q,size:"small","aria-label":r.Ru.get("web-player.now-playing-view.show.lyrics"),onClick:d,disabled:!s})})]})})},Yg=(e,t=!0)=>{(0,p.useEffect)(()=>{e&&t&&(e=>{(new Image).src=e})(e)},[e,t])};var Jg=o(76392);const Xg=e=>{const{data:t}=(0,Zm.i)(e),n={artist:null,track:null};return"Artist"===t?.artistUnion.__typename&&(n.artist=t.artistUnion),"Track"===t?.trackUnion.__typename&&(n.track=t.trackUnion),n};function ef(e){const t=e?.headerImage?.data;if("ImageV2"===t?.__typename)return(0,Jg.g)(t.sources.map(Jg.R))}const tf=e=>{const t=(0,p.useRef)(!1),{uri:n,isSongVideo:a}=(0,$g.k)();return e===n&&(t.current=a),t.current};var nf=o(35857),af=o(76394),rf=o(65552),sf=o(37826),of=o(39981),cf=o(6478);const lf="800",uf="cinema-mode-container-animation",df="cinema-mode-container-animation-reverse",hf="s18xL9Qrl0nM5otfAnJA",pf="Z8dGiK41IPEZPKEZQ7_y",mf="G6iWriWNxJHrMzx3wyva",gf="vSR_mhz5k4OFWTu7bj5i",ff="RqJVnJS88DAQTcHQGqmC",vf=({context:e,item:n,variant:a,ambientMode:r,setPreferredVariant:i,className:s})=>{const{title:o,link:c}=(0,sf.g)(n,e),l=(0,t.NC)(Ae.mZP),{artist:u,track:d}=Xg(n),h=Zn(),m=(0,lg.H)(e.uri),g=Wp(),f=(0,q.v)(n),v=(0,M.p)(n),{hasLyrics:b}=(0,nf.f)(n?.uri),{isSupported:y,availableLanguages:x}=(0,of.K)(),w=y&&0!==x.length,{data:_}=(0,sg.V)(),{isEligible:A,sponsorship:E}=(0,cg.K)(e.uri,_??[]),C=d?.canvas,j=l&&!!C?.fileId,I=!!(0,p.useMemo)(()=>ef(u),[u]),{isAdPlaying:T,isPlayingVideoAd:N}=(0,ar.o)(e=>{const t=e?.item??void 0,n=(0,U.N)(t);return{isAdPlaying:n,isPlayingVideoAd:(0,Ko.A3)(e)&&n}},rr.a),{logContextTitleClick:L,logAudioVideoToggleClick:k,logSubtitlesButtonClick:R}=g,P=tf(n.uri),D=f&&!P||w,O=(0,cf.w)({contrast:"highContrast"}),V="artwork"===a||"canvas"===a?{"--header-text-color":O?.["--text-subdued"],"--header-buttons-hover-bg":"var(--background-tinted-base)",...O}:{"--header-text-color":O?.["--text-base"],"--header-buttons-hover-bg":"var(--background-base)"};return(0,S.jsx)(S.Fragment,{children:!N&&(0,S.jsx)(nm.h,{menu:(0,S.jsx)(Ag.W,{context:e,item:n}),children:(0,S.jsxs)("div",{className:Gt()(Cg,mf,s,{[Ig]:"hero"===a||"video"===a,[jg]:r&&!T,[gf]:r}),style:{...h,...V},children:[(0,S.jsx)(nm.h,{menu:m,children:(0,S.jsxs)("div",{className:kg,children:[(0,U.N)(n)?(0,S.jsx)(gg,{item:n}):(0,S.jsx)(ug,{title:o,link:c,onClick:()=>{L(e.uri)}}),E?.advertiser&&A&&(0,S.jsx)(og.z,{advertiserName:E?.advertiser})]})}),(0,S.jsxs)("div",{className:Lg,children:[(0,S.jsx)(Kg,{variant:a,setPreferredVariant:i,item:n,hasHeroImage:I,hasCanvas:j,UBICallbacks:g,hasLyrics:b}),v&&w&&(0,S.jsx)(rf.C,{iconSize:"small",renderInline:!0,noBackground:!0,className:Gt()("encore-over-media-set",Vg),onToggle:R}),D&&(0,S.jsx)("div",{className:Rg,children:(0,S.jsx)("div",{className:Tg})}),P&&(0,S.jsx)(af.L,{className:Pg,onClick:k}),(0,S.jsx)(Hg,{item:n,context:e,UBICallbacks:g})]})]})})})};var bf=o(95079);const yf="IHvNl2RP2_ttvu979faq";function xf({children:e}){const t=(0,ar.o)(e=>e?.item?.uri),n=parseInt(lf,10),a=(()=>{const{currentContextUri:e,currentItemUri:t,nextItemUri:n,previousItemUri:a}=(0,ar.o)(e=>({currentContextUri:e?.context.uri,currentItemUri:e?.item?.uri,nextItemUri:e?.nextItems.at(0)?.uri,previousItemUri:e?.previousItems.at(0)?.uri}),(e,t)=>e.currentContextUri===t.currentContextUri&&e.currentItemUri===t.currentItemUri&&e.nextItemUri===t.nextItemUri&&e.previousItemUri===t.previousItemUri),r=(0,p.useRef)(e),i=(0,p.useRef)(n),s=(0,p.useRef)(a),o=(0,p.useMemo)(()=>{if(t){if(t===i.current)return"next";if(t===s.current)return"previous"}},[t]);if(t&&e&&e===r.current)return i.current=n,s.current=a,r.current=e,o})();let r;return"next"===a?r=uf:"previous"===a&&(r=df),t?(0,S.jsx)(bf.A,{childFactory:e=>(0,p.cloneElement)(e,{classNames:r,timeout:n}),component:null,children:(()=>{const a=p.createRef();return(0,S.jsx)(Lc.A,{in:!0,appear:!1,timeout:n,classNames:r,nodeRef:a,children:(0,S.jsx)("div",{className:yf,ref:a,children:e})},t)})()}):(0,S.jsx)(S.Fragment,{children:e})}var wf=o(45656),_f=o(18930),Af=o(7577),Sf=o(60548);const Ef="RSOVjwDmB9S4xPy2hC4K",Cf="x81eiLoZ5zWkSS1y28Oj",jf="F7ZGEmabEqd1JjefhfOQ",If="lH8r4MllmZG8A_b3H85m",Tf="gUezpbQsuIruM6EXQ_Dk",Nf="tY55IDkoWaJi2xZcnLEK",Lf=({ambientMode:e,mediaVariant:n,children:a,style:r,onContextMenu:i})=>{const s=(0,t.NC)(Ae.k8v),o=(0,cf.w)({contrast:"highContrast"}),c=(0,cf.w)({contrast:"higherContrast"});let l={"--cinema-mode-bg-color-from":o?.["--background-base"],"--cinema-mode-bg-color-to":c?.["--background-base"],...r};return"artwork"!==n&&"canvas"!==n||(l={...l,...o}),(0,S.jsxs)("div",{className:Gt()(Ef,{[Nf]:e,[Tf]:"video"===n,[If]:"hero"===n,[jf]:s,"encore-over-media-set":"video"===n||"hero"===n}),style:l,onContextMenu:i,children:[(0,S.jsx)("div",{className:Cf}),a]})},kf=({imageUrl:e,...t})=>{const{data:n}=(0,Sf.g)(e?[e]:[]);return(0,S.jsx)(Af.d,{dynamicColors:n,children:(0,S.jsx)(Lf,{...t})})};var Rf=o(8968);const Pf="jYxKzTo7UV4iMgkuDyRs",Df="YgHZa2DbwnD_7v7ttPQz",Mf=({canvas:e,onError:t})=>{const[n,a]=(0,p.useState)(!0);return(0,S.jsx)(Rf.Gg,{fileId:e.fileId,canvasUrl:e.url,canvasType:e.type,canvasUri:e.uri,playerContainerClass:Pf,playbackType:Rf.RT.LoopOnPlayback,allowAspectRatioFix:!0,onLoaded:()=>a(!1),onError:t,pauseInBackground:!1,children:n&&(0,S.jsx)("div",{className:Df})})},Of="aa4xVYFIdqm4b40zcRXw",Vf="LuxKooa8ziwYqDuMxMHI",zf="NkrUDOERxVKFRJ40fc1C",Hf="qVD2cqYAA37LJZbgaFoP",Ff="f_AjCoAAXZlsWbXydMiA",Bf="ECbtfZVEFh8nM9ZpqF3b",Uf="nFcVFIiSLs2b22OKTska",qf="zCFt5idJgwrbIxiP_wGA",Wf="B9Oq5qYsQpQFZmiOOCyO",Qf="LUYCqcZnze_Q4ihQM2B3",Gf="LrPuXFO4PTe_rvb05SUf",Zf="d1ytmgea2yryYrj2wOlw",$f=p.memo(({variant:e})=>"hero"!==e?null:(0,S.jsx)("div",{className:Gt()(Ff,pf)}));var Kf=o(48521);var Yf=o(10612),Jf=o(38858);const Xf="gwoq4fEj4xFSmeRqSodc",ev="k7SL2EjFJbvYQbm2ntom",tv=p.memo(()=>{const e=(()=>{const e=(0,la.l)(),{videoPlayerMode:t}=(0,Gp.d)();return!!(0,Kf.L)()&&(t===H.Kz.documentPip||t===H.Kz.pip?"pip":!!e&&"connect")})(),t=p.useMemo(()=>{switch(e){case"pip":return(0,S.jsx)(Yf.k,{});case"connect":return(0,S.jsx)(Jf.V,{});case!1:return null;default:return(0,Q.k)(e),null}},[e]);return t?(0,S.jsx)("div",{className:ev,children:t}):null}),nv=p.memo(({variant:e})=>{const t="video"===e;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{hidden:!t,id:"VideoPlayerCinema_ReactPortal",className:Xf}),t&&(0,S.jsx)(tv,{})]})});var av=o(38989);var rv=o(53278),iv=o(8290),sv=o(16103),ov=o(29515),cv=o(68117),lv=o(17154);var uv=o(21766);const dv="xlarge",hv=p.memo(({context:e,item:n,variant:a,ambientMode:r,onContextMenu:i,setPreferredVariant:s})=>{const o=(0,t.NC)(Ae.mZP),c=(0,t.NC)(Ae.c22),{setVideoPlayerUIFlag:l}=(0,Gp.d)(),u=tf(n.uri),d=(0,Ka.bJ)(e,n),h=Zn(),m=(0,iu.SF)(),g=(0,Wa.h)(n.images??void 0,{desiredSize:640,desiredLabel:dv});(0,p.useLayoutEffect)(()=>{l(H.nP.cinema,!0)},[l]),(0,uv.M)({desiredSize:640,desiredLabel:dv}),(e=>{const t=(0,ar.o)(e=>e?.nextItems?.[0],(e,t)=>e?.uri===t?.uri),n=(0,p.useMemo)(()=>(0,Wa.h)(t?.images??void 0,{desiredLabel:e?.desiredLabel,desiredSize:e?.desiredSize}),[t?.images,e?.desiredLabel,e?.desiredSize]);Yg(n)})({desiredSize:640,desiredLabel:dv}),(0,p.useEffect)(()=>{m.current&&(m.current.scrollTop=0)},[n.uri,m]);const{artist:f,track:v}=Xg(n);(({prefetchHeroImage:e})=>{const t=(0,ar.o)(e=>e?.nextItems?.[0],(e,t)=>e?.uri===t?.uri),{artist:n}=Xg(t),a=ef(n);Yg(a?.url,e)})({prefetchHeroImage:"hero"===a});const b=(0,pn.S)();(()=>{const e=(0,P.z)(),t=(0,p.useRef)(!1),n=(0,p.useCallback)(n=>{t.current?t.current=!1:e[n](15e3)},[e]),a=(0,p.useCallback)((n,a)=>{n.repeat&&(e[a](5e3),t.current=!0)},[e]),r=(0,p.useCallback)(()=>{n("seekForward")},[n]),i=(0,p.useCallback)(()=>{n("seekBackward")},[n]),s=(0,bu.dh)(e=>{a(e,"seekForward")},100),o=(0,bu.dh)(e=>{a(e,"seekBackward")},100);(0,av.N)(["right"],r,{eventType:"keyup"}),(0,av.N)(["right"],s,{allowRepeat:!0}),(0,av.N)(["left"],i,{eventType:"keyup"}),(0,av.N)(["left"],o,{allowRepeat:!0})})();const y=v?.canvas,x=o&&!!y?.fileId,w=(0,p.useMemo)(()=>ef(f),[f]),_={};"hero"===a&&!!w&&(_["--cinema-mode-bg-image"]=`url(${w.url})`);const{isAdPlaying:A,isPlayingVideoAd:E}=(0,ar.o)(e=>{const t=e?.item??void 0,n=(0,U.N)(t);return{isAdPlaying:n,isPlayingVideoAd:(0,Ko.A3)(e)&&n}},rr.a),C=b===Qp.z.NOW_PLAYING_VIEW&&A&&!E,j=(0,U.N)(n),I=j?n.url??void 0:void 0,T=(0,p.useCallback)(()=>{j&&(window.location.href=I??"")},[I,j]),N=(0,p.useCallback)(()=>{s("artwork")},[s]),{images:L,isSecondary:k}=(0,lv.u)(n);return(0,S.jsx)("div",{className:Gt()(Of,{[Hf]:r}),children:(0,S.jsxs)(kf,{ambientMode:r,mediaVariant:a,imageUrl:g,style:_,onContextMenu:i,children:["lyrics"===a&&(0,S.jsx)(iv.A,{format:"cinema",item:n}),(0,S.jsxs)("div",{className:Gt()(zf,{[Hf]:r}),children:[(0,S.jsx)($f,{variant:a}),"artwork"===a&&d&&(0,S.jsx)("div",{className:Gt()(Uf,hf),children:(0,S.jsx)(cv.aU,{})}),"artwork"===a&&!d&&(0,S.jsx)(S.Fragment,{children:c&&!j?(0,S.jsx)(_f.F,{src:g||"",alt:`${n.name} artwork`,className:Gt()(Uf,hf)}):(0,S.jsx)(wf.N,{className:Gt()(Uf,qf,hf,{[Wf]:j}),placeholderClassName:Bf,imgSrc:g,loading:"eager",onClick:T})}),x&&"canvas"===a&&(0,S.jsx)(Mf,{canvas:y,onError:N}),(0,S.jsx)(nv,{variant:a})]}),r&&!["video","lyrics"].includes(a)&&!A&&(0,S.jsx)("div",{className:Gt()(Qf,ff),style:h,children:(0,S.jsxs)("div",{className:Gf,children:[("hero"===a||"canvas"===a||k)&&(0,S.jsx)(sv.b,{className:Zf,desiredLabel:"small",size:92,images:L,type:n.type}),(0,S.jsx)(ov.d,{context:e,item:n,enableVideoButton:u,titleTypeVariant:"titleSmall",subtitleTypeVariant:"bodyMedium",subtitleSignifier:!0})]})}),C&&j&&(0,S.jsx)(rv.h,{item:n,className:Vf})]})})}),pv=e=>(0,S.jsx)(hv,{...e});function mv(e,t){const{isPlayingVideo:n}=(0,ar.o)(e=>({isPlayingVideo:(0,Ko.A3)(e)}),rr.a),{track:a,artist:r}=Xg(t),i=!!(0,p.useMemo)(()=>ef(r),[r]),s=!!a?.canvas,{hasLyrics:o}=(0,nf.f)(t?.uri);return n?"video":"lyrics"===e&&o?"lyrics":"hero"===e&&i?"hero":"canvas"===e&&s?"canvas":"artwork"}const gv="yaQHwh0l4jAotP10cXo5",fv="x0lJCeJrx_56dJTWdATl",vv="IpreYQcGJEdC0ARJ3Dk9",bv="xg34FTn7_2B59Q2dDXRf",yv="xIxb0XWF2lkVLmp9xdNU",xv="q3XwYfSt7z3Re_I88Z5O",wv="itrbb5Q0qWiuhP1ENRpJ",_v=({children:e,scrollNodeRef:t,afterTheScrollNodeRef:n,variant:a})=>{const r=(0,p.useMemo)(()=>({scrollNodeRef:t,afterTheScrollNodeRef:n}),[t,n]);return(0,p.useEffect)(()=>{"lyrics"!==a&&t.current?.scrollTo({top:0})},[a,t]),(0,S.jsx)(iu.bi.Provider,{value:r,children:(0,S.jsx)(Fu.a,{className:fv,scrollNodeRef:t,children:e})})};function Av(){const e=(0,ar.o)(e=>e,Kf.F),t=(0,p.useRef)(e?.item);if(null===e)return null;e.item&&(t.current=e.item);const{context:n,index:a}=e;return null===t.current||void 0===t.current?null:{context:n,item:t.current,index:a}}var Sv=o(12660),Ev=o(59322),Cv=o(16032),jv=o(96500);const Iv=(e,t,n,a,i)=>!!n||(!t||(!!(e=>{if(null===e)return!1;const t=document.elementFromPoint(e.x,e.y),n=t?.closest(Id.nu);return n instanceof HTMLElement&&"false"!==n.dataset.preventsAmbientMode})(e)||(null!==document.activeElement?.closest(Id.oj)||(!!document.querySelector("#context-menu")||(!!(()=>{const e=document.querySelectorAll(`[aria-modal="true"]:not([hidden]):not([aria-label="${r.Ru.get("ad-formats.advertisement")}"])`);if(0===e.length)return!1;for(const t of e){if(!("checkVisibility"in t)||"function"!=typeof t.checkVisibility)return!1;if(t.checkVisibility())return!0}return!1})()||!(!a||"lyrics"===i)))))),Tv=()=>{const e=(()=>{const e=(0,p.useContext)(Mp.y);if(!e)throw new Error("useAmbientDispatch must be used within a CinemaProvider");return e})(),n=(0,Cv.j)(),a=(0,p.useRef)(null),r=(0,t.NC)(Ae.ikI),i=(0,p.useRef)(null),{isPlaying:s}=(0,jv.GK)(),o=(0,p.useRef)(!1),c=(0,iu.SF)(),{isScrolled:l}=(0,Ev.y)(c),u=Av(),{currentVariant:d}=(0,Sv.r)(),h=mv(d,u?.item),m=(0,p.useCallback)(()=>!Iv(i.current,s,o.current,l,h),[s,l,h]),g=(0,p.useCallback)(()=>{e(!0)},[e]),f=(0,p.useCallback)(()=>{const e=1e3*r;function t(t){a.current&&clearTimeout(a.current),a.current=setTimeout(t,e)}const n=()=>{t(m()?()=>{m()?g():n()}:n)};n()},[r,g,m]),v=(0,p.useCallback)(()=>{e(!1),f()},[f,e]),b=(0,bu.YQ)(v,100,{leading:!0,trailing:!1,maxWait:1e3*(r-1)});(0,B.p)(F.gd.ERROR,v),(0,p.useEffect)(()=>{if(!n)return()=>{};const e=e=>{i.current={x:e.clientX,y:e.clientY},b()},t=e=>{"Tab"===e.key&&b()};return document.addEventListener("pointermove",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("keydown",t),a.current&&clearTimeout(a.current)}},[b,n,e]),(0,p.useEffect)(()=>{const e=()=>{o.current=!0},t=()=>{o.current=!1};return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",t),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",t)}},[]),(0,p.useEffect)(()=>{const e=()=>{i.current=null};return document.addEventListener("pointerleave",e),()=>{document.removeEventListener("pointerleave",e)}},[]),(0,p.useEffect)(()=>{!("lyrics"===h)&&l||n||!m()?v():g()},[g,v,n,m,l,h])};var Nv=o(92010),Lv=o(51078);var kv=o(63064);const Rv=p.memo(({nowPlayingState:e,variant:t,ambientMode:n,setPreferredVariant:a,hasScrolledOnce:r})=>{const i=(0,su.j)(),{isPlayingVideo:s}=(0,ar.o)(e=>({isPlayingVideo:(0,Ko.A3)(e)}),rr.a);(0,Lv.w)(),(0,Nv.x)(()=>{(0,yc.I)("NPV_OPEN_CINEMA_MODE_BUTTON")});const{spec:o}=(0,Io.r)(Up,{});Tv();const{areCardsVisible:c}=(({hasScrolledOnce:e=!1}={})=>{const[t,n]=(0,p.useState)(!1),[a,r]=(0,p.useState)(!0),i=(0,Cv.j)(),s=(0,p.useCallback)(()=>{a||t||n(!0)},[a,t]);return(0,p.useEffect)(()=>{e&&!t&&n(!0)},[e,t]),(0,p.useEffect)(()=>{const e=setTimeout(()=>{r(!1)},2e3);return()=>{clearTimeout(e)}},[]),(0,p.useEffect)(()=>{if(!i||t)return()=>{};const e=()=>{s()},n=()=>{s()};return document.addEventListener("pointermove",e),document.addEventListener("keydown",n),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("keydown",n)}},[s,i,t]),{areCardsVisible:t}})({hasScrolledOnce:r}),l=(0,S.jsx)(nm.h,{menu:(0,S.jsx)(Ag.W,{context:e.context,item:e.item}),children:(0,S.jsx)(pv,{context:e.context,item:e.item,ambientMode:n,variant:t,setPreferredVariant:a})});return(0,S.jsxs)(ul.r,{spec:o,children:[(0,S.jsx)("div",{className:Gt()(gv,{[vv]:["hero","video"].includes(t),_globalTranslateSubtitlesForBelowFoldCards:!n}),children:s||i?l:(0,S.jsx)(xf,{children:l})}),(0,S.jsx)("div",{className:Gt()(xv,{[wv]:c}),children:(0,S.jsx)(hm,{children:"lyrics"!==t&&(0,S.jsx)(ig,{item:e.item,variant:t,context:e.context})})})]})}),Pv=()=>{const e=Av(),t=(0,ru.l)(),n=(0,kv.F)(),{currentVariant:a}=(0,Sv.r)(),r=mv(a,e?.item),i=(0,p.useRef)(null),s=(0,p.useRef)(null),{isScrolled:o}=(0,Ev.y)(i),c=(0,xg.h)();(0,p.useEffect)(()=>{e||t(Qp.z.CLOSED)},[e,t]);const{data:l}=(0,Sf.g)(e?.item.images?.[0]?.url?[e.item.images[0].url]:[]);if(!e)return null;const u=o||"hero"===r||"video"===r;return(0,S.jsxs)(iu.ql.Provider,{value:"now_playing_panel",children:[(0,S.jsx)(Af.d,{dynamicColors:l,children:(0,S.jsx)(vf,{context:e.context,item:e.item,variant:r,ambientMode:c,setPreferredVariant:n,className:Gt()(bv,{[yv]:u})})}),(0,S.jsx)(_v,{afterTheScrollNodeRef:s,scrollNodeRef:i,variant:r,children:(0,S.jsx)(Rv,{nowPlayingState:e,variant:r,ambientMode:c,setPreferredVariant:n,hasScrolledOnce:o})}),(0,S.jsx)("div",{ref:s,className:"over-cinema-scroll"})]})};var Dv=o(88490),Mv=o(92206);var Ov=o(8017),Vv=o(34649);const zv="Root__cinema-view",Hv="Root__cinema-view--controls-hidden",Fv="E3V79f6uQHeTnFxMhoju",Bv="Kd2KIgZus6lPUgWrhKkt",Uv="_3_LWNvctz6LK865o0Fvg",qv=()=>{const e=(0,Dv.S)();(()=>{const e=(0,Dv.S)(),t=(0,Mv.l)(),n=(0,Dn.XB)(),a=(0,p.useRef)(n);(0,p.useEffect)(()=>{const t=n!==Mn.Z.Disabled&&n!==Mn.Z.NowPlayingView;e===Qp.z.NOW_PLAYING_VIEW&&a.current!==n&&(0,Kp.G)({transitionKey:"right-sidebar-open",in:t,transition:()=>{}}),a.current=n},[n,e,t])})();const t=(0,xg.h)(),n=(0,l.d4)(e=>e.ui.fullscreenMode.isOpen),a=ha(),r=(0,Ov.B)();if(null===e||e===Qp.z.CLOSED||e===Qp.z.LIBRARY)return null;let i=t?"cinema_ambient":"cinema";return n&&(i=t?"fullscreen_ambient":"fullscreen"),(0,S.jsx)(Vv.eZ,{pageId:tm.$.NOWPLAYINGV2,entityUri:i,children:(0,S.jsx)("div",{className:Gt()(zv,{[Hv]:t,[Fv]:n,[Bv]:a,[Uv]:e===Qp.z.NOW_PLAYING_VIEW}),ref:r,children:e===Qp.z.NOW_PLAYING_VIEW&&(0,S.jsx)(Pv,{})})})},Wv="Nn5XB58EgONWij7zBn_a",Qv="nS_6UlkB87ntgQhlsf8V",Gv="r3O7R35vZ0gyY7HIjXgr",Zv="ZoUoLzMNg7qtsoVX2nrQ",$v="KEXLBy1dXPx59fqfEjMK",Kv="KcZaXEI3hAXnpCCXNuoD";function Yv({className:e}){return(0,S.jsxs)("div",{className:Gt()(Wv,e),children:[(0,S.jsx)("div",{className:Qv}),(0,S.jsx)("div",{className:Gv}),(0,S.jsx)("div",{className:Kv}),(0,S.jsx)("div",{className:Zv}),(0,S.jsx)("div",{className:$v})]})}var Jv=o(98391),Xv=o(32888);function eb({children:e,UBICallbacks:n}){const{isExpanded:a}=(0,Jv._)(),i=(0,t.NC)(Ae.ZDY),o=(0,p.useDeferredValue)(a),{logShowNPVButtonClick:c}=n,u=(0,Dn._Y)(),d=(0,l.wA)(),h=(0,p.useCallback)(()=>{c(),u(Pe.$S.NPV_BUTTON_CLICK),d((0,s.Ym)())},[d,c,u]);return i?(0,S.jsx)("div",{className:Gt()(Xv.A.peek,{[Xv.A.expanded]:a,[Xv.A.collapsed]:!a,[Xv.A.deferredCollapsed]:!o}),children:(0,S.jsxs)("div",{className:Xv.A.overlayWrapper,children:[(0,S.jsx)(Yv,{className:Xv.A.fauxMainViewEnd}),(0,S.jsx)("div",{className:Xv.A.peekContent,"aria-hidden":!a,inert:a?void 0:"",children:e}),(0,S.jsx)("div",{className:Xv.A.overlay,onClick:h,children:(0,S.jsx)(Tr.Zp,{label:r.Ru.get("web-player.cinema-mode.peek.show.now-playing-view"),children:(0,S.jsx)(ui.H,{"aria-label":r.Ru.get("web-player.cinema-mode.peek.show.now-playing-view"),iconOnly:Jl.g,size:"small",className:Xv.A.overlayButton})})})]})}):(0,S.jsx)(S.Fragment,{children:e})}const tb=p.lazy(async()=>{const{PanelSection:e}=await Promise.all([o.e(286),o.e(8381),o.e(7789),o.e(7626),o.e(319)]).then(o.bind(o,38678));return{default:e}}),nb=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(tb,{})});var ab=o(15185);const rb="oXO9_yYs6JyOwkBn8E4a";function ib({children:e}){const n=(0,ab.X)(),{size:a}=(0,Dn.Zf)();let r=a;return(0,t.NC)(Ae.ZDY)||n!==Mn.Z.Disabled||(r=0),(0,S.jsx)("div",{style:{width:`${r}px`},className:rb,children:e})}const sb=()=>{const e=Wp();return(0,S.jsx)(eb,{UBICallbacks:e,children:(0,S.jsx)(ib,{children:(0,S.jsx)(nb,{})})})};var ob=o(22285);const cb="WwTlSXPZDiLggTUlteim",lb="EqyE5lPL3m1iWXHbHHo0",ub="YtH0i3BQIbKkSpFDjW_p",db="OxAgEL4VzrVPGpE7Vklj",hb=({item:e})=>{const t=(0,l.wA)(),n=(0,ru.l)(),a=(0,ca.h)(),{setVideoPlayerUIFlag:i}=(0,Gp.d)(),s=(0,p.useCallback)(()=>{(0,yc.I)("NPV_OPEN_CINEMA_MODE_BUTTON"),n(hn.z.CLOSED),t((0,ob.Oc)()),i(H.nP.cinema,!1)},[t,n,i]);return(0,S.jsxs)("div",{className:cb,children:[(0,S.jsx)(gg,{item:e}),(0,S.jsx)("div",{className:lb,children:(0,S.jsx)(ui.H,{className:Gt()(ub,{[db]:a}),iconOnly:fg.b,size:"small",onClick:s,"aria-label":r.Ru.get("web-player.cinema-mode.minimize")})})]})},pb=()=>{const e=(0,pn.S)(),t=(0,ca.h)(),{isPlayingVideoAd:n,item:a}=(0,ar.o)(e=>{const t=e?.item??void 0;return{isPlayingVideoAd:(0,Ko.A3)(e)&&(0,U.N)(t),item:t}},(e,t)=>e.isPlayingVideoAd===t.isPlayingVideoAd&&e.item?.uid===t.item?.uid),r=e===hn.z.NOW_PLAYING_VIEW&&n;let i="main-view",s="left-sidebar / main-view",o="var(--above-main-and-now-playing-view-grid-area-z-index)";return r&&(s="left-sidebar / right-sidebar"),t&&(i="global-nav / now-playing-bar",s="left-sidebar / right-sidebar",o="var(--above-everything-grid-area-z-index)"),(0,S.jsxs)(Fn,{gridRow:i,gridColumn:s,zIndex:o,debugLabel:r?"VTO cinema mode ad":"VTO modal ad",children:[r&&a&&(0,U.N)(a)?(0,S.jsx)(hb,{item:a}):null,(0,S.jsx)("div",{className:"VTO__modal-slot"})]})};var mb=o(85172),gb=o(74197),fb=o(69017),vb=o(58050),bb=o(89877),yb=o(28389),xb=o(55164),wb=o(79260),_b=o(70834);const Ab=()=>{const{id:e}=(0,re.g)(),t=(0,l.wA)(),n=(0,wb.M)(),a=(0,bb.C)();return(0,p.useEffect)(()=>{if(!e)return;const r=Cb(n,a,e);r&&t(r)},[t,e,n,a]),(0,S.jsx)(yb.$,{to:"/"})},Sb=()=>{const e=(0,wb.M)(),t=(0,bb.C)(),n=(0,vb.Y)(),a=(0,re.zy)();return(0,p.useEffect)(()=>{if(t===_b.lz.PREMIUM&&e===_b._H.ENABLED){const e=(0,Ls.o_h)(a.pathname);n(e&&(0,Ls.p3P)(e)?e:void 0)}},[n,t,a.pathname,e]),(0,S.jsx)(yb.$,{to:"/"})},Eb=()=>{const{openQueue:e}=(0,gb.R)();return(0,p.useEffect)(()=>{e(mb.p.PARTICIPANT_LIST)},[e]),(0,S.jsx)(yb.$,{to:"/"})};function Cb(e,t,n){return t===_b.lz.NONE?(0,s.A9)(xb.EL.ERROR):e===_b._H.RESTRICTED?(0,s.A9)(xb.EL.REDIRECT,n):e===_b._H.ENABLED?(0,s.A9)(xb.EL.JOIN,n):null}const jb=new Map,Ib=(e,t=[])=>{(0,p.useEffect)(()=>(jb.set(e,!0),()=>{jb.delete(e)}),[...t,e])},Tb=e=>Object.values(fb.S).includes(e),Nb=()=>{const e=(0,l.wA)(),t=(0,wb.M)(),n=(0,Ft.g)(),a=(0,bb.C)(),r=(0,vb.Y)(),{openQueue:i}=(0,gb.R)();return Ib(s=>{const o=(0,Ls.o_h)(s.pathname??""),c=o&&(0,Ls.crr)(o)&&!Tb(s.pathname),l=o&&(0,Ls.p3P)(o);if(Tb(s.pathname))return i(mb.p.PARTICIPANT_LIST),!0;if(l)return r(o),!0;if(c){const r=Cb(t,a,o.id);return!!r&&(e(r),s.state?.redirectToHome&&n("/"),!0)}return!1},[t,a]),null},Lb=()=>{const{openQueue:e}=(0,gb.R)();return Ib(t=>"/queue"===t.pathname?(e(mb.p.QUEUE),!0):"/history"===t.pathname&&(e(mb.p.HISTORY),!0)),null};var kb=o(52091);const Rb=()=>{const e=(0,Dv.S)(),t=(0,ru.l)();return Ib(n=>"/launch-cinema-mode"===n.pathname&&(e!==Qp.z.NOW_PLAYING_VIEW&&t(Qp.z.NOW_PLAYING_VIEW),!0)),null};var Pb=o(18558);class Db extends Ba.V{}const Mb=({children:e})=>{const t=(0,p.useMemo)(()=>new Db,[]);return(0,S.jsx)(Pb.m.Provider,{value:t,children:e})};var Ob=o(86600),Vb=o(52545),zb=o(82899),Hb=o(12663);const Fb=1248,Bb=(0,Jp.g)(Mn.Z),Ub=(0,Jp.g)(zb.ZS),qb=()=>(function(){const{size:e,setSize:n,minWidth:a,maxWidth:r,leftSidebarCollapsedStateNavbarWidth:i,leftSidebarDefaultStateNavbarWidth:s,leftSidebarExpandedStateNavbarWidth:o}=(0,qn.y)(),{leftSidebarState:c,setLeftSidebarState:l,canCollapse:u}=(0,zb.ae)(),d=(0,Dn.XB)(),h=(0,Dn._Y)(),{min:m,max:g,size:f,setSize:v}=Wn(),b=(0,Hb.H)(),y=(0,t.NC)(Ae.VEQ),x=(0,p.useRef)(null),w=(0,p.useRef)(null),_=(0,p.useRef)(null),A=(0,t.NC)(Ae.ZDY)?Ob.j:0;(0,p.useLayoutEffect)(()=>{const t=b-e-3*wa.KV-(d!==Mn.Z.Disabled?f+wa.KV:A),p={leftSidebarWidth:e,leftSidebarMinWidth:a,leftSidebarMaxWidth:r,leftSidebarState:c,leftSidebarStateRestoreTarget:x.current,rightSidebarWidth:f,rightSidebarMinWidth:m,rightSidebarMaxWidth:g,rightSidebarPanel:d,rightSidebarPanelRestoreTarget:w.current,storedCollapsedLeftSidebarWidth:i,storedDefaultLeftSidebarWidth:s,storedExpandedLeftSidebarWidth:o,clientWidth:b,mainContentWidth:t,canCollapse:u},S=_.current;if((0,Y.j)(p,S))return;const E=function(e,t,n=!1){let{leftSidebarWidth:a=0,rightSidebarWidth:r=0}=t;const{mainContentWidth:i=0,leftSidebarMinWidth:s=0,leftSidebarMaxWidth:o=0,leftSidebarState:c,leftSidebarStateRestoreTarget:l,rightSidebarMinWidth:u=0,rightSidebarMaxWidth:d=0,rightSidebarPanel:h,rightSidebarPanelRestoreTarget:p,storedCollapsedLeftSidebarWidth:m=0,storedDefaultLeftSidebarWidth:g=0,storedExpandedLeftSidebarWidth:f=0,clientWidth:v=0,canCollapse:b=!0}=t,y={},x=h!==Mn.Z.Disabled,w=void 0!==e?.leftSidebarWidth&&a>e.leftSidebarWidth,_=void 0!==e?.rightSidebarWidth&&r>e.rightSidebarWidth,A=void 0===e?.clientWidth?0:v-e.clientWidth,S=A<0,E=v>0,C=i<wa.ev?wa.ev-i:0;let j=S?-1*A:0;i>Fb?j=Math.max(0,j-(i-Fb)):C&&(j=C);const I=c===zb.ZS.EXPANDED&&e?.leftSidebarState!==zb.ZS.EXPANDED,T=c===zb.ZS.DEFAULT&&e?.leftSidebarState!==zb.ZS.DEFAULT;let N=a-s;w&&(N=I?a-Vb.Z.EXPANDED_MIN:T?a-Vb.Z.DEFAULT_MIN:0);let L=_?0:r-u;const k=j<=N+L;if(i<wa.ev&&!k)x&&(w||S&&(c===zb.ZS.COLLAPSED||!b))?(y.rightSidebarPanel=Mn.Z.Disabled,y.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,j-=r,L=0):(c===zb.ZS.EXPANDED&&i+(a-Vb.Z.DEFAULT_MIN)>wa.ev?(y.leftSidebarState=zb.ZS.DEFAULT,j-=a-g,N=g-Vb.Z.DEFAULT_MIN):(y.leftSidebarState=zb.ZS.COLLAPSED,j-=a-m,N=0),y.leftSidebarStateRestoreTarget=t.leftSidebarState);else if(h===Mn.Z.Disabled&&p!==Mn.Z.Disabled&&Bb(p)&&h!==e?.rightSidebarPanelRestoreTarget&&i-r-wa.KV>=wa.ev)y.rightSidebarPanel=p,y.rightSidebarPanelRestoreTarget=null;else if(c===zb.ZS.DEFAULT&&l===zb.ZS.EXPANDED&&i-(f-a)>=wa.ev)y.leftSidebarState=zb.ZS.EXPANDED,y.leftSidebarStateRestoreTarget=null;else if(c===zb.ZS.COLLAPSED&&l===zb.ZS.DEFAULT&&i-(g-a)>=wa.ev)y.leftSidebarState=zb.ZS.DEFAULT,y.leftSidebarStateRestoreTarget=null;else if(E&&i>=800&&!n){let e=o-a,t=d-r;const n=Math.min(A,e+t);for(let i=0;i<n;i++)a<r&&a<o&&e>0?(a++,e--):r<d&&t>0&&(r++,t--)}c!==e?.leftSidebarState&&Ub(l)&&l===e?.leftSidebarStateRestoreTarget&&(y.leftSidebarStateRestoreTarget=null);h!==e?.rightSidebarPanel&&Bb(p)&&p===e?.rightSidebarPanelRestoreTarget&&(y.rightSidebarPanelRestoreTarget=null);if(j>0&&j<=N+L)for(let e=0;e<j;e++)a>r&&a>s&&N>0?(a--,N--):r>u&&L>0&&(r--,L--);a&&a!==t.leftSidebarWidth&&(y.leftSidebarWidth=a);r&&r!==t.rightSidebarWidth&&(y.rightSidebarWidth=r);return y}(S,p,y);void 0!==E.leftSidebarWidth&&n(E.leftSidebarWidth),Ub(E.leftSidebarState)&&l(E.leftSidebarState),void 0!==E.leftSidebarStateRestoreTarget&&(x.current=E.leftSidebarStateRestoreTarget),void 0!==E.rightSidebarWidth&&0!==S?.rightSidebarWidth&&v(E.rightSidebarWidth),void 0!==E.rightSidebarPanel&&h((0,Pe.MQ)(E.rightSidebarPanel)),void 0!==E.rightSidebarPanelRestoreTarget&&(w.current=E.rightSidebarPanelRestoreTarget),_.current=p},[e,a,r,n,f,m,g,v,d,i,s,o,l,h,b,u,A,c,y])}(),null);var Wb=o(13074),Qb=o(97159),Gb=o(46048);let Zb=new class{get(){return Gb.t5}};let $b=new class{get(){return Gb.wi}};var Kb=o(39529),Yb=o(44544);const Jb=()=>{const[e,t]=(0,p.useState)(!1),{pathname:n}=location,a=(0,l.d4)(Qb.JJ),i=(0,ve.V)(),[s,o]=(0,p.useState)(null),c=r.Ru.getLocaleForURLPath(),u=(0,Yb.p)({urlLocale:c,type:"locale"}),d=Zb.get(),h=$b.get();return(0,p.useEffect)(()=>{o((0,Kb.w2)(window.navigator.userAgent))},[]),(0,p.useEffect)(()=>{const e=setTimeout(()=>{t(!0)},1100);return()=>{t(!1),clearTimeout(e)}},[n]),e&&null!==s?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(d,{language:r.Ru.getLocaleForSmartling(),market:a.toLowerCase(),excludePlanLinks:s,countryHub:!0,openUrlLocale:u?c:void 0,children:(0,S.jsx)("div",{children:(0,S.jsx)(h,{hideWebPlayerLink:!0,hideLegalLinks:i})})})}):(0,S.jsx)(S.Fragment,{})},Xb=p.memo(()=>{const e=(0,Ul._)(e=>"/lyrics"===e.pathname),{showMastheadFooter:t}=(0,Ut.V)();return!t||e?null:(0,S.jsxs)("div",{className:"main-view-container__mh-footer-container",children:[(0,S.jsx)(Wb.d,{className:"main-view-container__mh-footer-container__separator"}),(0,S.jsx)(Jb,{})]})});var ey=o(89154);const ty={"-200":.694444418,"-150":.7607257962,"-100":.8333333135,"-50":.9128709435,0:1,50:1.095445156,100:1.200000048,150:1.314534187,200:1.440000057,250:1.577440977,300:1.728000045,350:1.892929196,400:2.073600054};var ny=o(6392),ay=o(49016),ry=o(11057);var iy=o(70784),sy=o(77593);var oy=o(87585);var cy=o(46620);var ly=o(17533);const uy=()=>{const e=(0,gs.N)(ly.L),t=e.getCapabilities(),n=t.canZoomIn&&t.canZoomOut;(0,p.useEffect)(()=>{if(!n)return()=>{};const t=t=>{if(t.ctrlKey){t.preventDefault();const n=t.deltaY;if(0===n)return;n>0?e.zoomOut():e.zoomIn()}},a=e=>{"Control"===e.key&&window.addEventListener("wheel",t,{passive:!1})};window.addEventListener("keydown",a);const r=e=>{"Control"===e.key&&window.removeEventListener("wheel",t)};return window.addEventListener("keyup",r),()=>{window.removeEventListener("wheel",t),window.removeEventListener("keydown",a),window.removeEventListener("keyup",r)}},[e,n])},dy=p.memo(({isDeveloperMode:e,onBrowserNotSupported:n,onReachUsableState:a})=>((e=>{const t=(0,Ft.g)();(0,p.useEffect)(()=>{const n=n=>{e&&(3===n.button?(t(-1),n.preventDefault()):4===n.button&&t(1))};return document.addEventListener("mouseup",n),()=>{document.removeEventListener("mouseup",n)}},[e,t])})(!0),Ea(!e),(({onBrowserNotSupported:e,onReachUsableState:t})=>{(0,p.useEffect)(()=>{const n=Xa().getParser(window.navigator.userAgent);n.satisfies({chrome:"<62"})||n.satisfies({edge:"<16"})?e(r.Ru.get("browser_upgrade_notice",n.getBrowserName())):t("home")},[e,t])})({onBrowserNotSupported:n,onReachUsableState:a}),function(){const e=(0,gi.t)(),[{data:t}]=(0,fi.K)(e.viewportZoom),n=(0,En.m)();(0,p.useEffect)(()=>{const e=Math.round(t??0).toString(),a=ey.b*ty[e];n.setTitlebarHeight(a)},[t,n])}(),uy(),(()=>{const e=(0,En.m)(),n=(0,t.NC)(Ae.QxH),a=(0,t.NC)(Ae.fzW),r=(0,t.NC)(Ae.v2);(0,p.useEffect)(()=>{e.setPLEPorts(n,a,r)},[e,n,a,r])})(),(()=>{const e=(0,it.jE)();(0,Yo.L)(()=>{e.invalidateQueries({queryKey:["useAddToPlaylistListData"]})})})(),function(){const e=(0,it.jE)();(0,oy.s)(()=>{e.invalidateQueries(),e.removeQueries({type:"inactive"})})}(),function(){const e=(0,p.useRef)(!0),t=(0,cl.p)(),n=(0,it.jE)();(0,p.useEffect)(()=>{e.current?e.current=!1:function(e){e.invalidateQueries(),e.removeQueries({type:"inactive"})}(n)},[t,n])}(),(()=>{const e=(0,it.jE)(),t=(0,ay.R)();(0,p.useEffect)(()=>t.getEvents().addListener(ny.S.AVAILABILITY_UPDATE,t=>{e.invalidateQueries({queryKey:(0,ry.J)(t.data.contextURI)})}),[e,t])})(),(0,cy.zl)(),(()=>{const e=(0,sy.Z)(),t=(0,it.jE)();(0,p.useEffect)(()=>{const n=e.getEvents();let a=e.getActiveDevice()?.id??null;return n.addListener(iy.P.UPDATE,e=>{const n=e.data?.activeDevice?.id??null;n&&a&&n!==a&&(t.invalidateQueries({queryKey:(0,ry.J)()}),a=n)})},[e,t])})(),null));var hy=o(96290),py=o(41350);var my=o(42741);var gy=o(95130);o(47537);var fy=o(74059);const vy=e=>{const{accessTokenIsSet:n,onClose:a,onBrowserNotSupported:r,onReachUsableState:i,isDesktop:s,billboardMinimized:o,isDeveloperMode:c,adsEnabled:u,children:d}=e,m=(0,En.m)(),g=(0,p.useRef)(null),f=(0,p.useRef)(null),v=(0,p.useRef)(null),b=(0,p.useRef)(null),y=(0,p.useRef)(null),x=(0,p.useRef)(null),w=(0,p.useRef)(null),_=(0,p.useRef)(null),A=(0,p.useRef)(null),E=(0,p.useRef)(null),C=(0,p.useRef)(null),j=(0,p.useRef)(null),I=(0,p.useRef)(null),T=(0,p.useRef)(null),N=(0,p.useRef)(null),L=(()=>{const e=(0,t.NC)(Ae.Tb_),[n]=(0,p.useState)(()=>(0,nr.U)()?new tr:er.isSupported()&&e?new er(!0):$a.isSupported()?new $a:new tr);return n})(),k=(0,gi.t)(),[{data:R}]=(0,fi.K)(k.viewportZoom),{handleDrop:P,handleDragStart:D,handleDragEnd:M,handleDragOver:O}=(()=>{const e=(0,p.useCallback)(e=>{e.preventDefault(),document.body.removeAttribute("data-dragging-type")},[]),t=(0,p.useCallback)(e=>{document.body.removeAttribute("data-dragging-type")},[]),n=(0,p.useCallback)(e=>{e.preventDefault()},[]);return{handleDrop:e,handleDragStart:(0,p.useCallback)(e=>{e.target instanceof Element&&"true"!==e.target.getAttribute("draggable")&&(e.preventDefault(),e.stopPropagation())},[]),handleDragEnd:t,handleDragOver:n}})();(0,Dn.bF)(),(0,p.useEffect)(()=>{window&&window.history&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual")},[]),(0,p.useEffect)(()=>{m.notifyReadyStateReached()},[m]);const{sendMessage:V}=((e={})=>{const{allowedOrigin:t,onMessage:n,onPortEstablished:a}=e,r=(0,p.useRef)(null),i=(0,p.useRef)(!1),s=(0,p.useCallback)(e=>{r.current&&i.current&&r.current.postMessage(e)},[]);return(0,p.useEffect)(()=>{const e=e=>{if(t&&e.origin!==t)return;const s=e.ports[0];void 0!==s&&(r.current=s,i.current=!0,a?.(s),s.onmessage=e=>{n?.(e.data)})};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e),r.current&&(r.current.close(),r.current=null,i.current=!1)}},[t,n,a]),{sendMessage:s,isPortEstablished:i.current}})({onMessage:e=>{(0,fy.S)()&&V({type:"message",message:e})}}),z=(0,p.useMemo)(()=>[(0,S.jsx)(wn.t,{scrollNodeRef:j,scrollNodeChildRef:I,beforeTheScrollNodeRef:T,afterTheScrollNodeRef:N}),(0,S.jsx)(Rn.X,{}),(0,S.jsx)(nn.ZC,{mainLandmarkRef:f,lyricsCinemaRef:w,leftSidebarRef:E,rightSidebarRef:C,nowPlayingBarRef:b,mainContentRef:y,globalNavContainerRef:v}),(0,S.jsx)(tn,{}),(0,S.jsx)(ip,{}),(0,S.jsx)(Xt,{}),(0,S.jsx)(_n.$y,{}),(0,S.jsx)(Sn.JI,{}),(0,S.jsx)(hy.NT,{}),(0,S.jsx)(Pn.Ad,{}),(0,S.jsx)(Fa.n,{instance:L}),(0,S.jsx)(xp,{domRootRef:A}),(0,S.jsx)(da.F,{}),(0,S.jsx)(Er,{}),(0,S.jsx)(Zh,{}),(0,S.jsx)(Rp.f,{}),(0,S.jsx)(em,{}),(0,S.jsx)(Mb,{})],[L]),H=(0,l.d4)(e=>e.ui.unsupportedBrowser);return(0,S.jsxs)(At,{providers:z,children:[(0,S.jsxs)("div",{"":"root",className:Gt()("Root","global-nav","centered-layout"),style:{"--panel-gap":`${wa.KV}px`,"--zoom-level":(0,kb.I)(R??0)},onDrop:P,onDragOver:O,onDragStart:D,onDragEnd:M,ref:g,children:[(0,S.jsx)(_p,{message:H.isOpen?H.message:null,allowHTML:!0,onClose:a,isNotSupported:!0}),(0,S.jsxs)(zn,{children:[(0,S.jsx)(qb,{}),!1,(0,S.jsx)(Xh,{globalNavContainerRef:v}),(0,S.jsxs)(Xn,{children:[(0,S.jsx)(ia,{}),(0,S.jsx)(xn,{elementRef:E})]}),(0,S.jsx)(xa,{children:(0,S.jsx)(gp,{})}),(0,S.jsxs)(oa,{children:[(0,S.jsx)(Cp,{}),(0,S.jsxs)("div",{className:"main-view-container",children:[(0,S.jsx)("div",{ref:T,className:"before-scroll-node"}),(0,S.jsx)(Fu.a,{className:"main-view-container__scroll-node",scrollNodeRef:j,children:(0,S.jsx)("div",{ref:I,className:Gt()("main-view-container__scroll-node-child"),style:{minHeight:`calc(100vh - ${wa.uC}px - ${wa.fO}px - 519px)`},children:(0,S.jsx)(kn,{ref:f,children:(0,S.jsxs)(h.s,{Fallback:()=>(0,S.jsx)(Sp,{}),onError:e=>(0,An.Jy)(e,"Root"),children:[d,(0,S.jsx)(Xb,{})]})})})}),(0,S.jsx)("div",{ref:N,className:"after-scroll-node"}),(0,S.jsx)(kp,{fullscreenModeRef:_,cinemaModeRef:x})]}),n&&u&&(0,S.jsx)(Np,{}),s&&(0,S.jsx)("div",{className:Gt()("",{"Root__ads-container-desktop--is-hidden":!o}),children:(0,S.jsx)(Ip,{})})]}),(0,S.jsxs)(ba,{children:[(0,S.jsx)(sb,{}),(0,S.jsx)(tp,{elementRef:C})]}),(0,S.jsx)(qv,{}),(0,S.jsx)("div",{id:"lyrics-cinema",className:"Root__lyrics-cinema",ref:w}),(0,S.jsx)(Un,{ref:x,debugLabel:"Video player cinema mode"}),(0,S.jsx)(Un,{debugLabel:"Snackbar container",ref:A}),(0,S.jsx)(pb,{}),(0,S.jsx)(dp,{debugLabel:"Popover layer",children:(0,S.jsx)(pp,{})})]}),(0,S.jsx)(up,{isDesktop:s}),(0,S.jsx)(bp,{}),(0,S.jsx)(Ha,{}),(0,S.jsx)(or,{pipInstance:L})]}),(0,S.jsx)(Yt,{}),(0,S.jsx)(cp,{}),(0,S.jsx)(Nb,{}),(0,S.jsx)(Lb,{}),(0,S.jsx)(Rb,{}),(0,S.jsx)(Pp,{}),(0,S.jsx)(dy,{isDeveloperMode:c,onBrowserNotSupported:r,onReachUsableState:i})]})};const by=o(5959).ErrorPage;var yy=o(76757);const xy=function({children:e}){(()=>{const e=(0,t._r)();(0,p.useEffect)(()=>{const t=(0,An.sV)(),n=[...(0,yy.v6)()].reduce((t,n)=>{const a=e.getValue(n.name);return t[`rc.${n.name}`]=a,t},{});t.setTags(n)},[e])})();const n=(0,l.wA)(),a=(0,l.d4)(e=>e.session.accessToken),r=(0,l.d4)(e=>e.ui.errorPage),i=(0,En.m)(),{isDesktop:o,isDeveloperMode:c}=(0,Ut.V)(),u=(0,l.d4)(e=>o?e.ads.root.adsEnabled:!!e.session.productState?.ads&&1===parseInt(e.session.productState.ads,10)),d=(0,l.d4)(e=>!!e.ads.billboard&&e.ads.billboard.isMinimized);(0,Wt.S)();const h=r.isError,m=r.name,g=!!a,f=(0,p.useCallback)(e=>{i.notifyUsableStateReached(e)},[i]),v=(0,p.useCallback)(()=>{n(s.BZ())},[n]),b=(0,p.useCallback)(e=>{n(s.Gz(e))},[n]);return h?(0,S.jsx)(by,{errorName:m}):(0,S.jsx)(vy,{billboardMinimized:d,onReachUsableState:f,accessTokenIsSet:g,onClose:v,onBrowserNotSupported:b,isDesktop:o,isDeveloperMode:c,adsEnabled:u,children:e})},wy=p.lazy(async()=>{const{SeeAllPlaylistLeavebehinds:e}=await o.e(5040).then(o.bind(o,49448));return{default:e}}),_y=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(wy,{})}),Ay=p.lazy(async()=>{const{UpcomingReleasesErrorPage:e}=await o.e(2579).then(o.bind(o,83884));return{default:e}}),Sy=({errorName:e})=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Ay,{errorName:e})}),Ey=()=>(0,S.jsx)(re.qh,{path:"/upcoming-releases",element:(0,S.jsx)(Sy,{errorName:"upcoming_releases_not_supported"})},"upcoming-releases"),Cy=p.lazy(async()=>{const{ErrorPage:e}=await o.e(2579).then(o.bind(o,5959));return{default:e}}),jy=({errorName:e})=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Cy,{errorName:e})}),Iy=()=>[(0,S.jsx)(re.qh,{path:"/artist-videos",element:(0,S.jsx)(jy,{errorName:"artist_videos_not_supported"})},"artist-videos"),(0,S.jsx)(re.qh,{path:"/wrapped-artist-clips",element:(0,S.jsx)(jy,{errorName:"artist_videos_not_supported"})},"wrapped-artist-clip")],Ty=(0,p.lazy)(()=>Promise.all([o.e(2225),o.e(3145),o.e(3990),o.e(9164)]).then(o.bind(o,9604)));function Ny(e){return`spotify:section:${e.replace(/^section/,"")}`}const Ly=(0,p.lazy)(()=>Promise.all([o.e(8647),o.e(6672),o.e(6266)]).then(o.bind(o,74570)).then(e=>({default:e.BrowsePage}))),ky=(0,p.lazy)(()=>Promise.all([o.e(8647),o.e(6672),o.e(6266)]).then(o.bind(o,91653)).then(e=>({default:e.BrowseSection}))),Ry=({id:e})=>{if(e.startsWith("section"))return(0,S.jsx)(ky,{uri:Ny(e)});const t=function(e){return/^(section)?[0-9A-Za-z_-]{22}$/.test(e)}(e)?function(e){return`spotify:page:${e}`}(e):function(e){return`spotify:genre:${e}`}(e);return(0,S.jsx)(Ly,{uri:t})};const Py=p.lazy(async()=>{const{CountryHub:e}=await Promise.all([o.e(172),o.e(2543)]).then(o.bind(o,36296));return{default:e}}),Dy=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Py,{})}),My=p.lazy(async()=>{const{CountryHubSection:e}=await Promise.all([o.e(172),o.e(749)]).then(o.bind(o,2839));return{default:e}}),Oy=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(My,{})}),Vy=e=>`spotify:cultural-moment:hub:${e}`,zy=p.lazy(()=>o.e(3838).then(o.bind(o,87811))),Hy=()=>{const{id:e=""}=(0,re.g)();return(0,S.jsx)(zy,{uri:Vy(e),id:e})},Fy=p.lazy(async()=>{const{EpisodeMoreLikeThis:e}=await Promise.all([o.e(7151),o.e(7385),o.e(6275),o.e(399)]).then(o.bind(o,78180));return{default:e}}),By=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Fy,{})});function Uy(){return null}var qy=o(86015),Wy=o(40786);const Qy=p.lazy(async()=>{const{HomeChipsRowWithEmptyStates:e}=await Promise.all([o.e(8277),o.e(3461),o.e(6672),o.e(3685),o.e(4660),o.e(6059),o.e(2233)]).then(o.bind(o,81186));return{default:e}}),Gy=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Qy,{})}),Zy=p.lazy(async()=>{const{HomeHeader:e}=await o.e(1602).then(o.bind(o,49915));return{default:e}}),$y=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Zy,{})});var Ky=o(22841);const Yy=p.lazy(async()=>{const{OfflineEmptyState:e}=await o.e(2630).then(o.bind(o,35706));return{default:e}}),Jy=({showDownloadInformation:e})=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Yy,{showDownloadInformation:e})});var Xy=o(72248),ex=o(52262),tx=o(80840);const nx=(0,p.lazy)(()=>Promise.all([o.e(3858),o.e(467),o.e(4312)]).then(o.bind(o,21009))),ax=(0,p.lazy)(()=>o.e(5885).then(o.bind(o,14786))),rx=(0,p.lazy)(()=>o.e(3569).then(o.bind(o,3043))),ix=(0,p.lazy)(()=>Promise.all([o.e(8277),o.e(3461),o.e(6672),o.e(3685),o.e(4660),o.e(6059),o.e(9319)]).then(o.bind(o,52040))),sx=(0,p.lazy)(()=>Promise.all([o.e(8647),o.e(4660),o.e(1621)]).then(o.bind(o,29857))),ox=(0,p.lazy)(()=>o.e(3569).then(o.bind(o,26142))),cx=(0,p.lazy)(async()=>{const{HomeSubfeedWithRedirect:e}=await Promise.all([o.e(8277),o.e(3461),o.e(484),o.e(6672),o.e(3145),o.e(3685),o.e(4660),o.e(4064),o.e(6059),o.e(1173),o.e(347)]).then(o.bind(o,22384));return{default:e}}),lx=()=>{const{sectionId:e}=(0,re.g)();return(0,S.jsx)(sx,{uri:`spotify:section:${e}`})},ux=({isDesktop:e,isPremium:t,isOffline:n})=>n?e&&t?(0,S.jsx)(rx,{}):(0,S.jsx)(Jy,{showDownloadInformation:!1}):(0,S.jsx)(ix,{}),dx=({isDesktop:e,isOffline:t})=>{const n=(0,Ky.f)()!==qy.e,{allowSwitchingBetweenHomeAdsAndHpto:a}=Se();return(0,S.jsxs)(Wy.X,{children:[(0,S.jsx)($y,{}),(0,S.jsx)(h.s,{onError:e=>(0,An.Jy)(e,"HPTO Ad"),children:e&&n&&(a?(0,S.jsx)(ax,{}):(0,S.jsx)(nx,{}))}),!t&&(0,S.jsx)(Gy,{}),(0,S.jsx)(re.sv,{})]})};var hx=o(9391),px=o(21081);const mx=()=>{const e=(()=>{const{openPromptComposerModal:e}=(0,px.$)();return(0,p.useCallback)(()=>{e({})},[e])})();return(0,p.useLayoutEffect)(()=>{e()},[]),null};var gx=o(63427);const fx=()=>{const e=(()=>{const{isActive:e,panelSend:t}=(0,Dn.AI)(Mn.Z.Birdhouse,Mn.Z.BirdhouseOverlay);return(0,p.useCallback)(()=>{e||t({type:Pe.$S.BIRDHOUSE_BUTTON_CLICK,initialView:gx.S.DiscoverLossless})},[e,t])})();return(0,p.useLayoutEffect)(()=>{e()},[]),null},vx="/launch-miniplayer",bx=()=>{const e=(()=>{const{open:e,isOpen:t,canOpen:n}=(0,za.H)();return(0,p.useCallback)(()=>{n&&!t&&e()},[n,t,e])})();return(0,p.useEffect)(()=>{e()},[e]),Ib(t=>t.pathname===vx&&(e(),!0),[e]),(0,S.jsx)(yb.$,{to:"/"})},yx=p.lazy(async()=>{const{PlaylistFormatRedirectWithParams:e}=await o.e(2205).then(o.bind(o,24714));return{default:e}}),xx=e=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(yx,{...e})});var wx=o(69093),_x=o(38819);const Ax=p.lazy(()=>Promise.all([o.e(6593),o.e(4237),o.e(6488)]).then(o.bind(o,54237))),Sx=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Ax,{})}),Ex=()=>(0,wx.X)()?(0,S.jsx)(Vv.eZ,{navigationalRoot:tx.g.EXPLORE_PREMIUM,pageId:tm.$.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(Sx,{})}):(0,S.jsx)(yb.$,{to:"/"}),Cx=p.lazy(()=>o.e(5518).then(o.bind(o,43482))),jx=()=>(0,wx.X)()?(0,S.jsx)(Vv.eZ,{navigationalRoot:tx.g.EXPLORE_PREMIUM,pageId:tm.$.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Cx,{})})}):(0,S.jsx)(yb.$,{to:"/"});var Ix=o(41097);const Tx=({queueView:e})=>{const{openQueue:t}=(0,gb.R)();return(0,p.useLayoutEffect)(()=>{t(e)},[]),null},Nx=()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(re.qh,{path:"/queue",element:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Tx,{queueView:Ix.p.QUEUE}),(0,S.jsx)(yb.$,{to:"/"})]})},"/queue"),(0,S.jsx)(re.qh,{path:"/history",element:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Tx,{queueView:Ix.p.HISTORY}),(0,S.jsx)(yb.$,{to:"/"})]})},"/history")]});var Lx=o(3705);const kx=p.lazy(async()=>{const{ShowMoreLikeThisPage:e}=await o.e(9033).then(o.bind(o,4079));return{default:e}}),Rx=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(kx,{})}),Px=()=>[(0,S.jsx)(re.qh,{path:"/the-drop-weekly",element:(0,S.jsx)(jy,{errorName:"the_drop_weekly_not_supported"})},"the-drop-weekly")];var Dx=o(29947),Mx=o(54720),Ox=o(73186),Vx=o(57016);var zx=o(53556);const Hx=()=>{const{trackId:e=""}=(0,re.g)(),t=(0,Ox.n)(),n=(a=t)===Ae.ssn.AboveFansAlsoLike||a===Ae.ssn.AbovePopularReleases||a===Ae.ssn.AboveRecommendedBasedOnThisSong;var a;const i=(0,Ls.Mce)(e).toString(),s=(0,Mx.D)({entityType:Qa.c.TRACK,componentType:"fullPage",uri:i});return(0,zx.L)({uri:i}),n?(0,S.jsx)(h.s,{onError:s,children:(0,S.jsxs)("div",{className:"contentSpacing",children:[(0,S.jsx)(Dx.Q,{children:r.Ru.get("track-page.playlists-with-this-song")}),(0,S.jsx)(Vx.N$,{isFullPage:!0,limit:50,renderInVariant:t,uri:i})]})}):(0,S.jsx)(re.C5,{to:"/",replace:!0})};var Fx=o(92960);const Bx=p.memo(function(){const{trackId:e=""}=(0,re.g)(),t=(e=>`spotify:track:${e}`)(e);return(0,S.jsxs)("div",{className:"contentSpacing",children:[(0,S.jsx)(Dx.Q,{children:r.Ru.get("internal-link-recommender.more-recommended-releases")}),(0,S.jsx)(Fx.b,{uri:t,isFullPage:!0,title:r.Ru.get("internal-link-recommender.more-recommended-releases")})]})}),Ux=p.lazy(async()=>{const{WhatsNewFeed:e}=await o.e(4084).then(o.bind(o,61984));return{default:e}}),qx=()=>(0,S.jsx)(p.Suspense,{fallback:null,children:(0,S.jsx)(Ux,{})}),Wx=()=>(0,ve.V)()?(0,S.jsx)(yb.$,{to:"/"}):(0,S.jsx)(qx,{});var Qx=o(45814),Gx=o(43455);const Zx=`/playlist/${Qx.wn}`,$x=()=>{const{metadata:e,error:t,context:n}=(0,Gx._)(),{triggerPlay:a,isPlaying:r}=n,i=(0,l.wA)();return{isLoading:!e&&!t,callback:(0,p.useCallback)(()=>{e?r||a():i((0,s.eN)())},[r,a,i,e])}},Kx=()=>{const{isLoading:e,callback:t}=$x();return(0,p.useEffect)(()=>{e||t()},[e,t]),e?null:(0,S.jsx)(yb.$,{to:"/"})};var Yx=o(10994),Jx=o(61855),Xx=o(6889),ew=o(25174);const tw=(0,p.lazy)(()=>o.e(1845).then(o.bind(o,11802)));var nw=o(35833);const aw=(0,p.lazy)(()=>o.e(1845).then(o.bind(o,11802)));function rw(){const e=(0,re.zy)(),t=`/${(0,re.g)()["*"]??""}${e.search}`,n=e.pathname+e.search;return(0,S.jsx)(re.C5,{to:t===n?`/${e.search}`:t,replace:!0})}var iw=o(31943),sw=o(7100),ow=o(83307);const cw=p.lazy(()=>o.e(5962).then(o.bind(o,8543))),lw=p.lazy(()=>o.e(5962).then(o.bind(o,33117))),uw=p.lazy(()=>Promise.resolve().then(o.bind(o,58100))),dw=p.lazy(()=>o.e(3890).then(o.bind(o,26555))),hw=p.lazy(()=>o.e(6863).then(o.bind(o,340))),pw=p.lazy(()=>o.e(9480).then(o.bind(o,38583))),mw=p.lazy(()=>Promise.all([o.e(4724),o.e(8769),o.e(9209)]).then(o.bind(o,29626))),gw=p.lazy(()=>o.e(7320).then(o.bind(o,59960))),fw=p.lazy(()=>o.e(3779).then(o.bind(o,2996))),vw=p.lazy(()=>Promise.all([o.e(4064),o.e(8538),o.e(9555),o.e(8828)]).then(o.bind(o,7557))),bw=p.lazy(()=>Promise.all([o.e(484),o.e(3145),o.e(4064),o.e(1173),o.e(6080)]).then(o.bind(o,20529))),yw=p.lazy(()=>o.e(4389).then(o.bind(o,22006))),xw=p.lazy(()=>Promise.all([o.e(8277),o.e(4724),o.e(6556),o.e(5783)]).then(o.bind(o,13895))),ww=p.lazy(()=>o.e(5853).then(o.bind(o,61155))),_w=p.lazy(()=>Promise.all([o.e(7151),o.e(6221),o.e(6672),o.e(7385),o.e(7900),o.e(7125)]).then(o.bind(o,68663))),Aw=p.lazy(()=>o.e(1743).then(o.bind(o,44269))),Sw=p.lazy(()=>Promise.all([o.e(6672),o.e(7900),o.e(2889)]).then(o.bind(o,16550))),Ew=p.lazy(()=>Promise.all([o.e(1015),o.e(2225),o.e(2018),o.e(3145),o.e(4064),o.e(8538),o.e(9555),o.e(3990),o.e(2355)]).then(o.bind(o,42550))),Cw=p.lazy(()=>o.e(4496).then(o.bind(o,7223))),jw=p.lazy(()=>o.e(5663).then(o.bind(o,33527))),Iw=p.lazy(()=>Promise.all([o.e(7151),o.e(4734),o.e(3145),o.e(7385),o.e(8778),o.e(8606)]).then(o.bind(o,29492))),Tw=p.lazy(()=>Promise.all([o.e(7151),o.e(861),o.e(7385),o.e(6275),o.e(8778),o.e(9528)]).then(o.bind(o,5230))),Nw=p.lazy(()=>o.e(1785).then(o.bind(o,39264))),Lw=p.lazy(()=>o.e(6505).then(o.bind(o,21963))),kw=p.lazy(()=>o.e(42).then(o.bind(o,35648))),Rw=p.lazy(()=>o.e(42).then(o.bind(o,29296))),Pw=p.lazy(()=>o.e(8212).then(o.bind(o,98643))),Dw=p.lazy(()=>Promise.all([o.e(6593),o.e(4237),o.e(1396)]).then(o.bind(o,56569))),Mw=p.lazy(()=>o.e(7241).then(o.bind(o,10264))),Ow=p.lazy(()=>o.e(5523).then(o.bind(o,43712))),Vw=p.lazy(()=>Promise.all([o.e(4536),o.e(6541)]).then(o.bind(o,39715))),zw=p.lazy(()=>Promise.all([o.e(4536),o.e(6541)]).then(o.bind(o,42258))),Hw=p.lazy(()=>Promise.all([o.e(4536),o.e(6426)]).then(o.bind(o,8735))),Fw=e=>{const{viewId:t=""}=(0,re.g)();return t===Lx.r?(0,S.jsx)(jw,{...e}):(0,S.jsx)(Ry,{id:t})},Bw=()=>(0,t.NC)(Ae.hN5,{loadingValue:!1})?(0,S.jsx)(Aw,{}):null,Uw=({RoutesComponent:e=re.BV})=>{const t=(0,ow.o)();return(0,S.jsxs)(e,{children:[(0,S.jsx)(re.qh,{path:"tracks",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.COLLECTION_SONGS,children:(0,S.jsx)(vw,{})})}),(0,S.jsx)(re.qh,{path:"episodes",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.COLLECTION_PODCASTS_EPISODES,children:(0,S.jsx)(bw,{})})}),(0,S.jsx)(re.qh,{path:"your-episodes",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.COLLECTION_PODCASTS_EPISODES,children:(0,S.jsx)(bw,{})})}),t.canFetchAllTracks&&(0,S.jsx)(re.qh,{path:"local-files",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.LOCALFILES,children:(0,S.jsx)(yw,{})})}),(0,S.jsx)(re.qh,{path:"/*",element:(0,S.jsx)(yb.$,{to:"/collection/tracks"})})]})},qw=e=>{const{playlistId:t}=(0,re.g)();return(0,S.jsx)(Ew,{...e},t)},Ww=e=>{const{artistId:t}=(0,re.g)();return(0,S.jsx)(uw,{...e},t)},Qw=e=>{const{albumId:t}=(0,re.g)();return(0,S.jsx)(cw,{...e,albumUri:`spotify:album:${t}`},t)},Gw=e=>{const{albumId:t}=(0,re.g)();return(0,S.jsx)(lw,{...e,id:t},t)},Zw=e=>{const{showId:t}=(0,re.g)();return(0,S.jsx)(Iw,{...e},t)},$w=e=>{const{[ew.M3]:t}=(0,re.g)();return(0,S.jsx)(Tw,{...e},t)},Kw=({RoutesComponent:e=re.BV})=>{const n=(0,re.zy)();(()=>{const e=(0,Bl.J)(),t=(0,p.useRef)("");(0,p.useEffect)(()=>e.block((e,n)=>{let a=!1;for(const[t]of jb)t(e,n)&&(a=!0);const r=e.pathname+e.search+e.hash;if("PUSH"===n&&t.current===r&&(a=!0),a)return!1;t.current=r}),[e])})();const a=(0,l.d4)(e=>e.features.enableShows),{isAnonymous:i,productState:o}=(0,l.d4)(Ts.Ht),{isWeb:c,isDesktop:u,inAppPurchasesPolicy:d}=(0,Ut.V)(),h="premium"===o?.product,m=!(0,Ec.n)();(0,Yx.K)(),(()=>{const e=(0,t.NC)(Ae.fLU),n=(0,re.zy)(),a=(0,l.wA)(),r=(0,p.useRef)(n.pathname),i=(0,p.useCallback)(()=>{a((0,s.H2)())},[a]);(0,p.useEffect)(()=>{if(r.current===n.pathname){if(e===Ae.KwA.AllPagesSoftWall){const e=setTimeout(i,200);return()=>clearTimeout(e)}if((e===Ae.KwA.EntityPagesSoftWall||e===Ae.KwA.EntityPagesSoftWallDelayed)&&"/"!==r.current.replace(/^\/intl-[A-Za-z]{2}/i,"")){const t=e===Ae.KwA.EntityPagesSoftWall?200:5e3,n=setTimeout(i,t);return()=>clearTimeout(n)}}return r.current=n.pathname,()=>{}},[e,n.pathname,a,i])})();const{allEpisodeAdsRoute:g}={allEpisodeAdsRoute:(0,S.jsx)(re.qh,{path:(0,Xx.c)(ew.ob),element:(0,S.jsx)(tw,{surface:Jx.ui.PODCAST_SEE_ALL})},"all-episode-ads")},{allShowAdsRoute:f}={allShowAdsRoute:(0,S.jsx)(re.qh,{path:(0,nw.q)(ew.yA),element:(0,S.jsx)(aw,{surface:Jx.ui.PODCAST_SEE_ALL})},"all-show-ads")},v=(({isDesktop:e,isPremium:t,isOffline:n})=>{const a=(0,Xy.d)({type:"locale",uri:"home"});return[(0,S.jsxs)(re.qh,{path:"/",element:(0,S.jsx)(Vv.eZ,{navigationalRoot:tx.g.HOME,pageId:tm.$.HOME,entityUri:"spotify:app:home",children:(0,S.jsx)(dx,{isDesktop:e,isPremium:t,isOffline:n})}),children:[(0,S.jsx)(re.qh,{path:"/home",element:(0,S.jsx)(cx,{})},"home-subfeed"),e&&t&&(0,S.jsx)(re.qh,{path:"/music-downloads",element:(0,S.jsx)(ox,{})},"music-downloads"),(0,S.jsx)(re.qh,{index:!0,element:(0,S.jsx)(ux,{isDesktop:e,isPremium:t,isOffline:n})})]},"home"),a?ex.NW.map(a=>(0,S.jsxs)(re.qh,{path:`/${ex.CT}${a}`,element:(0,S.jsx)(Vv.eZ,{navigationalRoot:tx.g.HOME,pageId:tm.$.HOME,entityUri:"spotify:app:home",children:(0,S.jsx)(dx,{isDesktop:e,isPremium:t,isOffline:n})}),children:[(0,S.jsx)(re.qh,{path:`/${ex.CT}${a}/home`,element:(0,S.jsx)(cx,{})},"home-subfeed"),(0,S.jsx)(re.qh,{index:!0,element:(0,S.jsx)(ux,{isDesktop:e,isPremium:t,isOffline:n})})]},"home-i18n")):null,(0,S.jsx)(re.qh,{path:"/section/:sectionId",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.HOME_DRILLDOWN,children:(0,S.jsx)(lx,{})})},"home-section")]})({isDesktop:u,isPremium:h,isOffline:m}),b=(()=>{const{isLoading:e,callback:t}=$x();return Ib(n=>n.pathname===Zx&&(e||t(),!0),[e,t]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(re.qh,{path:Zx,element:(0,S.jsx)(Kx,{})},Zx)})})(),y=(0,S.jsx)(re.qh,{path:vx,element:(0,S.jsx)(bx,{})},vx),x=[(0,S.jsx)(re.qh,{path:"/cultural-moment/hub/:id",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.CULTURALMOMENTSHUB,children:(0,S.jsx)(Hy,{})})},"cultural-moment-hub")],w=Nx(),_=(()=>{const{isDesktop:e}=(0,Ut.V)(),t=e?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(fx,{}),(0,S.jsx)(yb.$,{to:"/"})]}):(0,S.jsx)(yb.$,{to:"/download"});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(re.qh,{path:"/internal/puffin-pigeon-onboarding",element:t},"/internal/puffin-pigeon-onboarding"),(0,S.jsx)(re.qh,{path:"/lossless-onboarding",element:t},"/lossless-onboarding")]})})(),A=(()=>{const{isDesktop:e}=(0,Ut.V)(),{isMagpieEnabled:t,isMagpiePromptingEnabled:n}=(0,hx.O)();if(!t||!n)return(0,S.jsx)(re.qh,{path:"/create-prompted-playlist",element:(0,S.jsx)(yb.$,{to:"/"})},"/create-prompted-playlist");const a=e?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(mx,{}),(0,S.jsx)(yb.$,{to:"/"})]}):(0,S.jsx)(yb.$,{to:"/download"});return(0,S.jsx)(re.qh,{path:"/create-prompted-playlist",element:a},"/create-prompted-playlist")})(),E=(0,S.jsx)(re.qh,{path:"/content-feed",element:(0,S.jsx)(Wx,{})}),C=(()=>{const e=r.Ru.getLocaleForURLPath(),t=(0,Yb.p)({entityFeatureFlag:!1,urlLocale:e,entity:Qa.c.PREMIUM,type:"link"})?(0,_x.hF)("/premium"):"/premium";return(0,S.jsx)(re.qh,{path:t,element:(0,S.jsx)(Ex,{})})})(),j=(()=>{const e=r.Ru.getLocaleForURLPath(),t=(0,Yb.p)({entityFeatureFlag:!1,urlLocale:e,entity:Qa.c.PREMIUM,type:"link"})?(0,_x.hF)("/premium"):"/premium";return(0,S.jsx)(re.qh,{path:t,element:(0,S.jsx)(jx,{})})})(),I=[(0,S.jsx)(re.qh,{path:fb.S.PARTICIPANTS_PAGE,Component:Eb},"social-session-participant-page"),(0,S.jsx)(re.qh,{path:"/socialsession/:id",Component:Ab},"social-session-invitation-fallback"),(0,S.jsx)(re.qh,{path:"/jam/:contextType?/:id?/:play?",Component:Sb},"jam-creation-fallback")],T=Iy(),N=Px(),{preferredAppToInstall:L}=(0,Ut.V)(),k=Ey(),R=(0,xh.H)(),P=(0,t.NC)(Ae.jEr),D=(0,t.NC)(Ae.zry,{loadingValue:!1});return(0,S.jsxs)(e,{children:[(0,S.jsx)(re.qh,{path:"/user/:userId/collection/your-episodes",element:(0,S.jsx)(yb.$,{to:"/collection/episodes"})}),(0,S.jsx)(re.qh,{path:"/user/:userId/collection/album/:albumId",element:(0,S.jsx)(yb.$,{to:"/album/:albumId"})}),(0,S.jsx)(re.qh,{path:"/user/:userId/collection/artist/:artistId",element:(0,S.jsx)(yb.$,{to:"/artist/:artistId/saved"})}),(0,S.jsx)(re.qh,{path:"/user/:userId/playlist/:playlistId",element:(0,S.jsx)(yb.$,{to:"/playlist/:playlistId"})}),(0,S.jsx)(re.qh,{path:"/browse/genres",element:(0,S.jsx)(yb.$,{to:"/genre/hub-browse-grid"})}),(0,S.jsx)(re.qh,{path:"/browse/newreleases",element:(0,S.jsx)(yb.$,{to:"/genre/new-releases-page"})}),(0,S.jsx)(re.qh,{path:"/browse/discover",element:(0,S.jsx)(yb.$,{to:"/genre/discover-page"})}),(0,S.jsx)(re.qh,{path:"/browse/charts",element:(0,S.jsx)(yb.$,{to:"/genre/browse-charts-tab"})}),(0,S.jsx)(re.qh,{path:"/browse/featured",element:(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:"/browse",element:(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:`/playlist/${sw.iU}`,element:(0,S.jsx)(yb.$,{to:"/collection/episodes"})}),(0,S.jsx)(re.qh,{path:`/playlist/${sw._J}`,element:(0,S.jsx)(yb.$,{to:"/collection/tracks"})}),(0,S.jsx)(re.qh,{path:"/grizzly",element:(0,S.jsx)(Uy,{})}),iw.BG.map(e=>(0,S.jsx)(re.qh,{path:e,element:(0,S.jsx)(yb.$,{to:iw.yf})},e)),(0,S.jsx)(re.qh,{path:"/internal/recs/playlist/:playlistId",element:(0,S.jsx)(yb.$,{to:"/playlist/:playlistId"})}),(0,S.jsx)(re.qh,{path:"/settings",element:(0,S.jsx)(yb.$,{to:"/"})}),i?[(0,S.jsx)(re.qh,{path:"/collection/*",element:(0,S.jsx)(yb.$,{to:"/"})},"collection-redirect")]:[(0,S.jsx)(re.qh,{path:"/collection",element:(0,S.jsx)(yb.$,{to:"/collection/tracks"})},"collection-redirect")],v,b,y,x,T,N,k,w,_,A,E,"notAllowed"===d?j:C,I,(0,S.jsx)(re.qh,{path:"/user/:userId/collection",element:(0,S.jsx)(yb.$,{to:{search:n.search,pathname:"/collection/tracks"}})}),(0,S.jsx)(re.qh,{path:"/search/*",element:(0,S.jsx)(_w,{})}),(0,S.jsx)(re.qh,{path:"/recent-searches",element:(0,S.jsx)(Vv.eZ,{navigationalRoot:tx.g.SEARCH,pageId:tm.$.SEARCH_RECENT,children:(0,S.jsx)(Sw,{})})}),(0,S.jsx)(re.qh,{path:"/collection/*",element:(0,S.jsx)(Uw,{RoutesComponent:e})}),(0,S.jsx)(re.qh,{path:"/artist/:artistId/*",element:(0,S.jsx)(Ww,{})}),(0,S.jsx)(re.qh,{path:"/album/:albumId/*",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.ALBUM,children:(0,S.jsx)(Qw,{})})}),(0,S.jsx)(re.qh,{path:"/prerelease/:albumId/*",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.PRERELEASE,children:(0,S.jsx)(Gw,{})})}),(0,S.jsx)(re.qh,{path:"/playlist-format/:title",element:(0,S.jsx)(xx,{isAnonymous:i})}),(0,S.jsx)(re.qh,{path:"/playlist-format/:title/:category",element:(0,S.jsx)(xx,{isAnonymous:i})}),(0,S.jsx)(re.qh,{path:"/track/:trackId/*",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.TRACK,children:c?(0,S.jsx)(hw,{}):(0,S.jsx)(dw,{})})}),(0,S.jsx)(re.qh,{path:"/track/:trackId/more-like-this",element:(0,S.jsx)(Bx,{})},"more-like-this-track"),(0,S.jsx)(re.qh,{path:"/track/:trackId/playlists-with-this-song",element:(0,S.jsx)(Hx,{})},"playlists-with-this-song"),(0,S.jsx)(re.qh,{path:"/playlist/:playlistId/see-all-ads",element:(0,S.jsx)(_y,{})}),(0,S.jsx)(re.qh,{path:"/playlist/:playlistId/*",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.PLAYLIST,children:(0,S.jsx)(qw,{})})}),!1,(0,S.jsx)(re.qh,{path:"/user/:username/folder/:folderId",element:(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:"/folder/:folderId/*",element:(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:"/user/:userId/*",element:(0,S.jsx)(pw,{})}),(0,S.jsx)(re.qh,{path:"/genre/corona_news_podcasts",element:(0,S.jsx)(yb.$,{to:"/genre/corona_news_podcasts-page"})}),(0,S.jsx)(re.qh,{path:"/genre/:viewId",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.GENRE,children:(0,S.jsx)(Fw,{})})}),(0,S.jsx)(re.qh,{path:ys.d,element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.RECENTS,children:(0,S.jsx)(Bw,{})})}),(0,S.jsx)(re.qh,{path:"/view/:viewId",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.HOME_DRILLDOWN,children:(0,S.jsx)(Fw,{})})}),(0,S.jsx)(re.qh,{path:"/concerts-page",element:(0,S.jsx)(yb.$,{to:"/concerts"})}),(0,S.jsx)(re.qh,{path:"/concerts/location/:location",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.CONCERTS,children:(0,S.jsx)(xw,{})})}),(0,S.jsx)(re.qh,{path:"/concerts/location/:location/genre/:id",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.CONCERTS,children:(0,S.jsx)(xw,{})})}),(0,S.jsx)(re.qh,{path:"/concerts/genre/:id",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.CONCERTS,children:(0,S.jsx)(xw,{})})}),(0,S.jsx)(re.qh,{path:"/concerts/:slug",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.CONCERTS,children:(0,S.jsx)(ww,{})})}),(0,S.jsx)(re.qh,{path:"/concerts",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.CONCERTS,children:(0,S.jsx)(xw,{})})}),(0,S.jsx)(re.qh,{path:"/concert/:concertId",element:(0,S.jsx)(mw,{})}),(0,S.jsx)(re.qh,{path:"/concert-campaign/:concertCampaignId",element:D?(0,S.jsx)(gw,{}):(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:"/venue/:venueId",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.VENUE,children:(0,S.jsx)(Mw,{})})}),"desktop"===L&&fw&&(0,S.jsx)(re.qh,{path:"/download",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.DOWNLOAD_DESKTOP,children:(0,S.jsx)(fw,{})})}),(0,S.jsx)(re.qh,{path:"/lyrics",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.LYRICS,entityUri:"spotify:app:lyrics",children:(0,S.jsx)(Lw,{})})}),(0,S.jsx)(re.qh,{path:"/preferences",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.SETTINGS,navigationalRoot:tx.g.SETTINGS,children:(0,S.jsx)(Nw,{})})}),(0,S.jsx)(re.qh,{path:"/premium",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(Dw,{})})}),(0,S.jsx)(re.qh,{path:"/radio/:entity/:id",element:(0,S.jsx)(yb.$,{to:"/:entity/:id"})}),(0,S.jsx)(re.qh,{path:"/station/:entity/:id",element:(0,S.jsx)(yb.$,{to:"/:entity/:id"})}),(0,S.jsx)(re.qh,{path:"/new/playlist",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.PLAYLIST_CREATE,children:(0,S.jsx)(Cw,{})})}),(0,S.jsx)(re.qh,{path:"/blend/taste-match/:invitationId",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.BLEND_TASTE_MATCH,children:(0,S.jsx)(kw,{})})}),(0,S.jsx)(re.qh,{path:"/blend/invitation",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.BLEND_INVITATION,children:(0,S.jsx)(Rw,{})})}),(0,S.jsx)(re.qh,{path:"/_pong",element:(0,S.jsx)(Pw,{})}),(0,S.jsx)(re.qh,{path:"/blend/invitation-page",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.BLEND_INVITATION,children:(0,S.jsx)(Rw,{})})}),(0,S.jsx)(re.qh,{path:"/blend/ci/:playlistId",element:(0,S.jsx)(yb.$,{to:"/playlist/:playlistId"})}),(0,S.jsx)(re.qh,{path:"/__noul__",element:(0,S.jsx)(rw,{})}),(0,S.jsx)(re.qh,{path:"/__noul__/*",element:(0,S.jsx)(rw,{})}),a?[(0,S.jsx)(re.qh,{path:"/browse/podcasts",element:(0,S.jsx)(yb.$,{to:"/genre/podcasts-web"})},"podcasts"),f,(0,S.jsx)(re.qh,{path:ew.e2,element:(0,S.jsx)(Zw,{})},ew.e2),(0,S.jsx)(re.qh,{path:"/show/:showId/more-like-this",element:c?(0,S.jsx)(Rx,{}):(0,S.jsx)(yb.$,{to:"/"})},"more-like-this-shows"),(0,S.jsx)(re.qh,{path:"/episode/:episodeId/more-like-this",element:c?(0,S.jsx)(By,{}):(0,S.jsx)(yb.$,{to:"/"})},"more-like-this-episodes"),g,(0,S.jsx)(re.qh,{path:ew.Ch,element:(0,S.jsx)($w,{})},"episode")]:[(0,S.jsx)(re.qh,{path:"/browse/podcasts",element:(0,S.jsx)(yb.$,{to:"/"})},"podcasts"),(0,S.jsx)(re.qh,{path:"/show/*",element:(0,S.jsx)(yb.$,{to:"/"})},"show"),(0,S.jsx)(re.qh,{path:"/episode/*",element:(0,S.jsx)(yb.$,{to:"/"})},"episode")],(0,S.jsx)(re.qh,{path:"/site/:lookupToken",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.THESTAGE,children:(0,S.jsx)(Ow,{})})}),(0,S.jsx)(re.qh,{path:"/presents/:lookupToken",element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.THESTAGE,children:(0,S.jsx)(Ow,{})})}),(0,S.jsx)(re.qh,{path:"/popular-in/:country",element:(0,S.jsx)(Dy,{})}),(0,S.jsx)(re.qh,{path:"/popular-all/:contentId/:country",element:(0,S.jsx)(Oy,{})}),(0,S.jsx)(re.qh,{path:"/label/:labelId",element:P?(0,S.jsx)(Vw,{}):(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:"/label/:labelId/albums/top",element:P?(0,S.jsx)(zw,{}):(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:"/label/:labelId/albums/latest",element:P?(0,S.jsx)(zw,{}):(0,S.jsx)(yb.$,{to:"/"})}),(0,S.jsx)(re.qh,{path:"/label/:labelId/artists",element:P?(0,S.jsx)(Hw,{}):(0,S.jsx)(yb.$,{to:"/"})}),ex.NW.map(e=>((e,t)=>[(0,S.jsx)(re.qh,{path:`/${ex.CT}${t}/track/:trackId`,element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.TRACK,children:e?(0,S.jsx)(hw,{}):(0,S.jsx)(dw,{})})},"locale_track"),(0,S.jsx)(re.qh,{path:`/${ex.CT}${t}/track/:trackId/more-like-this`,element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.TRACK,children:(0,S.jsx)(Bx,{})})},"locale_track_more_like_this"),(0,S.jsx)(re.qh,{path:`/${ex.CT}${t}/artist/:artistId/*`,element:(0,S.jsx)(Ww,{})},"locale_artist"),(0,S.jsx)(re.qh,{path:`/${ex.CT}${t}/album/:albumId`,element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.ALBUM,children:(0,S.jsx)(Qw,{})})},"locale_album"),(0,S.jsx)(re.qh,{path:`/${ex.CT}${t}/premium`,element:(0,S.jsx)(Vv.eZ,{pageId:tm.$.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(Dw,{})})},"locale_premium"),(0,S.jsx)(re.qh,{path:`/${ex.CT}${t}/popular-in/:country`,element:(0,S.jsx)(Dy,{})},"locale_country_hub"),(0,S.jsx)(re.qh,{path:`/${ex.CT}${t}/popular-all/:contentId/:country`,element:(0,S.jsx)(Oy,{})},"locale_country_hub_section")])(c,e)),null,!1,R?(0,S.jsx)(re.qh,{path:"/author/:authorId/*",element:(0,S.jsx)(Ty,{})}):null]})},Yw=(0,p.memo)(function(){return(0,S.jsx)(xy,{children:(0,S.jsx)(p.Suspense,{fallback:(0,S.jsx)(qt.LoadingPage,{hasError:!1,errorMessage:"",loadOffline:!0}),children:(0,S.jsx)(Kw,{})})})});var Jw=o(14620),Xw=o(2509);const e_=({registry:e,children:t})=>{const n=(0,p.useContext)(Jw.N);return null!==n&&(e=(0,Xw.I)([e,n])),(0,S.jsx)(Jw.N.Provider,{value:e,children:t})},t_=({store:e,platform:t})=>{const n=[(0,S.jsx)(Sa.IF,{}),(0,S.jsx)(Ut.j,{}),(0,S.jsx)(zt.GM,{}),(0,S.jsx)(c.vd,{}),(0,S.jsx)(I.wI,{}),(0,S.jsx)(ue.Pj,{}),(0,S.jsx)(Vt.nI,{}),(0,S.jsx)(u.SF,{}),(0,S.jsx)(d.id,{}),(0,S.jsx)(Ed.yd,{}),(0,S.jsx)(Ht.d,{eventSender:t.getEventSender()})];return(0,S.jsx)(Bt,{history:t.getHistory(),children:(0,S.jsx)(h.s,{onError:e=>(0,An.Jy)(e,"App"),Fallback:j,children:(0,S.jsx)(l.Kq,{store:e,children:(0,S.jsx)(e_,{registry:t.getRegistry(),children:(0,S.jsxs)(Ot,{platform:t,children:[(0,S.jsx)(oe,{eventSender:t.getEventSender()}),(0,S.jsxs)(At,{providers:n,children:[(0,S.jsx)(K,{}),(0,S.jsx)(V,{}),(0,S.jsx)(Yw,{})]})]})})})})})},n_="POP",a_="PUSH",r_="REPLACE";function i_(e,t){return{canGoBack:e>0,canGoForward:e<t.length-1}}var s_=o(8427);o(20276),o(65823);const o_=!1;function c_(e){o_}var l_=o(26908),u_=o(11229);const d_=e=>{window?.performance?.mark&&e&&window.performance.mark(e)},h_=(e,t,n)=>window?.performance?.measure&&window?.performance?.getEntriesByName&&e&&t&&n?(window.performance.measure(n,e,t),window.performance.getEntriesByName(n)):[];var p_=o(6445);var m_=o(55637),g_=o(42595),f_=o(42256),v_=o(33009),b_=o(23129),y_=o(15720),x_=o(73696),w_=o(93194),__=o(40401),A_=o(95789),S_=o(39895),E_=o(18217),C_=o(53924),j_=o(19619);const I_={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function T_(e,t={}){const n=new Map;let a,r=!1,i="externalFinish",s=!t.disableAutoFinish;const o=[],{idleTimeout:c=I_.idleTimeout,finalTimeout:l=I_.finalTimeout,childSpanTimeout:u=I_.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:h=!0}=t,p=(0,m_.KU)();if(!p||!(0,b_.f)()){const e=new S_.w,t={sample_rate:"0",sampled:"false",...(0,A_.k1)(e)};return(0,A_.LZ)(e,t),e}const m=(0,m_.o5)(),g=(0,w_.Bk)(),f=function(e){const t=(0,j_.Uk)(e);return(0,x_.r)((0,m_.o5)(),t),g_.T&&v_.Yz.log("[Tracing] Started span is an idle span"),t}(e);function v(){a&&(clearTimeout(a),a=void 0)}function b(e){v(),a=setTimeout(()=>{!r&&0===n.size&&s&&(i="idleTimeout",f.end(e))},c)}function y(e){a=setTimeout(()=>{!r&&s&&(i="heartbeatFailed",f.end(e))},u)}function x(e){r=!0,n.clear(),o.forEach(e=>e()),(0,x_.r)(m,g);const t=(0,w_.et)(f),{start_timestamp:a}=t;if(!a)return;t.data[f_.fs]||f.setAttribute(f_.fs,i);const s=t.status;s&&"unknown"!==s||f.setStatus({code:C_.F3}),v_.Yz.log(`[Tracing] Idle span "${t.op}" finished`);const u=(0,w_.xO)(f).filter(e=>e!==f);let d=0;u.forEach(t=>{t.isRecording()&&(t.setStatus({code:C_.TJ,message:"cancelled"}),t.end(e),g_.T&&v_.Yz.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=(0,w_.et)(t),{timestamp:a=0,start_timestamp:r=0}=n,i=r<=e,s=a-r<=(l+c)/1e3;if(g_.T){const e=JSON.stringify(t,void 0,2);i?s||v_.Yz.log("[Tracing] Discarding span since it finished after idle span final timeout",e):v_.Yz.log("[Tracing] Discarding span since it happened after idle span was finished",e)}s&&i||((0,w_.VS)(f,t),d++)}),d>0&&f.setAttribute("sentry.idle_span_discarded_spans",d)}return f.end=new Proxy(f.end,{apply(e,t,n){if(d&&d(f),t instanceof S_.w)return;const[a,...r]=n,i=a||(0,__.zf)(),s=(0,w_.cI)(i),o=(0,w_.xO)(f).filter(e=>e!==f),c=(0,w_.et)(f);if(!o.length||!h)return x(s),Reflect.apply(e,t,[s,...r]);const u=p.getOptions().ignoreSpans,m=o?.reduce((e,t)=>{const n=(0,w_.et)(t);return n.timestamp?u&&(0,y_.e)(n,u)?e:e?Math.max(e,n.timestamp):n.timestamp:e},void 0),g=c.start_timestamp,v=Math.min(g?g+l/1e3:1/0,Math.max(g||-1/0,Math.min(s,m||1/0)));return x(v),Reflect.apply(e,t,[v,...r])}}),o.push(p.on("spanStart",e=>{if(r||e===f||(0,w_.et)(e).timestamp||e instanceof E_.W&&e.isStandaloneSpan())return;var t;(0,w_.xO)(f).includes(e)&&(t=e.spanContext().spanId,v(),n.set(t,!0),y((0,__.zf)()+u/1e3))})),o.push(p.on("spanEnd",e=>{var t;r||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&b((0,__.zf)()+c/1e3))})),o.push(p.on("idleSpanEnableAutoFinish",e=>{e===f&&(s=!0,b(),n.size&&y())})),t.disableAutoFinish||b(),setTimeout(()=>{r||(f.setStatus({code:C_.TJ,message:"deadline_exceeded"}),i="finalTimeout",f.end())},l),f}var N_=o(39852),L_=o(35510);let k_=!1;var R_=o(6220),P_=o(9630),D_=o(81257),M_=o(59043),O_=o(63094),V_=o(82144),z_=o(70532),H_=o(38158),F_=o(81539),B_=o(45916),U_=o(20363),q_=o(88438);const W_=(e,t,n,a)=>{let r,i;return s=>{t.value>=0&&(s||a)&&(i=t.value-(r??0),(i||void 0===r)&&(r=t.value,t.delta=i,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},Q_=(e=!0)=>{const t=B_.j.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},G_=()=>{const e=Q_();return e?.activationStart??0};function Z_(e,t,n){B_.j.document&&B_.j.addEventListener(e,t,n)}function $_(e,t,n){B_.j.document&&B_.j.removeEventListener(e,t,n)}let K_=-1;const Y_=new Set,J_=e=>{if(function(e){return"pagehide"===e.type||"hidden"===B_.j.document?.visibilityState}(e)&&K_>-1){if("visibilitychange"===e.type||"pagehide"===e.type)for(const e of Y_)e();isFinite(K_)||(K_="visibilitychange"===e.type?e.timeStamp:0,$_("prerenderingchange",J_,!0))}},X_=()=>{if(B_.j.document&&K_<0){const e=G_(),t=B_.j.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;K_=t??("hidden"!==B_.j.document?.visibilityState||B_.j.document?.prerendering?1/0:0),Z_("visibilitychange",J_,!0),Z_("pagehide",J_,!0),Z_("prerenderingchange",J_,!0)}return{get firstHiddenTime(){return K_},onHidden(e){Y_.add(e)}}};const eA=(e,t=-1)=>{const n=Q_();let a="navigate";n&&(B_.j.document?.prerendering||G_()>0?a="prerender":B_.j.document?.wasDiscarded?a="restore":n.type&&(a=n.type.replace(/_/g,"-")));return{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:a}},tA=new WeakMap;function nA(e,t){return tA.get(e)||tA.set(e,new t),tA.get(e)}class aA{constructor(){aA.prototype.__init.call(this),aA.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const t=this._sessionEntries[0],n=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const rA=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const a=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return a.observe({type:e,buffered:!0,...n}),a}}catch{}},iA=e=>{let t=!1;return()=>{t||(e(),t=!0)}},sA=e=>{B_.j.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},oA=[1800,3e3],cA=[.1,.25],lA=(e,t={})=>{((e,t={})=>{sA(()=>{const n=X_(),a=eA("FCP");let r;const i=rA("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<n.firstHiddenTime&&(a.value=Math.max(t.startTime-G_(),0),a.entries.push(t),r(!0)))});i&&(r=W_(e,a,oA,t.reportAllChanges))})})(iA(()=>{const n=eA("CLS",0);let a;const r=X_(),i=nA(t,aA),s=e=>{for(const t of e)i._processEntry(t);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,a())},o=rA("layout-shift",s);o&&(a=W_(e,n,cA,t.reportAllChanges),r.onHidden(()=>{s(o.takeRecords()),a(!0)}),B_.j?.setTimeout?.(a))}))};let uA=0,dA=1/0,hA=0;const pA=e=>{e.forEach(e=>{e.interactionId&&(dA=Math.min(dA,e.interactionId),hA=Math.max(hA,e.interactionId),uA=hA?(hA-dA)/7+1:0)})};let mA;const gA=()=>mA?uA:performance.interactionCount||0,fA=()=>{"interactionCount"in performance||mA||(mA=rA("event",pA,{type:"event",buffered:!0,durationThreshold:0}))};let vA=0;class bA{constructor(){bA.prototype.__init.call(this),bA.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){vA=gA(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor((gA()-vA)/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this._longestInteractionList.at(-1);let n=this._longestInteractionMap.get(e.interactionId);if(n||this._longestInteractionList.length<10||e.duration>t._latency){if(n?e.duration>n._latency?(n.entries=[e],n._latency=e.duration):e.duration===n._latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(n.id,n),this._longestInteractionList.push(n)),this._longestInteractionList.sort((e,t)=>t._latency-e._latency),this._longestInteractionList.length>10){const e=this._longestInteractionList.splice(10);for(const t of e)this._longestInteractionMap.delete(t.id)}this._onAfterProcessingINPCandidate?.(n)}}}const yA=e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==B_.j.document?.visibilityState||e(t)};Z_("visibilitychange",t,!0),Z_("pagehide",t,!0)},xA=e=>{const t=B_.j.requestIdleCallback||B_.j.setTimeout;"hidden"===B_.j.document?.visibilityState?e():(Z_("visibilitychange",e=iA(e),{once:!0,capture:!0}),t(()=>{e(),$_("visibilitychange",e,{capture:!0})}),yA(e))},wA=[200,500];class _A{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const AA=[2500,4e3],SA=[800,1800],EA=e=>{B_.j.document?.prerendering?sA(()=>EA(e)):"complete"!==B_.j.document?.readyState?addEventListener("load",()=>EA(e),!0):setTimeout(e)},CA={},jA={};let IA,TA,NA,LA;function kA(e,t=!1){return HA("cls",e,MA,IA,t)}function RA(e,t=!1){return HA("lcp",e,OA,TA,t)}function PA(e,t){return FA(e,t),jA[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);rA(e,t=>{DA(e,{entries:t})},t)}(e),jA[e]=!0),BA(e,t)}function DA(e,t){const n=CA[e];if(n?.length)for(const a of n)try{a(t)}catch(t){U_.T&&v_.Yz.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,q_.qQ)(a)}\nError:`,t)}}function MA(){return lA(e=>{DA("cls",{metric:e}),IA=e},{reportAllChanges:!0})}function OA(){return((e,t={})=>{sA(()=>{const n=X_(),a=eA("LCP");let r;const i=nA(t,_A),s=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)i._processEntry(t),t.startTime<n.firstHiddenTime&&(a.value=Math.max(t.startTime-G_(),0),a.entries=[t],r())},o=rA("largest-contentful-paint",s);if(o){r=W_(e,a,AA,t.reportAllChanges);const n=iA(()=>{s(o.takeRecords()),o.disconnect(),r(!0)}),i=e=>{e.isTrusted&&(xA(n),$_(e.type,i,{capture:!0}))};for(const e of["keydown","click","visibilitychange"])Z_(e,i,{capture:!0})}})})(e=>{DA("lcp",{metric:e}),TA=e},{reportAllChanges:!0})}function VA(){return((e,t={})=>{const n=eA("TTFB"),a=W_(e,n,SA,t.reportAllChanges);EA(()=>{const e=Q_();e&&(n.value=Math.max(e.responseStart-G_(),0),n.entries=[e],a(!0))})})(e=>{DA("ttfb",{metric:e}),NA=e})}function zA(){return((e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const n=X_();sA(()=>{fA();const a=eA("INP");let r;const i=nA(t,bA),s=e=>{xA(()=>{for(const t of e)i._processEntry(t);const t=i._estimateP98LongestInteraction();t&&t._latency!==a.value&&(a.value=t._latency,a.entries=t.entries,r())})},o=rA("event",s,{durationThreshold:t.durationThreshold??40});r=W_(e,a,wA,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{s(o.takeRecords()),r(!0)}))})})(e=>{DA("inp",{metric:e}),LA=e})}function HA(e,t,n,a,r=!1){let i;return FA(e,t),jA[e]||(i=n(),jA[e]=!0),a&&t({metric:a}),BA(e,t,r?i:void 0)}function FA(e,t){CA[e]=CA[e]||[],CA[e].push(t)}function BA(e,t,n){return()=>{n&&n();const a=CA[e];if(!a)return;const r=a.indexOf(t);-1!==r&&a.splice(r,1)}}function UA(e){return"number"==typeof e&&isFinite(e)}function qA(e,t,n,{...a}){const r=(0,w_.et)(e).start_timestamp;return r&&r>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),(0,j_.hb)(e,()=>{const e=(0,j_.Uk)({startTime:t,...a});return e&&e.end(n),e})}function WA(e){const t=(0,m_.KU)();if(!t)return;const{name:n,transaction:a,attributes:r,startTime:i}=e,{release:s,environment:o,sendDefaultPii:c}=t.getOptions(),l=t.getIntegrationByName("Replay"),u=l?.getReplayId(),d=(0,m_.o5)(),h=d.getUser(),p=void 0!==h?h.email||h.id||h.ip_address:void 0;let m;try{m=d.getScopeData().contexts.profile.profile_id}catch{}const g={release:s,environment:o,user:p||void 0,profile_id:m||void 0,replay_id:u||void 0,transaction:a,"user_agent.original":B_.j.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...r};return(0,j_.Uk)({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function QA(){return B_.j.addEventListener&&B_.j.performance}function GA(e){return e/1e3}function ZA(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function $A(e,t){let n,a=!1;function r(e){!a&&n&&t(e,n),a=!0}yA(()=>{r("pagehide")});const i=e.on("beforeStartNavigationSpan",(e,t)=>{t?.isRedirect||(r("navigation"),i(),s())}),s=e.on("afterStartPageLoadSpan",e=>{n=e.spanContext().spanId,s()})}function KA(e){let t,n=0;if(!ZA("layout-shift"))return;const a=kA(({metric:e})=>{const a=e.entries[e.entries.length-1];a&&(n=e.value,t=a)},!0);$A(e,(e,r)=>{!function(e,t,n,a){U_.T&&v_.Yz.log(`Sending CLS span (${e})`);const r=t?GA(((0,__.k3)()||0)+t.startTime):(0,__.zf)(),i=(0,m_.o5)().getScopeData().transactionName,s=t?(0,M_.Hd)(t.sources[0]?.node):"Layout shift",o={[f_.JD]:"auto.http.browser.cls",[f_.uT]:"ui.webvital.cls",[f_.jG]:0,"sentry.pageload.span_id":n,"sentry.report_event":a};t?.sources&&t.sources.forEach((e,t)=>{o[`cls.source.${t+1}`]=(0,M_.Hd)(e.node)});const c=WA({name:s,transaction:i,attributes:o,startTime:r});c&&(c.addEvent("cls",{[f_.Sn]:"",[f_.xc]:e}),c.end(r))}(n,t,r,e),a()})}function YA(e){let t,n=0;if(!ZA("largest-contentful-paint"))return;const a=RA(({metric:e})=>{const a=e.entries[e.entries.length-1];a&&(n=e.value,t=a)},!0);$A(e,(e,r)=>{!function(e,t,n,a){U_.T&&v_.Yz.log(`Sending LCP span (${e})`);const r=GA(((0,__.k3)()||0)+(t?.startTime||0)),i=(0,m_.o5)().getScopeData().transactionName,s=t?(0,M_.Hd)(t.element):"Largest contentful paint",o={[f_.JD]:"auto.http.browser.lcp",[f_.uT]:"ui.webvital.lcp",[f_.jG]:0,"sentry.pageload.span_id":n,"sentry.report_event":a};t&&(t.element&&(o["lcp.element"]=(0,M_.Hd)(t.element)),t.id&&(o["lcp.id"]=t.id),t.url&&(o["lcp.url"]=t.url),null!=t.loadTime&&(o["lcp.loadTime"]=t.loadTime),null!=t.renderTime&&(o["lcp.renderTime"]=t.renderTime),null!=t.size&&(o["lcp.size"]=t.size));const c=WA({name:s,transaction:i,attributes:o,startTime:r});c&&(c.addEvent("lcp",{[f_.Sn]:"millisecond",[f_.xc]:e}),c.end(r))}(n,t,r,e),a()})}function JA(e){return e?(((0,__.k3)()||performance.timeOrigin)+e)/1e3:e}function XA(e){const t={};if(null!=e.nextHopProtocol){const{name:n,version:a}=function(e){let t="unknown",n="unknown",a="";for(const r of e){if("/"===r){[t,n]=e.split("/");break}if(!isNaN(Number(r))){t="h"===a?"http":a,n=e.split(a)[1];break}a+=r}return a===e&&(t=a),{name:t,version:n}}(e.nextHopProtocol);t["network.protocol.version"]=a,t["network.protocol.name"]=n}return(0,__.k3)()||QA()?.timeOrigin?(n={...t,"http.request.redirect_start":JA(e.redirectStart),"http.request.redirect_end":JA(e.redirectEnd),"http.request.worker_start":JA(e.workerStart),"http.request.fetch_start":JA(e.fetchStart),"http.request.domain_lookup_start":JA(e.domainLookupStart),"http.request.domain_lookup_end":JA(e.domainLookupEnd),"http.request.connect_start":JA(e.connectStart),"http.request.secure_connection_start":JA(e.secureConnectionStart),"http.request.connection_end":JA(e.connectEnd),"http.request.request_start":JA(e.requestStart),"http.request.response_start":JA(e.responseStart),"http.request.response_end":JA(e.responseEnd),"http.request.time_to_first_byte":null!=e.responseStart?e.responseStart/1e3:void 0},Object.fromEntries(Object.entries(n).filter(([,e])=>null!=e))):t;var n}const eS=2147483647;let tS,nS,aS=0,rS={};function iS({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const a=QA();if(a&&(0,__.k3)()){a.mark&&B_.j.performance.mark("sentry-tracing-init");const r=t?YA(n):RA(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(rS.lcp={value:e.value,unit:"millisecond"},tS=t)},!0),i=HA("ttfb",({metric:e})=>{e.entries[e.entries.length-1]&&(rS.ttfb={value:e.value,unit:"millisecond"})},VA,NA),s=e?KA(n):kA(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(rS.cls={value:e.value,unit:""},nS=t)},!0);return()=>{r?.(),i(),s?.()}}return()=>{}}function sS(e,t){const n=QA(),a=(0,__.k3)();if(!n?.getEntries||!a)return;const r=GA(a),i=n.getEntries(),{op:s,start_timestamp:o}=(0,w_.et)(e);i.slice(aS).forEach(n=>{const a=GA(n.startTime),i=GA(Math.max(0,n.duration));if(!("navigation"===s&&o&&r+a<o))switch(n.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(a=>{oS(e,t,a,n)}),oS(e,t,"secureConnection",n,"TLS/SSL"),oS(e,t,"fetch",n,"cache"),oS(e,t,"domainLookup",n,"DNS"),function(e,t,n){const a=n+GA(t.requestStart),r=n+GA(t.responseEnd),i=n+GA(t.responseStart);t.responseEnd&&(qA(e,a,r,{op:"browser.request",name:t.name,attributes:{[f_.JD]:"auto.ui.browser.metrics"}}),qA(e,i,r,{op:"browser.response",name:t.name,attributes:{[f_.JD]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,n,r);break;case"mark":case"paint":case"measure":{!function(e,t,n,a,r,i){if(function(e){if("measure"!==e?.entryType)return;try{return"Components "===e.detail.devtools.track}catch{return}}(t))return;if(["mark","measure"].includes(t.entryType)&&(0,H_.Xr)(t.name,i))return;const s=Q_(!1),o=GA(s?s.requestStart:0),c=r+Math.max(n,o),l=r+n,u=l+a,d={[f_.JD]:"auto.resource.browser.metrics"};c!==l&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c);(function(e,t){try{const n=t.detail;if(!n)return;if("object"==typeof n){for(const[t,a]of Object.entries(n))if(a&&(0,F_.sO)(a))e[`sentry.browser.measure.detail.${t}`]=a;else if(void 0!==a)try{e[`sentry.browser.measure.detail.${t}`]=JSON.stringify(a)}catch{}return}if((0,F_.sO)(n))return void(e["sentry.browser.measure.detail"]=n);try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}})(d,t),c<=u&&qA(e,c,u,{name:t.name,op:t.entryType,attributes:d})}(e,n,a,i,r,t.ignorePerformanceApiSpans);const s=X_(),o=n.startTime<s.firstHiddenTime;"first-paint"===n.name&&o&&(rS.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&o&&(rS.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,a,r,i,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const o=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(o))return;const c={[f_.JD]:"auto.resource.browser.metrics"},l=(0,O_.Dl)(n);l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop());l.host&&(c["server.address"]=l.host);c["url.same_origin"]=n.includes(B_.j.location.origin),function(e,t,n){n.forEach(([n,a])=>{const r=e[n];null!=r&&("number"==typeof r&&r<eS||"string"==typeof r)&&(t[a]=r)})}(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const u={...c,...XA(t)},d=i+a,h=d+r;qA(e,d,h,{name:n.replace(B_.j.location.origin,""),op:o,attributes:u})}(e,n,n.name,a,i,r,t.ignoreResourceSpans)}}),aS=Math.max(i.length-1,0),function(e){const t=B_.j.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),UA(n.rtt)&&(rS["connection.rtt"]={value:n.rtt,unit:"millisecond"}));UA(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);UA(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s&&(function(e){const t=Q_(!1);if(!t)return;const{responseStart:n,requestStart:a}=t;a<=n&&(e["ttfb.requestTime"]={value:n-a,unit:"millisecond"})}(rS),t.recordClsOnPageloadSpan||delete rS.cls,t.recordLcpOnPageloadSpan||delete rS.lcp,Object.entries(rS).forEach(([e,t])=>{(0,z_.X)(e,t.value,t.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",G_()),function(e,t){tS&&t.recordLcpOnPageloadSpan&&(tS.element&&e.setAttribute("lcp.element",(0,M_.Hd)(tS.element)),tS.id&&e.setAttribute("lcp.id",tS.id),tS.url&&e.setAttribute("lcp.url",tS.url.trim().slice(0,200)),null!=tS.loadTime&&e.setAttribute("lcp.loadTime",tS.loadTime),null!=tS.renderTime&&e.setAttribute("lcp.renderTime",tS.renderTime),e.setAttribute("lcp.size",tS.size));nS?.sources&&t.recordClsOnPageloadSpan&&nS.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,(0,M_.Hd)(t.node)))}(e,t)),tS=void 0,nS=void 0,rS={}}function oS(e,t,n,a,r=n){const i=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return`${e}End`}(n),s=t[i],o=t[`${n}Start`];o&&s&&qA(e,a+GA(o),a+GA(s),{op:`browser.${r}`,name:t.name,attributes:{[f_.JD]:"auto.ui.browser.metrics",..."redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{}}})}var cS=o(50104),lS=o(68558);function uS(){return"undefined"!=typeof window&&(!(!(0,cS.Z)()&&"[object process]"===Object.prototype.toString.call(void 0!==lS?lS:0))||function(){const e=R_.O.process;return"renderer"===e?.type}())}const dS=[],hS=new Map,pS=new Map;function mS(){if(QA()&&(0,__.k3)()){const e=HA("inp",fS,zA,LA);return()=>{e()}}return()=>{}}const gS={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};const fS=({metric:e})=>{if(null==e.value)return;const t=GA(e.value);if(t>60)return;const n=e.entries.find(t=>t.duration===e.value&&gS[t.name]);if(!n)return;const{interactionId:a}=n,r=gS[n.name],i=GA((0,__.k3)()+n.startTime),s=(0,w_.Bk)(),o=s?(0,w_.zU)(s):void 0,c=null!=a?hS.get(a):void 0,l=c?.span||o,u=l?(0,w_.et)(l).description:(0,m_.o5)().getScopeData().transactionName,d=WA({name:c?.elementName||(0,M_.Hd)(n.target),transaction:u,attributes:{[f_.JD]:"auto.http.browser.inp",[f_.uT]:`ui.interaction.${r}`,[f_.jG]:n.duration},startTime:i});d&&(d.addEvent("inp",{[f_.Sn]:"millisecond",[f_.xc]:e.value}),d.end(i+t))};function vS(){const e=Object.keys(gS);function t(e){const t=e.target;if(!t)return;const n=(0,M_.Hd)(t),a=Math.round(e.timeStamp);if(pS.set(a,n),pS.size>50){const e=pS.keys().next().value;void 0!==e&&pS.delete(e)}}uS()&&e.forEach(e=>{B_.j.addEventListener(e,t,{capture:!0,passive:!0})});const n=({entries:e})=>{const t=(0,w_.Bk)(),n=t&&(0,w_.zU)(t);e.forEach(e=>{if(!function(e){return"duration"in e}(e))return;const t=e.interactionId;if(null==t)return;if(hS.has(t))return;const a=e.target?(0,M_.Hd)(e.target):function(e){const t=Math.round(e.startTime);let n=pS.get(t);if(!n)for(let e=-5;e<=5;e++){const a=pS.get(t+e);if(a){n=a;break}}return n||"<unknown>"}(e);if(dS.length>10){const e=dS.shift();hS.delete(e)}dS.push(t),hS.set(t,{span:n,elementName:a})})};PA("event",n),PA("first-input",n)}const bS=({entries:e})=>{const t=(0,w_.Bk)(),n=t?(0,w_.zU)(t):void 0,a=n?(0,w_.et)(n).description:(0,m_.o5)().getScopeData().transactionName;e.forEach(e=>{const t=e;if(!t.identifier)return;const n=t.name,r=t.renderTime,i=t.loadTime,[s,o]=i?[GA(i),"load-time"]:r?[GA(r),"render-time"]:[(0,__.zf)(),"entry-emission"],c="image-paint"===n?GA(Math.max(0,(r??0)-(i??0))):0,l={[f_.JD]:"auto.ui.browser.elementtiming",[f_.uT]:"ui.elementtiming",[f_.i_]:"component","sentry.span_start_time_source":o,"sentry.transaction_name":a,"element.id":t.id,"element.type":t.element?.tagName?.toLowerCase()||"unknown","element.size":t.naturalWidth&&t.naturalHeight?`${t.naturalWidth}x${t.naturalHeight}`:void 0,"element.render_time":r,"element.load_time":i,"element.url":t.url||void 0,"element.identifier":t.identifier,"element.paint_type":n};(0,j_.Lk)({name:`element[${t.identifier}]`,attributes:l,startTime:s,onlyIfParent:!0},e=>{e.end(s+c)})})};var yS=o(91463),xS=o(55199),wS=o(44460);const _S="sentry_previous_trace",AS="sentry.previous_trace";function SS(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const a="session-storage"===t;let r=a?function(){try{const e=wS.jf.sessionStorage?.getItem(_S);return JSON.parse(e)}catch{return}}():void 0;e.on("spanStart",e=>{if((0,w_.zU)(e)!==e)return;const t=(0,m_.o5)().getPropagationContext();r=function(e,t,n){const a=(0,w_.et)(t);function r(){try{return Number(n.dsc?.sample_rate)??Number(a.data?.[f_.sy])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:a.start_timestamp,sampleRate:r(),sampleRand:n.sampleRand};if(!e)return i;const s=e.spanContext;if(s.traceId===a.trace_id)return e;Date.now()/1e3-e.startTimestamp<=3600&&(xS.T&&v_.Yz.log(`Adding previous_trace ${s} link to span ${{op:a.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[f_.Lc]:"previous_trace"}}),t.setAttribute(AS,`${s.traceId}-${s.spanId}-${ES(s)?1:0}`));return i}(r,e,t),a&&function(e){try{wS.jf.sessionStorage.setItem(_S,JSON.stringify(e))}catch(e){xS.T&&v_.Yz.warn("Could not store previous trace in sessionStorage",e)}}(r)});let i=!0;n&&e.on("beforeSampling",e=>{if(!r)return;const t=(0,m_.o5)(),n=t.getPropagationContext();i&&n.parentSpanId?i=!1:(t.setPropagationContext({...n,dsc:{...n.dsc,sample_rate:String(r.sampleRate),sampled:String(ES(r.spanContext))},sampleRand:r.sampleRand}),e.parentSampled=ES(r.spanContext),e.parentSampleRate=r.sampleRate,e.spanAttributes={...e.spanAttributes,[f_.Ef]:r.sampleRate})})}function ES(e){return 1===e.traceFlags}var CS=o(94647),jS=o(85953),IS=o(94433),TS=o(5937);function NS(e={}){const t=e.client||(0,m_.KU)();if(!(0,fe.Ol)()||!t)return{};const n=(0,TS.EU)(),a=(0,IS.h)(n);if(a.getTraceData)return a.getTraceData(e);const r=e.scope||(0,m_.o5)(),i=e.span||(0,w_.Bk)(),s=i?(0,w_.Qh)(i):function(e){const{traceId:t,sampled:n,propagationSpanId:a}=e.getPropagationContext();return(0,D_.TC)(t,a,n)}(r),o=i?(0,A_.k1)(i):(0,A_.ao)(t,r),c=(0,jS.De)(o);if(!D_.MI.test(s))return v_.Yz.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":s,baggage:c};if(e.propagateTraceparent){const e=i?(0,w_.G_)(i):function(e){const{traceId:t,sampled:n,propagationSpanId:a}=e.getPropagationContext();return(0,D_.Iy)(t,a,n)}(r);e&&(l.traceparent=e)}return l}function LS(e,t,n,a,r){if(!e.fetchData)return;const{method:i,url:s}=e.fetchData,o=(0,b_.f)()&&t(s);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const n=a[t];return void(n&&(!function(e,t){if(t.response){(0,C_.N8)(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:C_.TJ,message:"internal_error"});e.end()}(n,e),function(e,t,n){const a="object"==typeof n&&null!==n?n.onRequestSpanEnd:void 0;a?.(e,{headers:t.response?.headers,error:t.error})}(n,e,r),delete a[t]))}const{spanOrigin:c="auto.http.browser",propagateTraceparent:l=!1}="object"==typeof r?r:{spanOrigin:r},u=!!(0,w_.Bk)(),d=o&&u?(0,j_.Uk)(function(e,t,n){const a=(0,O_.kg)(e);return{name:a?`${t} ${(0,O_.CH)(a)}`:t,attributes:RS(e,a,t,n)}}(s,i,c)):new S_.w;if(e.fetchData.__span=d.spanContext().spanId,a[d.spanContext().spanId]=d,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},a=function(e,t,n,a){const r=NS({span:n,propagateTraceparent:a}),i=r["sentry-trace"],s=r.baggage,o=r.traceparent;if(!i)return;const c=t.headers||((0,F_.ks)(e)?e.headers:void 0);if(c){if(function(e){return"undefined"!=typeof Headers&&(0,F_.tH)(e,Headers)}(c)){const e=new Headers(c);if(e.get("sentry-trace")||e.set("sentry-trace",i),a&&o&&!e.get("traceparent")&&e.set("traceparent",o),s){const t=e.get("baggage");t?kS(t)||e.set("baggage",`${t},${s}`):e.set("baggage",s)}return e}if(Array.isArray(c)){const e=[...c];c.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",i]),a&&o&&!c.find(e=>"traceparent"===e[0])&&e.push(["traceparent",o]);const t=c.find(e=>"baggage"===e[0]&&kS(e[1]));return s&&!t&&e.push(["baggage",s]),e}{const e="sentry-trace"in c?c["sentry-trace"]:void 0,t="traceparent"in c?c.traceparent:void 0,n="baggage"in c?c.baggage:void 0,r=n?Array.isArray(n)?[...n]:[n]:[],l=n&&(Array.isArray(n)?n.find(e=>kS(e)):kS(n));s&&!l&&r.push(s);const u={...c,"sentry-trace":e??i,baggage:r.length>0?r.join(","):void 0};return a&&o&&!t&&(u.traceparent=o),u}}return{...r}}(t,n,(0,b_.f)()&&u?d:void 0,l);a&&(e.args[1]=n,n.headers=a)}const h=(0,m_.KU)();if(h){const t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};h.emit("beforeOutgoingRequestSpan",d,t)}return d}function kS(e){return e.split(",").some(e=>e.trim().startsWith(jS.sv))}function RS(e,t,n,a){const r={url:e,type:"fetch","http.method":n,[f_.JD]:a,[f_.uT]:"http.client"};return t&&((0,O_.nt)(t)||(r["http.url"]=t.href,r["server.address"]=t.host),t.search&&(r["http.query"]=t.search),t.hash&&(r["http.fragment"]=t.hash)),r}var PS=o(48753);function DS(e){let t;try{t=e.getAllResponseHeaders()}catch(t){return U_.T&&v_.Yz.error(t,"Failed to get xhr response headers",e),{}}return t?t.split("\r\n").reduce((e,t)=>{const[n,a]=t.split(": ");return a&&(e[n.toLowerCase()]=a),e},{}):{}}function MS(e){try{return new URL(e,wS.jf.location.origin).href}catch{return}}function OS(e){try{return new Headers(e)}catch{return}}const VS=new WeakMap,zS=new Map,HS={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function FS(e,t){const{traceFetch:n,traceXHR:a,trackFetchStreamPerformance:r,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:o,onRequestSpanStart:c,onRequestSpanEnd:l}={...HS,...t},u="function"==typeof i?i:e=>!0,d=e=>function(e,t){const n=(0,M_.$N)();if(n){let a,r;try{a=new URL(e,n),r=new URL(n).origin}catch{return!1}const i=a.origin===r;return t?(0,H_.Xr)(a.toString(),t)||i&&(0,H_.Xr)(a.pathname,t):i}{const n=!!e.match(/^\/(?!\/)/);return t?(0,H_.Xr)(e,t):n}}(e,o),h={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){const t=zS.get(e.span_id);t&&(e.timestamp=t/1e3,zS.delete(e.span_id))}}),e)),r&&(0,CS.B$)(e=>{if(e.response){const t=VS.get(e.response);t&&e.endTimestamp&&zS.set(t,e.endTimestamp)}}),(0,CS.ur)(e=>{const t=LS(e,u,d,h,{propagateTraceparent:p,onRequestSpanEnd:l});if(e.response&&e.fetchData.__span&&VS.set(e.response,e.fetchData.__span),t){const n=MS(e.fetchData.url),a=n?(0,O_.Dl)(n).host:void 0;t.setAttributes({"http.url":n,"server.address":a}),s&&BS(t),c?.(t,{headers:e.headers})}})),a&&(0,PS.Mn)(e=>{const t=function(e,t,n,a,r,i){const s=e.xhr,o=s?.[PS.Er];if(!s||s.__sentry_own_request__||!o)return;const{url:c,method:l}=o,u=(0,b_.f)()&&t(c);if(e.endTimestamp&&u){const t=s.__sentry_xhr_span_id__;if(!t)return;const n=a[t];return void(n&&void 0!==o.status_code&&((0,C_.N8)(n,o.status_code),n.end(),i?.(n,{headers:OS(DS(s)),error:e.error}),delete a[t]))}const d=MS(c),h=d?(0,O_.Dl)(d):(0,O_.Dl)(c),p=(0,O_.f)(c),m=!!(0,w_.Bk)(),g=u&&m?(0,j_.Uk)({name:`${l} ${p}`,attributes:{url:c,type:"xhr","http.method":l,"http.url":d,"server.address":h?.host,[f_.JD]:"auto.http.browser",[f_.uT]:"http.client",...h?.search&&{"http.query":h?.search},...h?.hash&&{"http.fragment":h?.hash}}}):new S_.w;s.__sentry_xhr_span_id__=g.spanContext().spanId,a[s.__sentry_xhr_span_id__]=g,n(c)&&function(e,t,n){const{"sentry-trace":a,baggage:r,traceparent:i}=NS({span:t,propagateTraceparent:n});a&&function(e,t,n,a){const r=e.__sentry_xhr_v3__?.request_headers;if(r?.["sentry-trace"]||!e.setRequestHeader)return;try{if(e.setRequestHeader("sentry-trace",t),a&&!r?.traceparent&&e.setRequestHeader("traceparent",a),n){const t=r?.baggage;t&&t.split(",").some(e=>e.trim().startsWith("sentry-"))||e.setRequestHeader("baggage",n)}}catch{}}(e,a,r,i)}(s,(0,b_.f)()&&m?g:void 0,r);const f=(0,m_.KU)();f&&f.emit("beforeOutgoingRequestSpan",g,e);return g}(e,u,d,h,p,l);t&&(s&&BS(t),c?.(t,{headers:OS(e.xhr.__sentry_xhr_v3__?.request_headers)}))})}function BS(e){const{url:t}=(0,w_.et)(e).data;if(!t||"string"!=typeof t)return;const n=PA("resource",({entries:a})=>{a.forEach(a=>{(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)})(a)&&a.name.endsWith(t)&&(e.setAttributes(XA(a)),setTimeout(n))})})}const US={...I_,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...HS},qS=(e={})=>{const t={name:void 0,source:void 0},n=wS.jf.document,{enableInp:a,enableElementTiming:r,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:o,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:l},beforeStartSpan:u,idleTimeout:d,finalTimeout:h,childSpanTimeout:p,markBackgroundSpan:m,traceFetch:g,traceXHR:f,trackFetchStreamPerformance:v,shouldCreateSpanForRequest:b,enableHTTPTimings:y,ignoreResourceSpans:x,ignorePerformanceApiSpans:w,instrumentPageLoad:_,instrumentNavigation:A,detectRedirects:S,linkPreviousTrace:E,consistentTraceSampling:C,enableReportPageLoaded:j,onRequestSpanStart:I,onRequestSpanEnd:T}={...US,...e};let N,L,k;function R(e,a,r=!0){const i="pageload"===a.op,s=a.name,o=u?u(a):a,m=o.attributes||{};if(s!==o.name&&(m[f_.i_]="custom",o.attributes=m),!r){const e=(0,__.lu)();return void(0,j_.Uk)({...o,startTime:e}).end(e)}t.name=o.name,t.source=m[f_.i_];const g=T_(o,{idleTimeout:d,finalTimeout:h,childSpanTimeout:p,disableAutoFinish:i,beforeSpanEnd:t=>{N?.(),sS(t,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!l,ignoreResourceSpans:x,ignorePerformanceApiSpans:w}),$S(e,void 0);const n=(0,m_.o5)(),a=n.getPropagationContext();n.setPropagationContext({...a,traceId:g.spanContext().traceId,sampled:(0,w_.pK)(g),dsc:(0,A_.k1)(t)}),i&&(k=void 0)},trimIdleSpanEndTimestamp:!j});function f(){n&&["interactive","complete"].includes(n.readyState)&&e.emit("idleSpanEnableAutoFinish",g)}i&&j&&(k=g),$S(e,g),i&&!j&&n&&(n.addEventListener("readystatechange",()=>{f()}),f())}return{name:"BrowserTracing",setup(e){if(function(){function e(){const e=(0,w_.Bk)(),t=e&&(0,w_.zU)(e);if(t){const e="internal_error";g_.T&&v_.Yz.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:C_.TJ,message:e})}}k_||(e.tag="sentry_tracingErrorCallback",k_=!0,(0,N_.L)(e),(0,L_.r)(e))}(),N=iS({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:l||!1,client:e}),a&&mS(),r&&QA()&&(0,__.k3)()&&PA("element",bS),s&&R_.O.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(e=>{const t=(0,w_.Bk)();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=GA((0,__.k3)()+n.startTime),{start_timestamp:a,op:r}=(0,w_.et)(t);if("navigation"===r&&a&&e<a)continue;const i=GA(n.duration),s={[f_.JD]:"auto.ui.browser.metrics"},o=n.scripts[0],{invoker:c,invokerType:l,sourceURL:u,sourceFunctionName:d,sourceCharPosition:h}=o;s["browser.script.invoker"]=c,s["browser.script.invoker_type"]=l,u&&(s["code.filepath"]=u),d&&(s["code.function"]=d),-1!==h&&(s["browser.script.source_char_position"]=h),qA(t,e,e+i,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:s})}}).observe({type:"long-animation-frame",buffered:!0}):i&&PA("longtask",({entries:e})=>{const t=(0,w_.Bk)();if(!t)return;const{op:n,start_timestamp:a}=(0,w_.et)(t);for(const r of e){const e=GA((0,__.k3)()+r.startTime),i=GA(r.duration);"navigation"===n&&a&&e<a||qA(t,e,e+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[f_.JD]:"auto.ui.browser.metrics"}})}}),o&&PA("event",({entries:e})=>{const t=(0,w_.Bk)();if(t)for(const n of e)if("click"===n.name){const e=GA((0,__.k3)()+n.startTime),a=GA(n.duration),r={name:(0,M_.Hd)(n.target),op:`ui.interaction.${n.name}`,startTime:e,attributes:{[f_.JD]:"auto.ui.browser.metrics"}},i=(0,M_.xE)(n.target);i&&(r.attributes["ui.component_name"]=i),qA(t,e,e+a,r)}}),S&&n){const e=()=>{L=(0,__.zf)()};addEventListener("click",e,{capture:!0}),addEventListener("keydown",e,{capture:!0,passive:!0})}function t(){const t=ZS(e);t&&!(0,w_.et)(t).timestamp&&(xS.T&&v_.Yz.log(`[Tracing] Finishing current active span with op: ${(0,w_.et)(t).op}`),t.setAttribute(f_.fs,"cancelled"),t.end())}e.on("startNavigationSpan",(n,a)=>{if((0,m_.KU)()!==e)return;if(a?.isRedirect)return xS.T&&v_.Yz.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),void R(e,{op:"navigation.redirect",...n},!1);L=void 0,t(),(0,m_.rm)().setPropagationContext({traceId:(0,P_.e)(),sampleRand:Math.random(),propagationSpanId:(0,b_.f)()?void 0:(0,P_.Z)()});const r=(0,m_.o5)();r.setPropagationContext({traceId:(0,P_.e)(),sampleRand:Math.random(),propagationSpanId:(0,b_.f)()?void 0:(0,P_.Z)()}),r.setSDKProcessingMetadata({normalizedRequest:void 0}),R(e,{op:"navigation",...n,parentSpan:null,forceTransaction:!0})}),e.on("startPageLoadSpan",(n,a={})=>{if((0,m_.KU)()!==e)return;t();const r=a.sentryTrace||QS("sentry-trace"),i=a.baggage||QS("baggage"),s=(0,D_.kM)(r,i),o=(0,m_.o5)();o.setPropagationContext(s),(0,b_.f)()||(o.getPropagationContext().propagationSpanId=(0,P_.Z)()),o.setSDKProcessingMetadata({normalizedRequest:(0,wS.AP)()}),R(e,{op:"pageload",...n})}),e.on("endPageloadSpan",()=>{j&&k&&(k.setAttribute(f_.fs,"reportPageLoaded"),k.end())})},afterAllSetup(e){let n=(0,M_.$N)();if("off"!==E&&SS(e,{linkPreviousTrace:E,consistentTraceSampling:C}),wS.jf.location){if(_){const t=(0,__.k3)();WS(e,{name:wS.jf.location.pathname,startTime:t?t/1e3:void 0,attributes:{[f_.i_]:"url",[f_.JD]:"auto.pageload.browser"}})}A&&(0,yS._)(({to:t,from:a})=>{if(void 0===a&&-1!==n?.indexOf(t))return void(n=void 0);n=void 0;const r=(0,O_.kg)(t),i=ZS(e),s=i&&S&&function(e,t){const n=(0,w_.et)(e),a=(0,__.lu)(),r=n.start_timestamp;if(a-r>KS)return!1;if(t&&a-t<=KS)return!1;return!0}(i,L);!function(e,t,n){const{url:a,isRedirect:r}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:r}),e.emit("startNavigationSpan",t,{isRedirect:r});const i=(0,m_.o5)();i.setTransactionName(t.name),a&&!r&&i.setSDKProcessingMetadata({normalizedRequest:{...(0,wS.AP)(),url:a}});ZS(e)}(e,{name:r?.pathname||wS.jf.location.pathname,attributes:{[f_.i_]:"url",[f_.JD]:"auto.navigation.browser"}},{url:t,isRedirect:s})})}m&&(wS.jf.document?wS.jf.document.addEventListener("visibilitychange",()=>{const e=(0,w_.Bk)();if(!e)return;const t=(0,w_.zU)(e);if(wS.jf.document.hidden&&t){const e="cancelled",{op:n,status:a}=(0,w_.et)(t);xS.T&&v_.Yz.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),a||t.setStatus({code:C_.TJ,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):xS.T&&v_.Yz.warn("[Tracing] Could not set up background tab detection due to lack of global document")),o&&function(e,t,n,a,r){const i=wS.jf.document;let s;const o=()=>{const i="ui.action.click",o=ZS(e);if(o){const e=(0,w_.et)(o).op;if(["navigation","pageload"].includes(e))return void(xS.T&&v_.Yz.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`))}s&&(s.setAttribute(f_.fs,"interactionInterrupted"),s.end(),s=void 0),r.name?s=T_({name:r.name,op:i,attributes:{[f_.i_]:r.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:a}):xS.T&&v_.Yz.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`)};i&&addEventListener("click",o,{capture:!0})}(e,d,h,p,t),a&&vS(),FS(e,{traceFetch:g,traceXHR:f,trackFetchStreamPerformance:v,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:y,onRequestSpanStart:I,onRequestSpanEnd:T})}}};function WS(e,t,n){e.emit("startPageLoadSpan",t,n),(0,m_.o5)().setTransactionName(t.name);const a=ZS(e);return a&&e.emit("afterStartPageLoadSpan",a),a}function QS(e){const t=wS.jf.document,n=t?.querySelector(`meta[name=${e}]`);return n?.getAttribute("content")||void 0}const GS="_sentry_idleSpan";function ZS(e){return e[GS]}function $S(e,t){(0,V_.my)(e,GS,t)}const KS=1.5;var YS=o(65934);let JS,XS,eE,tE,nE,aE,rE=!1;let iE=!1,sE=3e3;const oE=new WeakSet;new WeakMap,new Set,new WeakMap;function cE(e,t){const n=qS({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:a,useLocation:r,useNavigationType:i,createRoutesFromChildren:s,matchRoutes:o,stripBasename:c,enableAsyncRouteHandlers:l=!1,instrumentPageLoad:u=!0,instrumentNavigation:d=!0,lazyRouteTimeout:h}=e;return{...n,setup(t){n.setup(t);const u=e.finalTimeout??3e4,d=3*(e.idleTimeout??1e3),p=h??d;p===1/0?(sE=u,YS.T&&v_.Yz.log("[React Router] lazyRouteTimeout set to Infinity, capping at finalTimeout:",u,"ms to prevent indefinite hangs")):Number.isNaN(p)?(YS.T&&v_.Yz.warn("[React Router] lazyRouteTimeout must be a number, falling back to default:",d),sE=d):p<0?(YS.T&&v_.Yz.warn("[React Router] lazyRouteTimeout must be non-negative or Infinity, got:",p,"falling back to:",d),sE=d):sE=p,XS=a,eE=r,tE=i,aE=o,nE=s,iE=l,function(e,t=!1){JS=e,rE=t}(o,c||!1)},afterAllSetup(e){n.afterAllSetup(e);const a=wS.jf.location?.pathname;u&&a&&WS(e,{name:a,attributes:{[f_.i_]:"url",[f_.uT]:"pageload",[f_.JD]:`auto.pageload.react.reactrouter_v${t}`}}),d&&oE.add(e)}}}const lE={version:"1.1.64.510",date:new Date(2021,6,20)};function uE(){if((0,p_.My)()!==L.m.Desktop)return!0;const e=function(){const e=window.navigator.userAgent.match(p_.aS);return e?.groups?.version??null}();if(!e)return!0;const t=function(e){const t=lE.version.split(".")[2]??"",[,n="",a=""]=e.split(".");if("1"!==n)return new Date;const r=parseInt(t,10),i=parseInt(a,10);if(isNaN(i))return new Date;const s=i-r,o=new Date(lE.date.getTime());return o.setDate(o.getDate()+14*s),o}(e);return n=t,((new Date).getTime()-n.getTime())<0;var n}const dE=e=>{const t=(e.transaction||"").replace(/^\/intl-[A-Za-z]{2}/i,"/");return e.transaction=t,e};function hE(){const e=[];return e.push(cE({useEffect:p.useEffect,useLocation:re.zy,useNavigationType:re.wQ,createRoutesFromChildren:re.AV,matchRoutes:J.ue},"6")),e}var pE=o(92281),mE=o(22935),gE=o(75945);var fE=o(16615),vE=o(40215),bE=o(55555),yE=o(3074),xE=o.n(yE);function wE(){return xE().create().hex.replace(/-/g,"").substr(0,16)}const _E=(e,t)=>{const n=e.url.searchParams.get("dlsi")??wE(),a=navigator.userAgent,r={link:e.url.toString(),entity_uri:e.uri.toURI(),source:a,deeplink_session_id:n};t.send((0,bE.N)(r))},AE=e=>e.searchParams.has("si")||"1"===e.searchParams.get("go")||"1"===e.searchParams.get("wta_deep_link"),SE=e=>AE(e)&&!(e=>e.searchParams.has("_branch_match_id")||e.searchParams.has("_branch_referrer")||e.searchParams.has("link_click_id"))(e);function EE(e){const t=function(e){const t="https://open.spotify.com/",n="spotify://";return e.startsWith(n)?e.replace(n,t):e.startsWith("spotify:")?(e.replaceAll(":","/"),e.replace("spotify/",t)):e}(e),n=(0,Ls.o_h)(t,{parseUnknown:!0});if(!n)return null;const a=function(e){try{return new URL(e).search}catch{return""}}(t),r=new URLSearchParams(a),i=new URL(n.toURL());return r.forEach((e,t)=>{i.searchParams.set(t,e)}),{url:i,uri:n}}async function CE(e,t){const{uri:n,url:a}=t,r=a.searchParams.get("pt"),i=a.searchParams.get("prid"),s=n.toString();if(r){const t=e.resolve(fE.Ki);e.resolve(vE.O).claimPermissions(s,r),await t.resync(s)}i&&await async function(e,t,n){await e.build().withHost(ro.p1).withMethod("POST").withPath(`/shared?playlistId=${t}&sharedEntityUri=${n}`).withEndpointIdentifier("/shared").withoutMarket().withResponseType("text").send()}(ao.n.getInstance(),s,i)}var jE=o(333);function IE(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,a,e):t(r)}}}}var TE=IE();TE.withExtraArgument=IE;const NE=TE;var LE=o(60114),kE=o(7956),RE=o(54103),PE=o(78435);const DE=(e,t,n)=>a=>r=>async i=>{const s=r(i);switch(i.type){case Nu.QN.ADS_ENABLED:{const r={create:e=>{a.dispatch((0,kE.PS)(e))},canShow:()=>{const e=t.location.pathname,r=n.getState(),i="/"===e,s=(0,Ls.o_h)(e)?.type===Ls.NQG.PLAYLIST_V2,o=!i&&!(0,Ko.A3)(r)&&!(0,PE.Qv)(r);if(s){const t=a.getState().ads;return!!!(0,RE.Z_)(t.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships")??[],e,2)&&o}return o},isActive:()=>Boolean(a.getState().ads.billboard?.isOpen),minimize:()=>{a.dispatch((0,kE.lb)())},destroy:()=>(a.dispatch((0,kE.c3)()),Promise.resolve())};await e.enable(r);break}case Nu.QN.ADS_DISABLED:await e.disable();break;case kE.QN.MINIMIZE_BILLBOARD_AD_VIEW:if(a.getState().ads.sponsoredPlaylist.isVisible)return a.dispatch((0,kE.c3)()),Promise.resolve();e.minimize();break;case kE.QN.CLICK_BILLBOARD_AD_VIEW:e.adClick();break;case kE.QN.IMAGE_LOADED_BILLBOARD_AD_VIEW:e.onRender();break;case kE.QN.ERROR_BILLBOARD_AD_VIEW:e.onError();break;case kE.QN.FINISH_BILLBOARD_AD_VIEW:e.onFinish()}return s};var ME=o(5999),OE=o(19690);const VE=e=>t=>n=>async a=>{const{embeddedAdManager:r,adEventLogger:i,embeddedAdErrorLogger:s}=e,o=n(a),{canShowAd:c,ad:l,isOpen:u}=t.getState()?.ads.embeddedAd??{},d=!!l;switch(a.type){case Nu.QN.ADS_ENABLED:await r.enable(e=>t.dispatch((0,ME.SL)(e)),e=>(e=>{i.log("errored",l,{event_reason:`Error enabling slot ${e.message}`}),s.log("error",l,{error_message:`Error enabling slot ${e.message}`})})((0,OE.W)(e)));break;case Nu.QN.ADS_DISABLED:r.disable();break;case ME.bp.TRY_FETCH:if(!d&&c)try{await r.fetchSlot()}catch(e){t.dispatch((0,ME.T)(`Failed to fetch: ${(0,OE.W)(e).message}`))}break;case ME.bp.FETCH_SUCCESS:c&&t.dispatch((0,ME.Nz)());break;case ME.bp.CAN_SHOW_EMBEDDED_AD_VIEW:!0!==a.payload||u||t.dispatch((0,ME.Nz)());break;case ME.bp.TRIGGER_SLOT:if(d&&c)try{await r.triggerSlot()}catch(e){t.dispatch((0,ME.T)(`Failed to trigger slot: ${(0,OE.W)(e).message}`))}break;case ME.bp.SLOT_INTERACTION_ERROR:i.log("errored",l,{event_reason:a.payload.errorMessage}),s.log("error",l,{error_message:a.payload.errorMessage})}return o};var zE=o(26704);function HE(e){return t=>t=>async n=>{const a=t(n);switch(n.type){case Nu.QN.ADS_ENABLED:break;case Nu.QN.ADS_DISABLED:case zE.Ws:e.disableLeaderboard();break;case zE.KK:e.setLeaderboardElement(n.element),e.enableLeaderboard();break;case zE.a4:e.onNavigationChanged()}return a}}var FE=o(95093);function BE(e){return t=>n=>async a=>{const r=n(a);switch(a.type){case Nu.QN.ADS_ENABLED:e.enable(e=>{t.dispatch((0,FE.Lc)(e))});break;case Nu.QN.ADS_DISABLED:e.disable();break;case FE.Uy:try{const n=await e.requestSponsoredPlaylists();t.dispatch((0,FE.lj)(n))}catch(e){t.dispatch((0,FE.Ei)(e instanceof Error?e:new Error("Unknown error object")))}break;case FE.nk:try{const n=a.playlistUri,r=await e.requestSponsoredPlaylistAd(n);t.dispatch((0,FE.DD)(n,r))}catch(e){t.dispatch((0,FE.wz)(e instanceof Error?e:new Error("Unknown error object")))}break;case FE.zB:e.logEvent(a.message);break;case FE.zc:t.dispatch((0,FE.Lc)(null))}return r}}const UE="SET_AUDIO_AD_INFO";var qE=o(81037),WE=o(88840);function QE(e,t){return t?{enableAudioIfNotAlreadyEnabled(){if(!t.getEnabled())return t.enable(t=>e.dispatch({type:UE,info:t}))},disableAudioIfNotAlreadyDisabled(){if(t.getEnabled())return t.disable()}}:{}}function GE(e,t,n){return t.getEvents().addListener(WE._.VOLUME,({data:{volume:e,isLocal:t}})=>{t&&qE.adsCoreConnector.logAudioVolume(e)}),t=>{const{enableAudioIfNotAlreadyEnabled:a,disableAudioIfNotAlreadyDisabled:r}=QE(t,e);return t=>async i=>{const s=t(i);switch(i.type){case Nu.QN.ADS_ENABLED:a?.();break;case Nu.QN.ADS_DISABLED:r?.();break;case Nu.QN.LOG_NOW_PLAYING_AD_CLICK:(0,PE.qc)(n.getState())&&e.logClick(i.eventReason,i.eventSource)}return s}}}var ZE=o(33692),$E=o(86191),KE=o(91728);const YE=e=>t=>n=>async a=>{const r=n(a),i=t.getState();switch(a.type){case $E.QN.HPTO_CONTAINER_LOAD:e.subscribeToPreview(e=>{t.dispatch((0,$E.DZ)(e)),t.dispatch((0,$E.zi)())}),e.onRefresh(async()=>{const n=await e.fetchTemplate();t.dispatch((0,$E.bK)(n)),t.dispatch((0,$E.Yg)())});break;case ZE.R:t.dispatch((0,$E.bK)(a.template)),t.dispatch((0,$E.Yg)());break;case $E.QN.HPTO_CONTAINER_MOUNTED:{const n=await e.fetchTemplate();t.dispatch((0,$E.bK)(n)),t.dispatch((0,$E.Yg)());break}case $E.QN.FETCH_CREATIVE:if(i.ads.hpto.preview)break;if(i.ads.hpto.creativeFetchingState===KE.C7.FETCHING)break;if(!i.ads.hpto.template)break;if(!i.ads.hpto.hptoContainerMounted)break;if(i.ads.root.isPremium&&i.ads.root.isHptoHidden)break;try{t.dispatch((0,$E.QL)()),await e.fetchCreative(i.ads.hpto.template).then(e=>{t.dispatch((0,$E.Q5)(e))})}catch(e){console.error(e),t.dispatch((0,$E.Fi)())}break;case $E.t3:e.viewRendered(a.element);break;case $E.QN.HPTO_COMPONENT_NEW_AD_RENDERED:e.logViewed();break;case $E.QN.HPTO_COMPONENT_UNMOUNTED:e.viewDestroyed();break;case Nu.QN.ADS_POST_HIDE_HPTO:e.logEvent("event_collapsed");break;case $E.Q6:e.logEvent(a.event,a.context);break;case $E.$4:e.logErrorEvent({errorMessage:a.error});break;case $E.QN.DEBUG_FORCE_REFRESH_HPTO:{const n=await e.fetchTemplate();t.dispatch((0,$E.bK)(n)),t.dispatch((0,$E.Yg)());break}}return r};function JE(e){if(!e)return;const t=e.getElementsByTagName("video"),n=function(e,t){for(const n of e)if(t(n))return n}(t,e=>"none"!==getComputedStyle(e).display);if(n)return n;const a=t?.[0];return a?(r=a,"none"===getComputedStyle(r).display&&(r.style.display="inline"),a):void 0;var r}const XE=(e,t)=>{if(!t)return;if(!(null===e?.ads?.vto?.info||t.isPaused)){const e=document.getElementsByClassName("VideoPlayer__container")[0];JE(e)?.play()}};var eC=o(61354),tC=o(39601);const nC=(e,t)=>{e.getState().ads.vto.isMinimized||(e.dispatch((0,ob.Oc)()),t.logEvent(eC.ee.COLLAPSED))};function aC(e,t,n){return n?{enableVideoTakeoverIfNotAlreadyEnabled(){if(n.getEnabled())return;const a={onCreated(){e.dispatch((0,ob.Pu)())},onInfo(t){e.dispatch((0,ob.gW)(t))},onFirstReady(){XE(e.getState(),t.getState())},onStarted(){},onEnded:()=>{e.dispatch((0,ob.gW)(null)),e.dispatch((0,ob.W_)()),e.dispatch((0,tC.R)(H.Kz.none))}};return n.enable(a)},disableVideoTakeoverIfNotAlreadyDisabled(){if(n.getEnabled())return n.disable()}}:{}}const rC=(e,t)=>n=>{const{enableVideoTakeoverIfNotAlreadyEnabled:a,disableVideoTakeoverIfNotAlreadyDisabled:r}=aC(n,t,e);return i=>async s=>{const o=i(s);switch(s.type){case Nu.QN.ADS_ENABLED:await(a?.());break;case Nu.QN.ADS_DISABLED:await(r?.());break;case ob.QN.VTO_LOG_EVENT:e.logEvent(s.event,s.eventReason,s.eventSource),s.event===eC.ee.CLICKED&&nC(n,e);break;case Nu.QN.LOG_NOW_PLAYING_AD_CLICK:(0,PE.Tv)(t.getState())&&(e.logEvent(eC.ee.CLICKED,s.eventReason,s.eventSource),nC(n,e));break;case ob.QN.VTO_NAVIGATION_CHANGE:nC(n,e);break;case ob.QN.MAXIMIZE_VIDEO_AD_VIEW:case ob.QN.MINIMIZE_VIDEO_AD_VIEW:XE(n.getState(),t.getState())}return o}},iC=["/","/premium","/site/:id/:path?","/presents/:id/:path?"],sC=e=>0===e.length?e=>!1:t=>e.some(e=>(0,J.B6)(e,t)),oC="ui.hide_hpto";class cC{constructor(e,t){this.adsCoreConnector=e,this.prefs=t}requestPreviewAd(e){return this.adsCoreConnector.getPreviewAd(e)}subscribeToAdsProductState(e){return this.adsCoreConnector.subscribeToProductState("ads",e)}subscribeToPremiumState(e){return this.adsCoreConnector.subscribeToProductState("catalogue",e)}fakeSubscribe(){}subscribeToHpto(e){const t=oC;return this.prefs.sub({key:t},({entries:n})=>e({[t]:!!n[t]?.bool}))}async hideHpto(){const e=oC;await this.prefs.set({entries:{[e]:{bool:!0}}})}}class lC{requestPreviewAd(){return Promise.resolve({})}subscribeToAdsProductState(){return{cancel:()=>{}}}subscribeToPremiumState(){return{cancel:()=>{}}}subscribeToHpto(){return{cancel:()=>{}}}async hideHpto(){}fakeSubscribe(e,t){e(t)}}const uC={subscription:void 0};function dC(e){const t=e?.item??void 0;return(0,M.p)(t)?"audio"===t.mediaType||"mixed"===t.mediaType:!!(0,U.N)(t)&&t.isPodcastAd}const hC=({store:e,adManagers:t,isDesktop:n,playerAPI:a})=>({adsEnabled:r=e.getState().ads.root.adsEnabled,playerState:i=a.getState(),isPodcastContent:s=dC(i)}={})=>{r!==e.getState().ads.root.adsEnabled&&e.dispatch((r?Nu.s3:Nu.Nb)());const{enableVideoTakeoverIfNotAlreadyEnabled:o,disableVideoTakeoverIfNotAlreadyDisabled:c}=aC(e,a,t?.vto.manager),{enableAudioIfNotAlreadyEnabled:l,disableAudioIfNotAlreadyDisabled:u}=QE(e,t?.audio);return Promise.all(n&&(s||r)?[o?.(),l?.()]:[c?.(),u?.()])};function pC({rootApi:e,store:t,adManagers:n,isDesktop:a,playerAPI:r,toggleAdManagers:i=hC({store:t,adManagers:n,isDesktop:a,playerAPI:r})}){async function s({playerState:e=r.getState(),isPodcastContent:t=dC(e)}={}){return await i({playerState:e,isPodcastContent:t}),function(...[{ads:n}]){return i({adsEnabled:"1"===n,playerState:e,isPodcastContent:t})}}let o=dC(r.getState());return{handleAdsProductState:s,activateAdsProductStateSubscription:async function(t){const n=dC(t);return null===t||o!==n?(o=n,uC.subscription?.cancel(),uC.subscription=e.subscribeToAdsProductState(await s({playerState:t,isPodcastContent:n}))):uC.subscription}}}var mC=o(26228);function gC(e,t){e&&t.dispatch((0,ME.Xo)())}const fC=(e,t)=>{const n=t.getState(),a=n?.context?.uri;if(!a)return!1;const r=(0,mC.qn)(e);return!!r&&!!(0,RE.Z_)(r,a,2)};var vC=o(59815),bC=o(31438);const yC=({history:e,isBlockedPath:t,rootApi:n,adManagers:a,isDesktop:r,playerAPI:i})=>s=>{const{handleAdsProductState:o,activateAdsProductStateSubscription:c}=pC({rootApi:n,store:s,adManagers:a,isDesktop:r,playerAPI:i});return i.getEvents().addListener(F.gd.UPDATE,async({data:e})=>{await c(e)}),a=>async l=>{switch(l.type){case bC.xM:await c(null);break;case vC.O:n.fakeSubscribe(await o(),l.data)}const u=a(l),d=s.getState();if(!d.ads.root.adsEnabled)return u;const h=function(e,t){return{isDesktop:t,billboardShowing:t&&Boolean(e.ads.billboard?.isOpen),sponsoredPlaylistVisible:Boolean(e.ads.sponsoredPlaylist.isVisible),embeddedAdIsVisible:Boolean(e.ads.embeddedAd?.isOpen),leaderboardEnabled:Boolean(e.ads.leaderboard.isEnabled),isCinemaMode:(0,z.c)(e)===H.Kz.cinema,npvModeActive:Boolean(e.ui.videoPlayer.uiFlags.npv),isOnDemandTrial:"1"===e?.session?.productState?.["on-demand-trial-in-progress"]}}(d,r);switch(function(e,t,n,a){(n||a)&&(t.billboardShowing&&e.dispatch((0,kE.ZQ)()),t.leaderboardEnabled&&e.dispatch((0,zE.Vp)()))}(s,h,t(e.location.pathname),(0,PE.Qv)(i.getState())),function(e,t,n,a){!n&&!a&&t.isDesktop&&!t.leaderboardEnabled&&!t.billboardShowing&&!t.sponsoredPlaylistVisible&&!t.isCinemaMode&&!t.embeddedAdIsVisible&&!t.isOnDemandTrial&&e.dispatch((0,zE.yU)())}(s,h,t(e.location.pathname),(0,PE.Qv)(i.getState())),function(e,t,n,a){const r=fC(n,a);t.isDesktop&&!t.billboardShowing&&!t.sponsoredPlaylistVisible&&!r&&!t.isCinemaMode&&!n.ads.embeddedAd?.canShowAd&&t.npvModeActive&&e.dispatch((0,ME.qx)(!0)),t.npvModeActive||gC(Boolean(n.ads.embeddedAd?.isOpen),e)}(s,h,d,i),l.type){case H.kX.SET_VIDEO_UI_FLAG:!function(e,t,n,a){n===H.nP.cinema&&a&&e.dispatch((0,zE.Vp)()),n===H.nP.cinema&&(a&&t.ads.embeddedAd?.canShowAd?e.dispatch((0,ME.qx)(!1)):a||t.ads.embeddedAd?.canShowAd||e.dispatch((0,ME.qx)(!0))),n===H.nP.npv&&(a&&!t.ads.embeddedAd?.canShowAd?e.dispatch((0,ME.qx)(!0)):!a&&t.ads.embeddedAd?.canShowAd&&e.dispatch((0,ME.qx)(!1)))}(s,d,l.key,l.value);break;case kE.QN.SHOW_BILLBOARD_AD_VIEW:case kE.QN.FINISH_BILLBOARD_AD_VIEW:!function(e,t,n,a){n===kE.QN.SHOW_BILLBOARD_AD_VIEW?(e.dispatch((0,zE.Vp)()),e.dispatch((0,ME.qx)(!1)),gC(Boolean(t.ads.embeddedAd?.isOpen),e)):n!==kE.QN.FINISH_BILLBOARD_AD_VIEW||a||t.ads.embeddedAd?.canShowAd||e.dispatch((0,ME.qx)(!0))}(s,d,l.type,h.sponsoredPlaylistVisible);break;case FE.Xv:!function(e,t){e.dispatch((0,zE.Vp)()),e.dispatch((0,kE.ZQ)()),t.ads.embeddedAd?.canShowAd&&(e.dispatch((0,ME.qx)(!1)),gC(Boolean(t.ads.embeddedAd?.isOpen),e))}(s,d);break;case FE.MY:!function(e,t,n){t.ads.sponsoredPlaylist.isListening||fC(t,n)?t.ads.embeddedAd?.canShowAd&&(e.dispatch((0,ME.qx)(!1)),gC(Boolean(t.ads.embeddedAd?.isOpen),e)):t.ads.embeddedAd?.canShowAd||e.dispatch((0,ME.qx)(!0))}(s,d,i);break;case ME.bp.SHOW_EMBEDDED_AD_VIEW:!function(e){e.dispatch((0,zE.Vp)())}(s);break;case $E.QN.HPTO_PREVIEW_HOME_NAVIGATION:!function(e){"/"===e.location.pathname||e.push("/")}(e)}return u}},xC=({newOrchestratorMiddlewareEnabled:e,history:t,isBlockedPath:n,rootApi:a,adManagers:r,isDesktop:i,playerAPI:s})=>e?yC({newOrchestratorMiddlewareEnabled:e,history:t,isBlockedPath:n,rootApi:a,adManagers:r,isDesktop:i,playerAPI:s}):e=>{const{handleAdsProductState:o,activateAdsProductStateSubscription:c}=pC({rootApi:a,store:e,adManagers:r,isDesktop:i,playerAPI:s});return s.getEvents().addListener(F.gd.UPDATE,async({data:e})=>{await c(e)}),r=>async l=>{switch(l.type){case bC.xM:await c(null);break;case vC.O:a.fakeSubscribe(await o(),l.data)}const u=r(l),d=e.getState();let h=!1;if(d?.session?.productState&&(h="1"===d?.session?.productState["on-demand-trial-in-progress"]),!d.ads.root.adsEnabled)return u;const p=i&&d.ads.billboard?.isOpen,m=d.ads.sponsoredPlaylist.isVisible,g=fC(d,s),f=d.ads.embeddedAd?.isOpen,v=d.ads.leaderboard.isEnabled,b=(0,z.c)(d)===H.Kz.cinema,y=d.ui.videoPlayer.uiFlags.npv;switch(n(t.location.pathname)||(0,PE.Qv)(s.getState())?(p&&e.dispatch((0,kE.ZQ)()),v&&e.dispatch((0,zE.Vp)())):!i||v||p||m||b||f||h||e.dispatch((0,zE.yU)()),!i||p||m||g||b||d.ads.embeddedAd?.canShowAd||!y||e.dispatch((0,ME.qx)(!0)),y||gC(Boolean(d.ads.embeddedAd?.isOpen),e),l.type){case H.kX.SET_VIDEO_UI_FLAG:{const{key:t,value:n}=l;t===H.nP.cinema&&n&&e.dispatch((0,zE.Vp)()),t===H.nP.cinema&&(n&&d.ads.embeddedAd?.canShowAd?e.dispatch((0,ME.qx)(!1)):n||d.ads.embeddedAd?.canShowAd||e.dispatch((0,ME.qx)(!0))),t===H.nP.npv&&(n&&!d.ads.embeddedAd?.canShowAd?e.dispatch((0,ME.qx)(!0)):!n&&d.ads.embeddedAd?.canShowAd&&e.dispatch((0,ME.qx)(!1)));break}case kE.QN.SHOW_BILLBOARD_AD_VIEW:e.dispatch((0,zE.Vp)()),e.dispatch((0,ME.qx)(!1)),gC(Boolean(d.ads.embeddedAd?.isOpen),e);break;case kE.QN.FINISH_BILLBOARD_AD_VIEW:m||d.ads.embeddedAd?.canShowAd||e.dispatch((0,ME.qx)(!0));break;case FE.Xv:e.dispatch((0,zE.Vp)()),e.dispatch((0,kE.ZQ)()),d.ads.embeddedAd?.canShowAd&&(e.dispatch((0,ME.qx)(!1)),gC(Boolean(d.ads.embeddedAd?.isOpen),e));break;case FE.MY:d.ads.sponsoredPlaylist.isListening||fC(d,s)?d.ads.embeddedAd?.canShowAd&&e.dispatch((0,ME.qx)(!1)):d.ads.embeddedAd?.canShowAd||e.dispatch((0,ME.qx)(!0));break;case ME.bp.SHOW_EMBEDDED_AD_VIEW:e.dispatch((0,zE.Vp)());break;case $E.QN.HPTO_PREVIEW_HOME_NAVIGATION:"/"===t.location.pathname||t.push("/");break}return u}};var wC=o(66718);let _C,AC;const SC=({rootApi:e})=>t=>n=>async a=>{const r=n(a);switch(a.type){case bC.xM:(0,p_.My)()===L.m.Desktop&&(0,wC.z)({_debugForceRefreshHpto:()=>t.dispatch((0,$E.BH)())}),_C||(_C=e.subscribeToPremiumState(({catalogue:e})=>{const n="premium"===e;t.dispatch((0,Nu.CW)(n))})),AC||(AC=e.subscribeToHpto(e=>t.dispatch((0,Nu.yx)(e["ui.hide_hpto"]))));break;case Nu.QN.ADS_POST_HIDE_HPTO:e.hideHpto();break;case vC.O:e.fakeSubscribe(async({catalogue:e})=>{const n="premium"===e;t.dispatch((0,Nu.CW)(n)),t.dispatch((0,Nu.yx)(!1))},a.data);break;case Nu.QN.TRIGGER_PREVIEW_AD:e.requestPreviewAd(a.adUriHexId)}return r};var EC=o(25561);const CC=(e,t,n,a,r,i,s)=>{const o=t?new cC(qE.adsCoreConnector,(0,LE.dn)((0,EC.X)())):new lC,c=t?iC:[],{root:l=SC,sponsoredPlaylist:u=BE,orchestrator:d=xC,leaderboard:h=HE,billboard:p=DE,hpto:m=YE,audio:g=GE,videoTakeover:f=rC,embeddedAd:v=VE}=s??{},b=e.getRemoteConfigurationWithLocalOverrides().getValue(Ae.krn);return[l({rootApi:o}),u(a.sponsoredPlaylist),d({newOrchestratorMiddlewareEnabled:b,history:n,isBlockedPath:sC(c),rootApi:o,adManagers:a,isDesktop:t,playerAPI:i}),...t?[h(a.leaderboard),p(a.billboard,n,i),m(a.hpto),g(a.audio,r,i),f(a.vto.manager,i),...a.embeddedAd?[v(a.embeddedAd)]:[]]:[]]},jC={isOpen:!1,imageLoaded:!1,isMinimized:!1,data:{}},IC=(e=jC,t)=>{switch(t.type){case kE.QN.SHOW_BILLBOARD_AD_VIEW:return{...e,isOpen:!0,data:t?.data};case kE.QN.HIDE_BILLBOARD_AD_VIEW:return{...e,isOpen:!1,isMinimized:!1,imageLoaded:!1};case kE.QN.IMAGE_LOADED_BILLBOARD_AD_VIEW:return{...e,imageLoaded:!0};case kE.QN.MANAGER_MINIMIZE_BILLBOARD_AD_VIEW:case kE.QN.MINIMIZE_BILLBOARD_AD_VIEW:return{...e,isMinimized:!0};default:return e}},TC={isOpen:!1,ad:void 0,errorMessage:void 0,canShowAd:!1,lastTimeInView:void 0},NC=(e=TC,t)=>{switch(t.type){case ME.bp.CAN_SHOW_EMBEDDED_AD_VIEW:return{...e,canShowAd:t?.payload.canShowAd};case ME.bp.SHOW_EMBEDDED_AD_VIEW:return{...e,isOpen:!0};case ME.bp.DISCARD_EMBEDDED_AD_VIEW:return{...e,isOpen:!1,ad:void 0,lastTimeInView:Date.now()};case ME.bp.FETCH_SUCCESS:return{...e,ad:t?.payload.ad};case ME.bp.CLEAR_STORE:return TC;case ME.bp.SLOT_INTERACTION_ERROR:return{...e,errorMessage:t?.payload.errorMessage,ad:void 0};default:return e}},LC={isEnabled:!1};function kC(e=LC,t){switch(t.type){case zE.TN:return{...e,isEnabled:!0};case zE.Ws:return{...e,isEnabled:!1};default:return e}}const RC={sponsoredPlaylist:new Map,isVisible:!1,previewAd:null,isListening:!1};function PC(e=RC,t){switch(t.type){case FE.Um:return function(e,t){const n="allSponsorships",a=e.sponsoredPlaylist.get(n);if(Array.isArray(a)&&(0,RE.CU)(a,t.sponsorships))return e;return{...e,sponsoredPlaylist:e.sponsoredPlaylist.set(n,t.sponsorships)}}(e,t);case FE.Rl:return function(e,t){return{...e,sponsoredPlaylist:e.sponsoredPlaylist.set(t.playlistUri,t.ad)}}(e,t);case FE.Xv:return{...e,isVisible:!0};case FE.zc:return{...e,isVisible:!1};case FE.MY:return{...e,isListening:t.isListening};case FE.Uh:return{...e,previewAd:t.previewAd};default:return e}}const DC={info:null},MC=(e=DC,t)=>t.type===UE?{...e,info:t.info}:e,OC={hptoEnabled:!1,template:null,creative:null,preview:null,creativeFetchingState:KE.C7.NOT_FETCHING,hptoContainerMounted:!1,hptoIsStable:!0},VC=(e=OC,t)=>{switch(t.type){case Nu.QN.ADS_ENABLED:return{...e,hptoEnabled:!0};case ZE.R:case $E.QN.HPTO_CONTAINER_MOUNTED:return{...e,hptoContainerMounted:!0};case $E.QN.HPTO_COMPONENT_UNMOUNTED:return{...e,preview:null,creativeFetchingState:KE.C7.NOT_FETCHING,creative:t.data.clearCreative?null:e.creative};case $E.QN.HPTO_CONTAINER_UNMOUNTED:return{...e,hptoContainerMounted:!1};case $E.QN.GOT_TEMPLATE:return{...e,template:t.data};case $E.QN.SET_HPTO_PREVIEW:return{...e,hptoIsStable:!0,preview:t.data,creativeFetchingState:KE.C7.FETCHED};case $E.QN.GOT_CREATIVE:return{...e,creative:t.data,creativeFetchingState:KE.C7.FETCHED,hptoIsStable:!0};case $E.QN.FETCHING_CREATIVE:return{...e,creativeFetchingState:KE.C7.FETCHING,creative:null};case $E.QN.CREATIVE_FETCH_FAILED:return{...e,creativeFetchingState:KE.C7.FAILED,hptoIsStable:!1};default:return e}},zC={isMinimized:!1,isHidden:!0,info:null},HC=(e=zC,t)=>{switch(t.type){case ob.QN.MINIMIZE_VIDEO_AD_VIEW:return{...e,isMinimized:!0};case ob.QN.MAXIMIZE_VIDEO_AD_VIEW:return{...e,isMinimized:!1};case ob.QN.HIDE_VIDEO_AD_VIEW:return{...e,isHidden:!0};case ob.QN.SHOW_VIDEO_AD_VIEW:return{...e,isHidden:!1};case ob.QN.VTO_SET_INFO:return{...e,info:t.info};default:return e}};var FC=o(5545),BC=o(46482);const UC=(0,FC.vy)({adId:null,liked:!1,disliked:!1,feedback:null},e=>{e.addCase(BC.CJ.LIKE_AD,(e,t)=>{BC.F$.match(t)&&(e.adId=t.payload.adId,e.liked=!0,e.disliked=!1,t.payload.reason&&(e.feedback=t.payload.reason))}).addCase(BC.CJ.DISLIKE_AD,(e,t)=>{BC.NI.match(t)&&(e.adId=t.payload.adId,e.disliked=!0,e.liked=!1,t.payload.reason&&(e.feedback=t.payload.reason))}).addCase(BC.CJ.CANCEL_LIKE_AD,(e,t)=>{BC.D$.match(t)&&(e.liked=!1,e.feedback=null)}).addCase(BC.CJ.CANCEL_DISLIKE_AD,(e,t)=>{BC.vA.match(t)&&(e.disliked=!1,e.feedback=null)})}),qC={adsEnabled:!1,isPremium:!1,isHptoHidden:!0},WC=(e=qC,t)=>{switch(t.type){case Nu.QN.ADS_ENABLED:return{...e,adsEnabled:!0};case Nu.QN.ADS_DISABLED:return{...e,adsEnabled:!1};case Nu.QN.ADS_PREMIUM:return{...e,isPremium:!!t.isPremium};case Nu.QN.ADS_HPTO_HIDDEN:return{...e,isHptoHidden:!!t.isHptoHidden};default:return e}};var QC=o(25889);const GC={isOpen:!1},ZC=(e=GC,t)=>{switch(t.type){case QC.QN.SHOW_REPORT_ISSUE_MODAL:return{...e,isOpen:!0};case QC.QN.HIDE_REPORT_ISSUE_MODAL:return{...e,isOpen:!1};default:return e}};var $C=o(4102);const KC={env:$C.x,message:null,showPreviewTool:!1},YC=(e=KC,t)=>{switch(t.type){case $C.Q.SHOW_IN_APP_MESSAGE:return{...e,message:t.message};case $C.Q.DISMISS_IN_APP_MESSAGE:return{...e,message:null};case $C.Q.SET_IN_APP_MESSAGING_ENV:return{...e,env:t.env};case $C.Q.SHOW_PREVIEW_TOOL:return{...e,showPreviewTool:t.show};default:return e}};var JC=o(48289);const XC=e=>t=>n=>async a=>{const r=n(a);if(a.type===JC.QN.GET_AGE_RESTRICTION_MODAL)try{const n=await e.getDialog(a.uri);t.dispatch((0,JC.eK)(n))}catch{}return r};function ej(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function tj(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function nj(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function aj(e,t){tj(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function rj(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ij(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function sj(e,t){return e<<32-t|e>>>t}function oj(e,t){return e<<t|e>>>32-t>>>0}function cj(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const lj=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=cj(e[t]);return e};function uj(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),tj(e),e}class dj{}function hj(e){const t=t=>e().update(uj(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class pj extends dj{update(e){return nj(this),this.iHash.update(e),this}digestInto(e){nj(this),tj(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:a,destroyed:r,blockLen:i,outputLen:s}=this;return e.finished=a,e.destroyed=r,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");ej(e.outputLen),ej(e.blockLen)}(e);const n=uj(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,r=new Uint8Array(a);r.set(n.length>a?e.create().update(n).digest():n);for(let e=0;e<r.length;e++)r[e]^=54;this.iHash.update(r),this.oHash=e.create();for(let e=0;e<r.length;e++)r[e]^=106;this.oHash.update(r),rj(r)}}const mj=(e,t,n)=>new pj(e,t).update(n).digest();function gj(e,t,n){return e&t^~e&n}function fj(e,t,n){return e&t^e&n^t&n}mj.create=(e,t)=>new pj(e,t);class vj extends dj{update(e){nj(this),tj(e=uj(e));const{view:t,buffer:n,blockLen:a}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(a-this.pos,r-i);if(s===a){const t=ij(e);for(;a<=r-i;i+=a)this.process(t,i);continue}n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===a&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nj(this),aj(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:a,isLE:r}=this;let{pos:i}=this;t[i++]=128,rj(this.buffer.subarray(i)),this.padOffset>a-i&&(this.process(n,0),i=0);for(let e=i;e<a;e++)t[e]=0;!function(e,t,n,a){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,a);const r=BigInt(32),i=BigInt(4294967295),s=Number(n>>r&i),o=Number(n&i),c=a?4:0,l=a?0:4;e.setUint32(t+c,s,a),e.setUint32(t+l,o,a)}(n,a-8,BigInt(8*this.length),r),this.process(n,0);const s=ij(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],r)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:a,finished:r,destroyed:i,pos:s}=this;return e.destroyed=i,e.finished=r,e.length=a,e.pos=s,a%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}constructor(e,t,n,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=a,this.buffer=new Uint8Array(e),this.view=ij(this.buffer)}}const bj=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yj=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),xj=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wj=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),_j=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),Aj=new Uint32Array(80);class Sj extends vj{get(){const{A:e,B:t,C:n,D:a,E:r}=this;return[e,t,n,a,r]}set(e,t,n,a,r){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a,this.E=0|r}process(e,t){for(let n=0;n<16;n++,t+=4)Aj[n]=e.getUint32(t,!1);for(let e=16;e<80;e++)Aj[e]=oj(Aj[e-3]^Aj[e-8]^Aj[e-14]^Aj[e-16],1);let{A:n,B:a,C:r,D:i,E:s}=this;for(let e=0;e<80;e++){let t,o;e<20?(t=gj(a,r,i),o=1518500249):e<40?(t=a^r^i,o=1859775393):e<60?(t=fj(a,r,i),o=2400959708):(t=a^r^i,o=3395469782);const c=oj(n,5)+t+s+o+Aj[e]|0;s=i,i=r,r=oj(a,30),a=n,n=c}n=n+this.A|0,a=a+this.B|0,r=r+this.C|0,i=i+this.D|0,s=s+this.E|0,this.set(n,a,r,i,s)}roundClean(){rj(Aj)}destroy(){this.set(0,0,0,0,0),rj(this.buffer)}constructor(){super(64,20,8,!1),this.A=0|_j[0],this.B=0|_j[1],this.C=0|_j[2],this.D=0|_j[3],this.E=0|_j[4]}}const Ej=hj(()=>new Sj),Cj=BigInt(2**32-1),jj=BigInt(32);function Ij(e,t=!1){return t?{h:Number(e&Cj),l:Number(e>>jj&Cj)}:{h:0|Number(e>>jj&Cj),l:0|Number(e&Cj)}}function Tj(e,t=!1){const n=e.length;let a=new Uint32Array(n),r=new Uint32Array(n);for(let i=0;i<n;i++){const{h:n,l:s}=Ij(e[i],t);[a[i],r[i]]=[n,s]}return[a,r]}const Nj=(e,t,n)=>e>>>n,Lj=(e,t,n)=>e<<32-n|t>>>n,kj=(e,t,n)=>e>>>n|t<<32-n,Rj=(e,t,n)=>e<<32-n|t>>>n,Pj=(e,t,n)=>e<<64-n|t>>>n-32,Dj=(e,t,n)=>e>>>n-32|t<<64-n;function Mj(e,t,n,a){const r=(t>>>0)+(a>>>0);return{h:e+n+(r/2**32|0)|0,l:0|r}}const Oj=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Vj=(e,t,n,a)=>t+n+a+(e/2**32|0)|0,zj=(e,t,n,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0),Hj=(e,t,n,a,r)=>t+n+a+r+(e/2**32|0)|0,Fj=(e,t,n,a,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0)+(r>>>0),Bj=(e,t,n,a,r,i)=>t+n+a+r+i+(e/2**32|0)|0,Uj=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qj=new Uint32Array(64);class Wj extends vj{get(){const{A:e,B:t,C:n,D:a,E:r,F:i,G:s,H:o}=this;return[e,t,n,a,r,i,s,o]}set(e,t,n,a,r,i,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a,this.E=0|r,this.F=0|i,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)qj[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=qj[e-15],n=qj[e-2],a=sj(t,7)^sj(t,18)^t>>>3,r=sj(n,17)^sj(n,19)^n>>>10;qj[e]=r+qj[e-7]+a+qj[e-16]|0}let{A:n,B:a,C:r,D:i,E:s,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(sj(s,6)^sj(s,11)^sj(s,25))+gj(s,o,c)+Uj[e]+qj[e]|0,u=(sj(n,2)^sj(n,13)^sj(n,22))+fj(n,a,r)|0;l=c,c=o,o=s,s=i+t|0,i=r,r=a,a=n,n=t+u|0}n=n+this.A|0,a=a+this.B|0,r=r+this.C|0,i=i+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,a,r,i,s,o,c,l)}roundClean(){rj(qj)}destroy(){this.set(0,0,0,0,0,0,0,0),rj(this.buffer)}constructor(e=32){super(64,e,8,!1),this.A=0|bj[0],this.B=0|bj[1],this.C=0|bj[2],this.D=0|bj[3],this.E=0|bj[4],this.F=0|bj[5],this.G=0|bj[6],this.H=0|bj[7]}}class Qj extends Wj{constructor(){super(28),this.A=0|yj[0],this.B=0|yj[1],this.C=0|yj[2],this.D=0|yj[3],this.E=0|yj[4],this.F=0|yj[5],this.G=0|yj[6],this.H=0|yj[7]}}const Gj=(()=>Tj(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Zj=(()=>Gj[0])(),$j=(()=>Gj[1])(),Kj=new Uint32Array(80),Yj=new Uint32Array(80);class Jj extends vj{get(){const{Ah:e,Al:t,Bh:n,Bl:a,Ch:r,Cl:i,Dh:s,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:p,Hh:m,Hl:g}=this;return[e,t,n,a,r,i,s,o,c,l,u,d,h,p,m,g]}set(e,t,n,a,r,i,s,o,c,l,u,d,h,p,m,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|a,this.Ch=0|r,this.Cl=0|i,this.Dh=0|s,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|p,this.Hh=0|m,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)Kj[n]=e.getUint32(t),Yj[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Kj[e-15],n=0|Yj[e-15],a=kj(t,n,1)^kj(t,n,8)^Nj(t,0,7),r=Rj(t,n,1)^Rj(t,n,8)^Lj(t,n,7),i=0|Kj[e-2],s=0|Yj[e-2],o=kj(i,s,19)^Pj(i,s,61)^Nj(i,0,6),c=Rj(i,s,19)^Dj(i,s,61)^Lj(i,s,6),l=zj(r,c,Yj[e-7],Yj[e-16]),u=Hj(l,a,o,Kj[e-7],Kj[e-16]);Kj[e]=0|u,Yj[e]=0|l}let{Ah:n,Al:a,Bh:r,Bl:i,Ch:s,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:p,Gh:m,Gl:g,Hh:f,Hl:v}=this;for(let e=0;e<80;e++){const t=kj(u,d,14)^kj(u,d,18)^Pj(u,d,41),b=Rj(u,d,14)^Rj(u,d,18)^Dj(u,d,41),y=u&h^~u&m,x=Fj(v,b,d&p^~d&g,$j[e],Yj[e]),w=Bj(x,f,t,y,Zj[e],Kj[e]),_=0|x,A=kj(n,a,28)^Pj(n,a,34)^Pj(n,a,39),S=Rj(n,a,28)^Dj(n,a,34)^Dj(n,a,39),E=n&r^n&s^r&s,C=a&i^a&o^i&o;f=0|m,v=0|g,m=0|h,g=0|p,h=0|u,p=0|d,({h:u,l:d}=Mj(0|c,0|l,0|w,0|_)),c=0|s,l=0|o,s=0|r,o=0|i,r=0|n,i=0|a;const j=Oj(_,S,C);n=Vj(j,w,A,E),a=0|j}({h:n,l:a}=Mj(0|this.Ah,0|this.Al,0|n,0|a)),({h:r,l:i}=Mj(0|this.Bh,0|this.Bl,0|r,0|i)),({h:s,l:o}=Mj(0|this.Ch,0|this.Cl,0|s,0|o)),({h:c,l}=Mj(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Mj(0|this.Eh,0|this.El,0|u,0|d)),({h,l:p}=Mj(0|this.Fh,0|this.Fl,0|h,0|p)),({h:m,l:g}=Mj(0|this.Gh,0|this.Gl,0|m,0|g)),({h:f,l:v}=Mj(0|this.Hh,0|this.Hl,0|f,0|v)),this.set(n,a,r,i,s,o,c,l,u,d,h,p,m,g,f,v)}roundClean(){rj(Kj,Yj)}destroy(){rj(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(e=64){super(128,e,16,!1),this.Ah=0|wj[0],this.Al=0|wj[1],this.Bh=0|wj[2],this.Bl=0|wj[3],this.Ch=0|wj[4],this.Cl=0|wj[5],this.Dh=0|wj[6],this.Dl=0|wj[7],this.Eh=0|wj[8],this.El=0|wj[9],this.Fh=0|wj[10],this.Fl=0|wj[11],this.Gh=0|wj[12],this.Gl=0|wj[13],this.Hh=0|wj[14],this.Hl=0|wj[15]}}class Xj extends Jj{constructor(){super(48),this.Ah=0|xj[0],this.Al=0|xj[1],this.Bh=0|xj[2],this.Bl=0|xj[3],this.Ch=0|xj[4],this.Cl=0|xj[5],this.Dh=0|xj[6],this.Dl=0|xj[7],this.Eh=0|xj[8],this.El=0|xj[9],this.Fh=0|xj[10],this.Fl=0|xj[11],this.Gh=0|xj[12],this.Gl=0|xj[13],this.Hh=0|xj[14],this.Hl=0|xj[15]}}const eI=hj(()=>new Wj),tI=hj(()=>new Qj),nI=hj(()=>new Jj),aI=hj(()=>new Xj),rI=BigInt(0),iI=BigInt(1),sI=BigInt(2),oI=BigInt(7),cI=BigInt(256),lI=BigInt(113),uI=[],dI=[],hI=[];for(let e=0,t=iI,n=1,a=0;e<24;e++){[n,a]=[a,(2*n+3*a)%5],uI.push(2*(5*a+n)),dI.push((e+1)*(e+2)/2%64);let r=rI;for(let e=0;e<7;e++)t=(t<<iI^(t>>oI)*lI)%cI,t&sI&&(r^=iI<<(iI<<BigInt(e))-iI);hI.push(r)}const pI=Tj(hI,!0),mI=pI[0],gI=pI[1],fI=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),vI=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class bI extends dj{clone(){return this._cloneInto()}keccak(){lj(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let a=24-t;a<24;a++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const a=(t+8)%10,r=(t+2)%10,i=n[r],s=n[r+1],o=fI(i,s,1)^n[a],c=vI(i,s,1)^n[a+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],r=e[3];for(let n=0;n<24;n++){const a=dI[n],i=fI(t,r,a),s=vI(t,r,a),o=uI[n];t=e[o],r=e[o+1],e[o]=i,e[o+1]=s}for(let t=0;t<50;t+=10){for(let a=0;a<10;a++)n[a]=e[t+a];for(let a=0;a<10;a++)e[t+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=mI[a],e[1]^=gI[a]}rj(n)}(this.state32,this.rounds),lj(this.state32),this.posOut=0,this.pos=0}update(e){nj(this),tj(e=uj(e));const{blockLen:t,state:n}=this,a=e.length;for(let r=0;r<a;){const i=Math.min(t-this.pos,a-r);for(let t=0;t<i;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:a}=this;e[n]^=t,128&t&&n===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){nj(this,!1),tj(e),this.finish();const t=this.state,{blockLen:n}=this;for(let a=0,r=e.length;a<r;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,r-a);e.set(t.subarray(this.posOut,this.posOut+i),a),this.posOut+=i,a+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ej(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(aj(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rj(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:a,rounds:r,enableXOF:i}=this;return e||(e=new bI(t,n,a,i,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=n,e.outputLen=a,e.enableXOF=i,e.destroyed=this.destroyed,e}constructor(e,t,n,a=!1,r=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=a,this.rounds=r,ej(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}}const yI=(e,t,n)=>hj(()=>new bI(t,e,n)),xI=(()=>yI(6,144,28))(),wI=(()=>yI(6,136,32))(),_I=(()=>yI(6,104,48))(),AI=(()=>yI(6,72,64))(),SI=(()=>{if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if("undefined"!=typeof __GLOBALTHIS__)return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o.g?o.g:void 0})(),EI={SHA1:Ej,SHA224:tI,SHA256:eI,SHA384:aI,SHA512:nI,"SHA3-224":xI,"SHA3-256":wI,"SHA3-384":_I,"SHA3-512":AI},CI=e=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(e):return"SHA1";case/^SHA(?:2?-)?224$/i.test(e):return"SHA224";case/^SHA(?:2?-)?256$/i.test(e):return"SHA256";case/^SHA(?:2?-)?384$/i.test(e):return"SHA384";case/^SHA(?:2?-)?512$/i.test(e):return"SHA512";case/^SHA3-224$/i.test(e):return"SHA3-224";case/^SHA3-256$/i.test(e):return"SHA3-256";case/^SHA3-384$/i.test(e):return"SHA3-384";case/^SHA3-512$/i.test(e):return"SHA3-512";default:throw new TypeError(`Unknown hash algorithm: ${e}`)}},jI="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",II=e=>{let t=(e=e.replace(/ /g,"")).length;for(;"="===e[t-1];)--t;e=(t<e.length?e.substring(0,t):e).toUpperCase();const n=new ArrayBuffer(5*e.length/8|0),a=new Uint8Array(n);let r=0,i=0,s=0;for(let t=0;t<e.length;t++){const n=jI.indexOf(e[t]);if(-1===n)throw new TypeError(`Invalid character found: ${e[t]}`);i=i<<5|n,r+=5,r>=8&&(r-=8,a[s++]=i>>>r)}return a},TI=e=>{let t=0,n=0,a="";for(let r=0;r<e.length;r++)for(n=n<<8|e[r],t+=8;t>=5;)a+=jI[n>>>t-5&31],t-=5;return t>0&&(a+=jI[n<<5-t&31]),a},NI=e=>{e=e.replace(/ /g,"");const t=new ArrayBuffer(e.length/2),n=new Uint8Array(t);for(let t=0;t<e.length;t+=2)n[t/2]=parseInt(e.substring(t,t+2),16);return n},LI=e=>{let t="";for(let n=0;n<e.length;n++){const a=e[n].toString(16);1===a.length&&(t+="0"),t+=a}return t.toUpperCase()},kI=e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=255&e.charCodeAt(t);return n},RI=e=>{let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},PI=SI.TextEncoder?new SI.TextEncoder:null,DI=SI.TextDecoder?new SI.TextDecoder:null,MI=e=>{if(!PI)throw new Error("Encoding API not available");return PI.encode(e)},OI=e=>{if(!DI)throw new Error("Encoding API not available");return DI.decode(e)};class VI{static fromLatin1(e){return new VI({buffer:kI(e).buffer})}static fromUTF8(e){return new VI({buffer:MI(e).buffer})}static fromBase32(e){return new VI({buffer:II(e).buffer})}static fromHex(e){return new VI({buffer:NI(e).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:RI(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:OI(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:TI(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:LI(this.bytes)}),this.hex}constructor({buffer:e,size:t=20}={}){this.bytes=void 0===e?(e=>{if(SI.crypto?.getRandomValues)return SI.crypto.getRandomValues(new Uint8Array(e));throw new Error("Cryptography API not available")})(t):new Uint8Array(e),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}class zI{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:e,algorithm:t=zI.defaults.algorithm,digits:n=zI.defaults.digits,counter:a=zI.defaults.counter}){const r=((e,t,n)=>{if(mj){const a=EI[e]??EI[CI(e)];return mj(a,t,n)}throw new Error("Missing HMAC function")})(t,e.bytes,(e=>{const t=new ArrayBuffer(8),n=new Uint8Array(t);let a=e;for(let e=7;e>=0&&0!==a;e--)n[e]=255&a,a-=n[e],a/=256;return n})(a)),i=15&r[r.byteLength-1];return(((127&r[i])<<24|(255&r[i+1])<<16|(255&r[i+2])<<8|255&r[i+3])%10**n).toString().padStart(n,"0")}generate({counter:e=this.counter++}={}){return zI.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:e})}static validate({token:e,secret:t,algorithm:n,digits:a=zI.defaults.digits,counter:r=zI.defaults.counter,window:i=zI.defaults.window}){if(e.length!==a)return null;let s=null;const o=i=>{const o=zI.generate({secret:t,algorithm:n,digits:a,counter:i});((e,t)=>{{if(e.length!==t.length)throw new TypeError("Input strings must have the same length");let n=-1,a=0;for(;++n<e.length;)a|=e.charCodeAt(n)^t.charCodeAt(n);return 0===a}})(e,o)&&(s=i-r)};o(r);for(let e=1;e<=i&&null===s&&(o(r-e),null===s)&&(o(r+e),null===s);++e);return s}validate({token:e,counter:t=this.counter,window:n}){return zI.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:t,window:n})}toString(){const e=encodeURIComponent;return"otpauth://hotp/"+(this.issuer.length>0?this.issuerInLabel?`${e(this.issuer)}:${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?`)+`secret=${e(this.secret.base32)}&`+`algorithm=${e(this.algorithm)}&`+`digits=${e(this.digits)}&`+`counter=${e(this.counter)}`}constructor({issuer:e=zI.defaults.issuer,label:t=zI.defaults.label,issuerInLabel:n=zI.defaults.issuerInLabel,secret:a=new VI,algorithm:r=zI.defaults.algorithm,digits:i=zI.defaults.digits,counter:s=zI.defaults.counter}={}){this.issuer=e,this.label=t,this.issuerInLabel=n,this.secret="string"==typeof a?VI.fromBase32(a):a,this.algorithm=CI(r),this.digits=i,this.counter=s}}class HI{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:e=HI.defaults.period,timestamp:t=Date.now()}={}){return Math.floor(t/1e3/e)}counter({timestamp:e=Date.now()}={}){return HI.counter({period:this.period,timestamp:e})}static remaining({period:e=HI.defaults.period,timestamp:t=Date.now()}={}){return 1e3*e-t%(1e3*e)}remaining({timestamp:e=Date.now()}={}){return HI.remaining({period:this.period,timestamp:e})}static generate({secret:e,algorithm:t,digits:n,period:a=HI.defaults.period,timestamp:r=Date.now()}){return zI.generate({secret:e,algorithm:t,digits:n,counter:HI.counter({period:a,timestamp:r})})}generate({timestamp:e=Date.now()}={}){return HI.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:e})}static validate({token:e,secret:t,algorithm:n,digits:a,period:r=HI.defaults.period,timestamp:i=Date.now(),window:s}){return zI.validate({token:e,secret:t,algorithm:n,digits:a,counter:HI.counter({period:r,timestamp:i}),window:s})}validate({token:e,timestamp:t,window:n}){return HI.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:t,window:n})}toString(){const e=encodeURIComponent;return"otpauth://totp/"+(this.issuer.length>0?this.issuerInLabel?`${e(this.issuer)}:${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?`)+`secret=${e(this.secret.base32)}&`+`algorithm=${e(this.algorithm)}&`+`digits=${e(this.digits)}&`+`period=${e(this.period)}`}constructor({issuer:e=HI.defaults.issuer,label:t=HI.defaults.label,issuerInLabel:n=HI.defaults.issuerInLabel,secret:a=new VI,algorithm:r=HI.defaults.algorithm,digits:i=HI.defaults.digits,period:s=HI.defaults.period}={}){this.issuer=e,this.label=t,this.issuerInLabel=n,this.secret="string"==typeof a?VI.fromBase32(a):a,this.algorithm=CI(r),this.digits=i,this.period=s}}function FI(){const e=["C2vJCMv0CW","nda4odi3ndbNEKP0Cxq","y29UC3rYDwn0BW","oeDvtMfWDG","Dte0xu0+l1yWAa","C2vJCMv0","E2LprM47nh08mq","mZG4nZi0nhDdrfjRuG","vda5oJaWoJaWlG","mJDLEvPrv0C","uezzs1bwpZv7jq","DMfSAwrvBNrPBa","t21fE1PblKPEiG","nZm4ody3nwPxwvzlDW","DMvYC2LVBG","oJbgr1XvEJ9Bqa","mJH1tgzTyMq","mxH2uebo","C2vHCMnO","ndu0nJi2thfcDuPO","kcGOlISPkYKRkq","mJiZntuYnxHpEuXpAG","mtm2ntu0ne9os3nNDW","mJuXodG3sLP3qu13","v1H4B20","ldCVkKyOiNjmsG","Dg9tDhjPBMC"];return(FI=function(){return e})()}!function(e){const t=738,n=723,a=733,r=14,i=13,s=24,o=728,c=726,l=727,u=731,d=744,h=25,p=30,m=19,g=21,f=752,v=225;function b(e,t,n,a){return GI(n-v,t)}const y=e();function x(e,t,n,a){return GI(a- -528,n)}for(;;)try{if(653097===parseInt(b(0,n,a))/1*(-parseInt(x(0,0,-r,-i))/2)+-parseInt(x(0,0,-18,-s))/3*(parseInt(b(0,o,c))/4)+-parseInt(b(0,l,731))/5+parseInt(b(0,u,d))/6+-parseInt(x(0,0,-h,-p))/7+-parseInt(x(0,0,-m,-g))/8*(parseInt(b(0,f,746))/9)+parseInt(b(0,t,738))/10)break;y.push(y.shift())}catch(e){y.push(y.shift())}}(FI);const BI=function(){let e=!0;return function(t,n){const a=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,a}}()(void 0,function(){const e=62,t=71,n=56,a=69,r=82,i=92,s=90,o=90,c=58,l=59,u=44,d=79,h=89,p=58,m=567,g=593;function f(e,t,n,a){return GI(n- -g,t)}const v={};function b(e,t,n,a){return GI(e- -m,t)}v[f(0,-88,-84)]=b(-e,-t,-n,-60)+"+$";const y=v;return BI[f(0,-a,-r)]()[f(0,-77,-o)](y[b(-c,-l)])[b(-n,-u)]()[f(0,-i,-d)+"r"](BI)[f(0,-h,-s)](y[b(-p,-72)])});BI();const UI={};UI.secret=QI(1417,1420,1431,1445)+"2oxaKL^f+E"+QI(1435,1428,1423,1422),UI[QI(1424,1430,1420,1418)]=61;const qI={};qI[$I(1338,1362,1348,1361)]=QI(1415,1414,1418,1414)+$I(1329,1319,1331,1323)+"WW",qI[QI(1429,1420,1420,1413)]=60;const WI={};function QI(e,t,n,a){return GI(n-921,t)}function GI(e,t){e-=495;const n=FI();let a=n[e];if(void 0===GI.JBZpni){var r=function(e){let t="",n="",a=t+r;for(let n,r,i=0,s=0;r=e.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?t+=a.charCodeAt(s+10)-10!=0?String.fromCharCode(255&n>>(-2*i&6)):i:0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,a=t.length;e<a;e++)n+="%"+("00"+t.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(n)};GI.RaDsWl=r,GI.oJRqOW={},GI.JBZpni=!0}const i=e+n[0],s=GI.oJRqOW[i];if(s)a=s;else{const e=function(e){this.GcOqPq=e,this.GLXDIC=[1,0,0],this.lDPFkh=function(){return"newState"},this.tsLrOO="\\w+ *\\(\\) *{\\w+ *",this.ywapvK="['|\"].+['|\"];? *}"};e.prototype.swxtBN=function(){const e=new RegExp(this.tsLrOO+this.ywapvK).test(this.lDPFkh.toString())?--this.GLXDIC[1]:--this.GLXDIC[0];return this.BFYYkL(e)},e.prototype.BFYYkL=function(e){return Boolean(~e)?this.nFhQNs(this.GcOqPq):e},e.prototype.nFhQNs=function(e){for(let e=0,t=this.GLXDIC.length;e<t;e++)this.GLXDIC.push(Math.round(Math.random())),t=this.GLXDIC.length;return e(this.GLXDIC[0])},new e(GI).swxtBN(),a=GI.RaDsWl(a),GI.oJRqOW[i]=a}return a}WI[$I(1353,1356,1348,1361)]=$I(1350,1349,1349,1360)+QI(0,1405,1416)+QI(0,1427,1437)+"DH",WI.version=59;const ZI={};function $I(e,t,n,a){return GI(n-831)}ZI[QI(0,1428,1417)]="2025-10-18"+$I(0,0,1351)+"000Z",ZI[$I(0,0,1343)]=[UI,qI,WI];const KI=ZI;var YI=o(84686).hp;function JI(e,t,n,a){return rT(n-490,a)}function XI(e){const t=903,n=918,a=842,r=877,i=871,s=53,o=126,c=864,l=891,u=862,d=899,h=114,p=77,m=55,g=110,f=141,v=105,b=934,y=915,x=965,w=69,_=886,A=887,S=874,E=927,C=132,j=113,I=939,T=933,N=898,L=953,k=103,R=97,P=95,D=966,M=914,O=79,V=101,z=942,H=975,F=932,B=908,U=892,q=865,W=925,Q=609,G=320,Z=311,$=292,K=605,Y=587,J=571,X=609,ee=1141,te=1103,ne=1140,ae=1127,re=1100,ie=225,se=423,oe=476,ce=139,le=163,ue=730,de=322,he=598,pe=616,me=419,ge={RxcmN:function(e,t){return e!==t},SiivY:"lvSMC",vqMcn:fe(-94,-80,-119,-59)+"+$",HlywN:function(e,t){return e^t},nTHfw:function(e,t){return e+t},uTiet:function(e,t){return e%t},fpnJO:function(e,t,n){return e(t,n)},aPnSg:function(e){return e()},FwFMa:function(e,t){return e===t},gvQLc:we(t,n,921,912),Pukxw:we(a,r,i,909),LGXGn:fe(-s,-91,-o,-127),CDiwc:we(c,l,u,d)};function fe(e,t,n,a){return rT(t- -me,a)}const ve=function(){const e=703,t=680,n=209,a=197,r={WyMpG:function(e,t){return ge[(n=he,a=pe,rT(a-326,n))](e,t);var n,a},pEtwW:ge[(i=ce,s=167,o=le,we(i,o- -ue,s-209,o-de))]};var i,s,o;let c=!0;return function(i,s){const o=115,l=c?function(){const c=391;function l(e,t,n,a){return rT(e-c,a)}function u(e,t,n,a){return rT(t- -o,e)}if(s){if(r.WyMpG(r[l(e,0,0,t)],u(n,211))){const e=s[u(a,198)](i,arguments);return s=null,e}{const e={_0x4cdc89:1226},t=_0x154645?function(){const t=562;if(_0x1a9b09){const r=_0x1d26d7[(n=1266,a=1266,e._0x4cdc89,l(n-t,0,0,a))](_0x35395e,arguments);return _0x34dd6a=null,r}var n,a}:function(){};return _0x226d4a=!1,t}}}:function(){};return c=!1,l}}(),be=ge[fe(0,-h,0,-148)](ve,this,function(){const e=1520,t=340;function n(e,t,n,a){return we(a,e-ie,n-se,a-oe)}function a(n,a,r,i){return we(n,a- -e,r-156,i-t)}return be.toString()[a(-629,-K,-Y,-597)](ge[a(-J,-Y,-611,-X)]).toString()[n(ee,0,1141,te)+"r"](be)[n(ne,0,ae,re)](ge.vqMcn)});ge[fe(0,-77,0,-p)](be);let ye=[];if(ge[fe(0,-82,0,-m)](typeof e,ge[fe(0,-96,0,-g)]))ye=e.split("")[fe(0,-f,0,-v)]((e,t)=>{const n=621,a=458,r=225;function i(e,t,i,s){return we(i,t- -n,i-a,s-r)}const s=e.charCodeAt(0);return ge[i(0,283,G,Z)](s,ge.nTHfw(ge[i(0,$,272,317)](t,33),9))});else{if(!ge[fe(0,-82,0,-p)](ge[we(962,b,y,x)],ge[fe(0,-94,0,-w)]))return _0x509aa2[fe(0,-103,0,-C)]()[fe(0,-j,0,-80)](HbBefL[we(I,T,N,L)])[fe(0,-k,0,-R)]().constructor(_0xbd74ea).search(HbBefL[fe(0,-P,0,-64)]);ye=e[we(_,A,S,E)]((e,t)=>e^t%33+9)}const xe=YI[we(D,939,M,979)](ye[fe(0,-O,0,-V)](""),ge[we(y,z,H,F)]).toString(ge[we(B,U,q,W)]);function we(e,t,n,a){return rT(t-Q,e)}return VI.fromHex(xe)}!function(e){const t=50,n=54,a=86,r=83,i=46,s=73,o=107,c=95,l=1279,u=98,d=112,h=1278,p=1267,m=1273,g=45,f=77,v=220,b=981;function y(e,t,n,a){return rT(t-b,a)}function x(e,t,n,a){return rT(t- -v,e)}const w=e();for(;;)try{if(862918===-parseInt(x(t,n))/1+parseInt(x(a,r))/2+parseInt(x(i,s))/3+-parseInt(x(o,c))/4*(parseInt(y(0,l,0,l))/5)+parseInt(x(u,d))/6+parseInt(y(0,1317,0,h))/7*(parseInt(y(0,p,0,m))/8)+-parseInt(x(g,f))/9)break;w.push(w.shift())}catch(e){w.push(w.shift())}}(iT);const eT={};eT[sT(550,588,609,584)]=30,eT[JI(0,0,824,838)]="SHA1",eT[JI(0,0,765,786)]=6,eT[sT(569,554,530,575)+sT(624,584,578,616)]=2;const tT=eT,nT=KI[sT(552,563,566,570)].map(e=>({secret:XI(e.secret),version:e[sT(501,533,546,546)]}))[0],aT={};aT.period=tT[sT(564,588,551,606)],aT[JI(0,0,824,808)]=tT[JI(0,0,824,840)],aT[sT(520,528,556,491)]=tT.digits,aT[sT(554,524,539,494)]=nT.secret;new HI(aT),new Date(KI[JI(0,0,810,791)]);function rT(e,t){e-=267;const n=iT();let a=n[e];if(void 0===rT.qQJtwd){var r=function(e){let t="",n="",a=t+r;for(let n,r,i=0,s=0;r=e.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?t+=a.charCodeAt(s+10)-10!=0?String.fromCharCode(255&n>>(-2*i&6)):i:0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,a=t.length;e<a;e++)n+="%"+("00"+t.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(n)};rT.FItxrv=r,rT.pckVZS={},rT.qQJtwd=!0}const i=e+n[0],s=rT.pckVZS[i];if(s)a=s;else{const e=function(e){this.BJyEZA=e,this.FWUTeq=[1,0,0],this.ZNpVJG=function(){return"newState"},this.ntpttR="\\w+ *\\(\\) *{\\w+ *",this.LeCNTv="['|\"].+['|\"];? *}"};e.prototype.ybJNFG=function(){const e=new RegExp(this.ntpttR+this.LeCNTv).test(this.ZNpVJG.toString())?--this.FWUTeq[1]:--this.FWUTeq[0];return this.KmbnfV(e)},e.prototype.KmbnfV=function(e){return Boolean(~e)?this.qCHoaL(this.BJyEZA):e},e.prototype.qCHoaL=function(e){for(let e=0,t=this.FWUTeq.length;e<t;e++)this.FWUTeq.push(Math.round(Math.random())),t=this.FWUTeq.length;return e(this.FWUTeq[0])},new e(rT).ybJNFG(),a=rT.FItxrv(a),rT.pckVZS[i]=a}return a}function iT(){const e=["D2L0AeHVC3rjza","tK9crgq","C2vJCMv0","zw4UC3bVDgLMEq","Ag9YAxPHDgLVBG","mJe2mtq3qxv0wNPn","zgLNAxrZ","B3jPz2LU","C2vYDMvYvgLTzq","BwfW","qMvHCMvY","DMvYC2LVBG","ANzfBhu","Agv4","q0rPD2m","u2LPDLK","z2vUzxjHDgu","oeLLzgvmta","D2L0AeHVC3q","vKfHA0y","BM93","uNHJBu4","wKfryNu","A2v0","ndi2mZmWA05Pvw9H","zw50AwzPzxi","sgX5D04","D2L0AevUzhbVAq","mtq3mZu3mtHtv0HlrKi","ntbmAMf0tuS","yxjHBwv0zxjZ","BNrjzgvUDgLMAq","DMfSAwrHDgLVBG","thLWDhO","mJaWntq2nM9Yq0rqzq","DvrPzxq","zNbUsK8","C2vHCMnO","y29UC3rYDwn0BW","DgLTzxn0yw1W","C3rYAw5N","C2vJCMv0CW","D2L0Ag91De1HCG","Cev0D1C","yxbWBhK","tfvoBha","ntK0otqWrvD2ser5","Dg9tDhjPBMC","yufPy3y","D2L0Ag91Def1Da","B1DXsw0","DMfSAwrvBNrPBa","yNvPBgq","D2L0Aff1zxj5ua","z3zrtgm","DNfny24","uhvREhC","yLDhCMS","C2vUza","DxrMoa","y2Xjugm","zNjVBq","v2LUzg93","mtaZmZuXotjfqKjQDfm","teDyr24","ywXNB3jPDgHT","CgvYAw9K","otm1ndm5neLkrgPJCa","rNDgtwe","Aw5PDa","kcGOlISPkYKRkq","AM9PBG","lMnVBq","yvbUu2C","s3zHq3e","ANnVBG","l2fWAs9SB2DVDq","Ahr0Chm6lY9VCa","yw1ty2O"];return(iT=function(){return e})()}function sT(e,t,n,a){return rT(t-253)}const oT=e=>t=>n=>{const a=t(n);switch(n.type){case bC.xM:vt(()=>e.dispatch({type:bC.tQ}));break;case bC.tQ:(function(e){const t=824,n=813,a=811,r=596,i=633,s=645,o=898,c=900,l=870,u=874,d=712,h=698,p=682,m=844,g=593,f=630,v=868,b=830,y=632,x=661,w=688,_=304,A=129,S={};function E(e,t,n,a){return JI(0,0,n- -A,e)}function C(e,t,n,a){return sT(0,e-_)}S.NOBDd=C(t,n,a,791)+E(r,653,i,s)+C(o,874,c,l),S[C(u)]=E(d,0,706)+"t";const j=S;return e[E(656,0,p)]()[C(m)](ro.Go)[E(g,0,f)+"entifier"](j[C(827)]).withPath(j.aAicv)[C(v)+C(849)]()["withoutAut"+C(b)]()["withEndpoi"+E(y,0,x)+"er"](j.aAicv)[E(h,0,w)]()})(ao.n.getInstance()).then(()=>{e.dispatch((0,us.oM)()),window.location.assign("/")},((e,t=!1)=>n=>(console.error(n),e&&e(n),t?Promise.reject(n):Promise.resolve(void 0)))())}return a};var cT=o(55569),lT=o.n(cT);var uT=o(87513),dT=o(5116);const hT="urn:x-cast:com.spotify.chromecast.secure.v1";let pT=!1;const mT=()=>window.cast?.framework.CastContext.getInstance(),gT=e=>lT()(e),fT=(e,t)=>{e.send({name:"CastTransfer",environments:["device","browser"],data:t})},vT=(e,t,n)=>{if(!window.cast){window.__onGCastApiAvailable=a=>{a&&!pT&&(((e,t,n)=>{const a=mT();a&&(a.setOptions({receiverApplicationId:"CC32E753",autoJoinPolicy:"page_scoped",androidReceiverCompatible:n}),e.dispatch(uT.dK(a.getCastState())),a.addEventListener(window.cast?.framework.CastContextEventType.CAST_STATE_CHANGED,({castState:t})=>e.dispatch(uT.dK(t))),a.addEventListener(window.cast?.framework.CastContextEventType.SESSION_STATE_CHANGED,({sessionState:n,session:a})=>{if(n===window.cast?.framework.SessionState.SESSION_STARTING)fT(t,{step:"transfer_requested"});else if(n===window.cast?.framework.SessionState.SESSION_STARTED){let n=null;a?.getCastDevice()?.friendlyName&&(n=gT(a.getCastDevice().friendlyName)),e.dispatch(uT.$e(n)),fT(t,{step:"receiver_app_started"})}}))})(e,t,n),pT=!0)};const a=document.createElement("script");a.async=!0,a.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.body.appendChild(a)}},bT=async(e,t,n,a)=>{const r=await t.request("https://spclient.wg.spotify.com/device-auth/v1/refresh",{method:"POST",authorize:!0,payload:JSON.stringify({clientId:"d7df0887fb71494ea994202cb473eae7",deviceId:e})});if(null===r.body)throw new Error("Invalid response from device-auth!");((e,t,n)=>{const a={tokenType:"accesstoken",blob:t.accessToken};e.sendMessage(hT,{type:"addUser",payload:a}),fT(n,{step:"message_from_sender"})})(n,JSON.parse(r.body),a)},yT=(e,t,n)=>{const a=mT().getCurrentSession();if(null===a)return;a.addMessageListener(hT,(r,i)=>{const s=JSON.parse(i);fT(n,{step:"message_from_receiver"});try{if("getInfoResponse"===s.type){const t=s.payload;bT(t.deviceID,e,a,n)}else if("addUserResponse"===s.type){const e=s.payload;t.dispatch((0,Il.VR)(e.deviceId))}else if(s.type.endsWith("Error"))throw new Error(s.payload.status)}catch(e){console.error("Failed to transfer playback to Cast device!",e)}}),((e,t)=>{const n=e.getCastDevice(),a={remoteName:n.friendlyName,deviceID:gT(n.friendlyName),deviceAPI_isGroup:n.capabilities.includes(chrome?.cast?.Capability.MULTIZONE_GROUP)};e.sendMessage(hT,{type:"getInfo",payload:a}),fT(t,{step:"message_from_sender"})})(a,n)};function xT(e,t,n){return a=>r=>i=>{switch(i.type){case bC.xM:vT(a,t,n);break;case uT.gK.TOGGLE_CAST:(()=>{const e=mT();e&&e.requestSession()})();break;case uT.gK.CAST_STATE_CHANGED:((e,t,n,{castState:a})=>{a===window.cast?.framework.CastState.CONNECTED&&yT(e,t,n)})(e,a,t,i);break;case Il.gK.DEVICE_INFO_CHANGED:((e,t,{deviceInfo:n})=>{if(n&&n.is_active&&(0,dT.Mp)(n.type)){const a=mT()?.getCastState()===window.cast?.framework.CastState.CONNECTED,r=e.getState().playback?.connectingCastDeviceId;a&&n.id===r&&(fT(t,{step:"transfer_finished"}),e.dispatch(uT.iY()))}})(a,t,i)}return r(i)}}var wT=o(86943);var _T=o(43971),AT=o(5062),ST=o(62562);const ET=e=>t=>n=>async a=>{const r=n(a);switch(a.type){case _T.QN.CHECK_DUPLICATE_TRACKS:{const{playlistUri:n,uris:r,position:s={after:"end"}}=a;try{const{name:a}=await e.getMetadata(n),o=await e.getContents(n);let c=[...r];if((0,Ls._Tv)(r[0])){const e=(0,ST.lY)(ao.n.getInstance()),{trackUris:t}=await(0,AT.s)(r[0],0,e);c=t}const l=o.items.map(e=>e?.uri),{duplicates:u,newUris:d}=(i=l,c.reduce((e,t)=>{const n=i.includes(t);return{duplicates:n?[...e.duplicates,t]:e.duplicates,newUris:n?e.newUris:[...e.newUris,t]}},{duplicates:[],newUris:[]}));0===u.length?e.add(n,c,s):1===c.length?t.dispatch((0,_T.xM)({playlistName:a,playlistUri:n,uri:c[0],position:s})):t.dispatch((0,_T.xM)({playlistName:a,playlistUri:n,uris:c,newUris:d,position:s}))}catch(t){e.add(n,r,s),window.console.error(t)}break}}var i;return r};var CT=o(5982),jT=o(54634);const IT="playback";let TT=null;let NT=null,LT=!1;let kT,RT=[],PT=[];const DT=e=>{try{(0,gy.fE)({metric_type:py.MetricTypes.COUNTER,what:"harmony-error",value:1,tags:{type:e}})}catch(e){}},MT=(e,t)=>(kT=function(){if(null===TT)throw new Error("Missing `instance`. Have you called `createHarmony` yet?");return TT}(),kT.on(CT.bi.LOCAL_PLAYER_ENABLED,()=>{const e=(()=>{try{const e=localStorage.getItem(IT);if(null===e)return null;const{volume:t}=JSON.parse(e);return t||null}catch(e){return null}})();null!==e&&kT.setVolume(e,"@local");try{d_("playback_load_end");const e=h_("playback_load_start","playback_load_end","time_to_playback_ready"),[{duration:t}={duration:void 0}]=e;t&&(0,gy.fE)({metric_type:py.MetricTypes.TIMER,what:"playback-ready",value:py.Time.fromMillis(t).asNanos()}).catch(()=>({}))}catch(e){}}),kT.on(CT.bi.AUTHENTICATION_ERROR,()=>{DT(CT.bi.AUTHENTICATION_ERROR)}),kT.on(CT.bi.UNRECOVERABLE_FAILURE,({data:t})=>{const n=t.error.message||"";if(navigator.userAgent.indexOf("Edge")>-1)e.dispatch(Il.tS()),(0,An.UD)(t.error),DT(Il.gK.CDM_ERROR);else if(t.source===CT.O4.PLAYBACK){const a=t.name||t.error?.name||t.error?.code||"unknown";e.dispatch(Il.CZ(a,t.source,n))}DT(CT.bi.UNRECOVERABLE_FAILURE)}),kT.on(CT.bi.ERROR,({data:t})=>{if(t.error.code===CT.Hv.EME_LICENSE_REQUEST_WIDEVINE_ERROR&&e.dispatch(s.rN()),t.error.code===CT.Hv.MEDIA_DECODING_ERROR&&!LT){const n="media_decoding_error",a=t.source,r=t.error.message||"";e.dispatch(Il.CZ(n,a,r))}const n=t.name||t.error?.name||t.error?.code||"unknown";DT(n)}),kT.on(CT.bi.PLAYER_INITIALIZATION_DONE,()=>{t.triggerActions(),e.dispatch((0,jT.H2)())}),kT.on(CT.bi.PLAYER_INITIALIZATION_FAILED,({data:t})=>{if(!navigator.webdriver&&(DT(Il.gK.CDM_ERROR),t.error)){if(t.error.message&&t.error.message.indexOf("0x80004005")>=0)return;e.dispatch(Il.tS()),(0,An.UD)(t.error)}}),kT.on(CT.bi.MAX_SUBSCRIPTIONS_REACHED,({data:t})=>{e.dispatch(Il.fj(t.source??"unknown")),DT(CT.bi.MAX_SUBSCRIPTIONS_REACHED)}),kT.on(CT.bi.PRODUCT_STATE_CHANGED,()=>{}),kT.on(CT.bi.STATE_CHANGED,e=>{if(e.data.state&&e.data.state.context&&e.data.state.context.uri&&(e.data.state.context.uri=e.data.state.context.uri.replace(/:user:([^:]+):playlist:/g,":playlist:")),0===RT.length)try{d_("playback_load_update"),RT=h_("playback_load_start","playback_load_update","time_to_playback_fetched");const[{duration:e}={duration:void 0}]=RT;e&&(0,gy.fE)({metric_type:py.MetricTypes.TIMER,what:"playback-fetched",value:py.Time.fromMillis(e).asNanos()}).catch(()=>({}))}catch(e){}!e.data.state?.paused&&PT.length}),kT.on(CT.bi.LAST_ACTIVE_DEVICE_INFO_CHANGED,t=>{const n=t.data.deviceInfo;n&&e.dispatch(Il.rD(n))}),kT.on(CT.bi.PROGRESS,()=>{LT=!0}),kT),OT=e=>t=>n=>a=>{const r=n(a),i=t.getState(),o=i.session;if(a.type in Il.gK){const{hasOccurred:e,isOpen:n}=t.getState().ui.playbackNotSupportedErrorDialog;if(e&&!n)return t.dispatch(s.rN()),r}switch(a.type){case bC.xM:!NT&&o.accessToken&&(NT=((e,t)=>{const n=e.getState(),{isAnonymous:a}=(0,Ts.Ht)(n);return a?null:MT(e,t)})(t,e));break;case Il.gK.SET_ACTIVE_DEVICE:i.playback.device&&i.playback.device.id===a.id||NT?.transfer(a.id)}return r};var VT=o(9221),zT=o(67784),HT=o(32619);const FT="STORE_SEARCH",BT="SEARCH_HISTORY_CLEAR_DATA";var UT=o(76711);const qT=()=>e=>t=>{if(t.type===BT)localStorage.removeItem(UT.C);return e(t)},WT="REQUEST_SEO_EXPERIMENT_DATA",QT="SET_SEO_EXPERIMENT_DATA",GT="SET_SEO_EXPERIMENT_ERROR";const ZT=()=>e=>t=>async n=>{const a=t(n);if(n.type===WT)try{const t=await(i=ao.n.getInstance(),s=`/${(0,Ls.o_h)(n.uri).toURLPath()}`,i.build().withHost(ro.Go).withHostIdentifier("https://open.spotify.com").withPath("/seo").withQueryParameters({entityURL:s}).withoutMarket().withoutAuthorization().withEndpointIdentifier("/seo").send());e.dispatch((r=t?.body,{type:QT,data:r}))}catch(t){e.dispatch({type:GT})}var r,i,s;return a},$T=e=>()=>t=>n=>{const a=t(n);if(n.type===bC.tQ)e(n);return a};function KT(e){return t=>n=>a=>{const r=n(a);switch(a.type){case bC.tQ:{e.finalFlush(),t.dispatch((0,Il.MW)()),t.dispatch({type:BT});const n=document.getElementById("session");n&&n.remove();break}}return r}}const YT=()=>e=>t=>{const n=e(t);switch(t.type){case s.gK.ENTER_FULLSCREEN:document.documentElement.classList.add("fullscreen");break;case s.gK.LEAVE_FULLSCREEN:document.documentElement.classList.remove("fullscreen")}return n};var JT=o(81101);const XT={isOpen:!1},eN=(e=XT,t)=>{switch(t.type){case JT.QN.SHOW_ABOUT_RECS_MODAL:return{...e,isOpen:!0};case JT.QN.HIDE_ABOUT_RECS_MODAL:return{...e,isOpen:!1};default:return e}};var tN=o(47253);const nN={isOpen:!1},aN=(e=nN,t)=>{switch(t.type){case tN.QN.SHOW_ABOUT_SPOTIFY_MODAL:return{...e,isOpen:!0};case tN.QN.HIDE_ABOUT_SPOTIFY_MODAL:return{...e,isOpen:!1};default:return e}},rN={isOpen:!1,uri:"",dialog:void 0},iN=(e=rN,t)=>{switch(t.type){case JC.QN.SHOW_AGE_RESTRICTION_MODAL:return{...e,isOpen:!0,dialog:t.dialog};case JC.QN.GET_AGE_RESTRICTION_MODAL:return{...e,uri:t.uri};case JC.QN.HIDE_AGE_RESTRICTION_MODAL:return{...e,isOpen:!1};default:return e}},sN={isOpen:!1,playlistUri:void 0,uri:void 0,uris:void 0,position:void 0,playlistName:void 0,newUris:void 0},oN=(e=sN,t)=>{switch(t.type){case _T.QN.SHOW_DUPLICATE_TRACKS_DIALOG:return{...e,isOpen:!0,playlistUri:t.playlistUri,uri:t.uri,uris:t.uris,position:t.position,playlistName:t.playlistName,newUris:t.newUris};case _T.QN.HIDE_DUPLICATE_TRACKS_DIALOG:return{...e,isOpen:!1};default:return e}},cN={ads:!1},lN=(e,t)=>(t.type,e||cN);var uN=o(50453);const dN={isOpen:!1},hN=(e=dN,t)=>{switch(t.type){case uN.QN.SHOW_LICENSES_MODAL:return{...e,isOpen:!0};case uN.QN.HIDE_LICENSES_MODAL:return{...e,isOpen:!1};default:return e}};const pN={device:null,castState:o(24521).xP.NO_DEVICES_AVAILABLE,connectingCastDeviceId:null},mN=(e,t)=>{const n=t.deviceInfo;return n&&isNaN(n.volume)&&(n.volume=0),{...e,device:n}},gN=(e,t)=>({...e,castState:t.castState}),fN=(e,t)=>({...e,connectingCastDeviceId:t.deviceId}),vN=e=>({...e,connectingCastDeviceId:null}),bN=e=>(localStorage.removeItem(IT),{...e}),yN=(()=>{const e={[Il.gK.DEVICE_INFO_CHANGED]:mN,[Il.gK.PLAYBACK_CLEAR_DATA]:bN,[uT.gK.CAST_STATE_CHANGED]:gN,[uT.gK.SET_CONNECTING_CAST_DEVICE_ID]:fN,[uT.gK.RESET_CONNECTING_CAST_DEVICE_ID]:vN};return(t,n)=>{let a=null;return n.type in e&&(a=e[n.type](a||t,n)),a||t||pN}})(),xN="searchHistory",wN={contexts:(()=>{const e=localStorage.getItem(xN);return e?JSON.parse(e).filter(e=>"uri"in e):[]})()},_N=(e=wN,t)=>{switch(t.type){case FT:{const n=t.uri?((e,t,n,a)=>[{uri:e,name:t,image:n}].concat(a.filter(t=>t.uri!==e)).splice(0,4))(t.uri,t.name,t.image,e.contexts):e.contexts;try{localStorage.setItem(xN,JSON.stringify(n))}catch(e){}return{...e,contexts:n}}case BT:return localStorage.removeItem(xN),{...e,contexts:[]};default:return e}};let AN=function(e){return e.UNAVAILABLE="UNAVAILABLE",e.LOADING="LOADING",e.LOADED="LOADED",e}({});const SN={status:AN.UNAVAILABLE},EN=(e=SN,t)=>{switch(t.type){case WT:return{...e,status:AN.LOADING,uri:t.uri};case QT:return{...e,status:AN.LOADED,...t.data};default:return e}};const CN={isAnonymous:!0,accessToken:"",accessTokenExpirationTimestampMs:0,tokenType:"",user:null,locale:o(41058).h.en,productState:null,market:"",valid:!1,overrides:null};function jN(e=CN,t){switch(t.type){case vC.J:return{...e,user:t.data};case vC.O:return{...e,productState:t.data};case bC.ro:return{...e,accessToken:t.authData.accessToken,accessTokenExpirationTimestampMs:t.authData.accessTokenExpirationTimestampMs,tokenType:t.authData.tokenType,isAnonymous:t.authData.isAnonymous,valid:!0};case bC.Zz:return e.user?{...e,user:{...e.user,display_name:t.name}}:e;case bC.L0:return e.user?{...e,user:{...e.user,images:t.images}}:e;case bC.Vx:return{...e,overrides:{...e.overrides,country:t.country}};case bC.dD:return{...e,overrides:{...e.overrides,locale:t.locale}};default:return e}}const IN=e=>!(e.type===jT.l_.PLAY||e.type===jT.l_.PLAYING),TN=e=>!(e.type===jT.l_.PLAY||e.type===jT.l_.USER_INVESTMENT),NN=e=>t=>n=>a=>{const r=n(a);switch(a.type){case jT.Jf:{const{storeAction:t,actionIntent:n}=a;e.storeAction(e=>((e,t)=>{const{type:n}=t;switch(n){case jT.l_.PLAY:return[t];case jT.l_.PLAYING:return[...e.filter(IN),t];case jT.l_.USER_INVESTMENT:return[...e.filter(TN),t];default:return[t]}})(e,{storeAction:t,type:n}));break}case jT.f6:{const n=e.pullAction()||null;t.dispatch({type:"PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",had:!!n&&n.length>0}),n&&n.forEach(({storeAction:e})=>{t.dispatch(e)});break}}return r},LN=jE.Zz,kN=(e,t)=>{const{session:n}=e,{actionStoreApi:a,adManagers:r,ageRestrictionApi:i,deferredAction:o,eventSender:c,followApi:l,history:u,libraryApi:d,offlineApi:h,platform:p,playbackApi:m,playerApi:g,playlistApi:f,rootlistApi:v,serviceWorkerMessenger:b,socialConnectApi:y,transport:x}=t,w=k(p),_=[];return w?_.push((e=>()=>t=>n=>{const a=t(n);return n.type===bC.tQ&&e.finalFlush().finally(wT.r),a})(c)):(n?.isAnonymous||_.push(OT(a)),_.push(oT),_.push(xT(x,c,p.enableCastConnect))),[(0,Ll.oU)(g,d,v,l,a),(S=h,e=>(S.getEvents().addListener(zT.I.ERROR,t=>{t.data.code===HT.O4.DEVICE_LIMIT_REACHED&&e.dispatch((0,s.j4)())}),e=>async t=>{e(t)})),(A=u.push,e=>t=>n=>{const{pathname:a,search:r,hash:i}=window.location,{dispatch:o}=e,c=e.getState(),l=new RegExp(ae),{OPEN_SIGNUP_PROMPT_DIALOG:u,CLOSE_SIGNUP_PROMPT_DIALOG:d,UPDATE_UI_HISTORY_STATE:h}=s.gK;switch(n.type){case u:A({pathname:a,search:r,state:{},hash:ae});break;case d:A({pathname:a,search:r,state:{},hash:""});break;case h:(0,ne.GP)(c)&&!l.test(i)&&o((0,s.BU)())}return t(n)}),NN(o),..._,...CC(p,w,u,r,m,g),$T(b),XC(i),ET(f),KT(c),YT,(0,VT.f0)(u,g,y),qT,ZT(),NE];var A,S};function RN(e,t){const{platform:n}=t,a=kN(e,t);return(0,jE.y$)((e=>{return(0,jE.HY)({playback:yN,session:jN,ui:(0,ll.JQ)(e),searchHistory:_N,features:lN,duplicateTracks:oN,ageRestriction:iN,ads:(t=e.container,(0,jE.HY)({sponsoredPlaylist:PC,leaderboard:kC,root:WC,adFeedback:UC,...t===L.m.Desktop?{billboard:IC,hpto:VC,vto:HC,audio:MC,embeddedAd:NC}:{}})),inAppMessaging:YC,aboutRecs:eN,seoExperiment:EN,...e.container===L.m.Desktop&&{aboutSpotify:aN,licenses:hN,reportIssue:ZC}});var t})(n),e,LN((0,jE.Tw)(...a)))}class PN{constructor(e){this.spotifyTransport=e}async getDialog(e){const t=await((e,t)=>e.build().withMethod("GET").withHost(ro.d).withPath(`/dialog/${t}`).withEndpointIdentifier("/dialog/${uri}").withoutMarket().send())(this.spotifyTransport,e),{r:n,g:a,b:r}=this.getColorRGB(t.body.color);return{backgroundColor:`rgb(${n}, ${a}, ${r})`,providerUrl:t.body.provider_url}}getColorRGB(e){return{r:e>>>16&255,g:e>>>8&255,b:e>>>0&255}}}const DN=(e,t)=>{let n=[];return{storeAction:a=>{n=a(n),e.setItem(t,JSON.stringify(n))},pullAction:()=>{const a=e.getItem(t);if(e.removeItem(t),n=[],a)try{return JSON.parse(a)}catch(e){return null}return null}}};var MN=o(39233),ON=o(85073);var VN=o(42865),zN=o(68545),HN=o(31541),FN=o(17589),BN=o(61297),UN=o(93876),qN=o(50657);const WN=e=>{const t=e.pathname.split("/"),n=t.pop(),a=t.pop();if(a&&n)return(0,Ls.o_h)(`spotify:${a}:${n}`)?.toURI()};var QN,GN,ZN,$N,KN,YN=-1,JN=function(e){addEventListener("pageshow",function(t){t.persisted&&(YN=t.timeStamp,e(t))},!0)},XN=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},eL=function(){var e=XN();return e&&e.activationStart||0},tL=function(e,t){var n=XN(),a="navigate";return YN>=0?a="back-forward-cache":n&&(document.prerendering||eL()>0?a="prerender":document.wasDiscarded?a="restore":n.type&&(a=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:a}},nL=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var a=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return a.observe(Object.assign({type:e,buffered:!0},n||{})),a}}catch(e){}},aL=function(e,t,n,a){var r,i;return function(s){t.value>=0&&(s||a)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},rL=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},iL=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},sL=function(e){var t=!1;return function(){t||(e(),t=!0)}},oL=-1,cL=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},lL=function(e){"hidden"===document.visibilityState&&oL>-1&&(oL="visibilitychange"===e.type?e.timeStamp:0,dL())},uL=function(){addEventListener("visibilitychange",lL,!0),addEventListener("prerenderingchange",lL,!0)},dL=function(){removeEventListener("visibilitychange",lL,!0),removeEventListener("prerenderingchange",lL,!0)},hL=function(){return oL<0&&(oL=cL(),uL(),JN(function(){setTimeout(function(){oL=cL(),uL()},0)})),{get firstHiddenTime(){return oL}}},pL=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},mL=[1800,3e3],gL=function(e,t){t=t||{},pL(function(){var n,a=hL(),r=tL("FCP"),i=nL("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<a.firstHiddenTime&&(r.value=Math.max(e.startTime-eL(),0),r.entries.push(e),n(!0)))})});i&&(n=aL(e,r,mL,t.reportAllChanges),JN(function(a){r=tL("FCP"),n=aL(e,r,mL,t.reportAllChanges),rL(function(){r.value=performance.now()-a.timeStamp,n(!0)})}))})},fL=[.1,.25],vL=0,bL=1/0,yL=0,xL=function(e){e.forEach(function(e){e.interactionId&&(bL=Math.min(bL,e.interactionId),yL=Math.max(yL,e.interactionId),vL=yL?(yL-bL)/7+1:0)})},wL=function(){return QN?vL:performance.interactionCount||0},_L=function(){"interactionCount"in performance||QN||(QN=nL("event",xL,{type:"event",buffered:!0,durationThreshold:0}))},AL=[],SL=new Map,EL=0,CL=[],jL=function(e){if(CL.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=AL[AL.length-1],n=SL.get(e.interactionId);if(n||AL.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var a={id:e.interactionId,latency:e.duration,entries:[e]};SL.set(a.id,a),AL.push(a)}AL.sort(function(e,t){return t.latency-e.latency}),AL.length>10&&AL.splice(10).forEach(function(e){return SL.delete(e.id)})}}},IL=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=sL(e),"hidden"===document.visibilityState?e():(n=t(e),iL(e)),n},TL=[200,500],NL=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},pL(function(){var n;_L();var a,r=tL("INP"),i=function(e){IL(function(){e.forEach(jL);var t=function(){var e=Math.min(AL.length-1,Math.floor((wL()-EL)/50));return AL[e]}();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,a())})},s=nL("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});a=aL(e,r,TL,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),iL(function(){i(s.takeRecords()),a(!0)}),JN(function(){EL=wL(),AL.length=0,SL.clear(),r=tL("INP"),a=aL(e,r,TL,t.reportAllChanges)}))}))},LL=[2500,4e3],kL={},RL=[800,1800],PL=function e(t){document.prerendering?pL(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},DL=function(e,t){t=t||{};var n=tL("TTFB"),a=aL(e,n,RL,t.reportAllChanges);PL(function(){var r=XN();r&&(n.value=Math.max(r.responseStart-eL(),0),n.entries=[r],a(!0),JN(function(){n=tL("TTFB",0),(a=aL(e,n,RL,t.reportAllChanges))(!0)}))})},ML={passive:!0,capture:!0},OL=new Date,VL=function(e,t){GN||(GN=t,ZN=e,$N=new Date,FL(removeEventListener),zL())},zL=function(){if(ZN>=0&&ZN<$N-OL){var e={entryType:"first-input",name:GN.type,target:GN.target,cancelable:GN.cancelable,startTime:GN.timeStamp,processingStart:GN.timeStamp+ZN};KN.forEach(function(t){t(e)}),KN=[]}},HL=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){VL(e,t),r()},a=function(){r()},r=function(){removeEventListener("pointerup",n,ML),removeEventListener("pointercancel",a,ML)};addEventListener("pointerup",n,ML),addEventListener("pointercancel",a,ML)}(t,e):VL(t,e)}},FL=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,HL,ML)})},BL=[100,300];const UL=[{regExp:/^\/$/,pageIdentifier:"/home"},{regExp:/^\/genre/,pageIdentifier:"/genre"},{regExp:/^\/view/,pageIdentifier:"/view"},{regExp:/^\/browse/,pageIdentifier:"/browse"},{regExp:/^\/search/,pageIdentifier:"/search"},{regExp:/^\/upsell/,pageIdentifier:"/upsell"},{regExp:/^\/collection/,pageIdentifier:"/collection"},{regExp:/^\/artist/,pageIdentifier:"/artist"},{regExp:/^\/playlist/,pageIdentifier:"/playlist"},{regExp:/^\/album/,pageIdentifier:"/album"},{regExp:/^\/episode/,pageIdentifier:"/episode"},{regExp:/^\/show/,pageIdentifier:"/show"},{regExp:/^\/user/,pageIdentifier:"/user"},{regExp:/^\/track/,pageIdentifier:"/track"},{regExp:/^\/concerts/,pageIdentifier:"/concerts"},{regExp:/^\/concert-campaign\//,pageIdentifier:"/concert-campaign"},{regExp:/^\/concert\//,pageIdentifier:"/concert"},{regExp:/^\/made-for-you/,pageIdentifier:"/made-for-you"},{regExp:/^\/prerelease/,pageIdentifier:"/prerelease"}],qL=(e="")=>{const t=UL.find(({regExp:t})=>t.test(e));return t?.pageIdentifier??"unknown"};function WL(e){py.BrowserMetrics.getPageLoadTime().then(e=>{(0,gy.fE)({metric_type:py.MetricTypes.TIMER,what:"time-to-page-load-nanoseconds",value:(0,py.asNanoseconds)(py.Time.fromMillis(e).asNanos()),tags:{route:qL(window.location.pathname)}})}).catch(()=>{}),py.BrowserMetrics.getTimeToFirstPaint().then(e=>{(0,gy.fE)({metric_type:py.MetricTypes.TIMER,what:"time-to-first-paint-nanoseconds",value:(0,py.asNanoseconds)(py.Time.fromMillis(e).asNanos()),tags:{route:qL(window.location.pathname)}})}).catch(()=>{}),py.BrowserMetrics.getTimeToFirstContentfulPaint().then(e=>{(0,gy.fE)({metric_type:py.MetricTypes.TIMER,what:"time-to-first-contentful-paint-nanoseconds",value:(0,py.asNanoseconds)(py.Time.fromMillis(e).asNanos()),tags:{route:qL(window.location.pathname)}})}).catch(()=>{});const t=t=>{const n=qL(window.location.pathname);if((0,gy.fE)(py.BrowserMetrics.getWebVitalsMetric({...t,label:t.name},{route:n})),e&&t.value>0){const a=e.makeTimeMeasurementBuilder("web_vitals");a.addPoint({identifier:t.name,durationInMicroseconds:Math.round(1e3*t.value)}).addDimension("page-identifier",n),e.send(a.build())}};!function(e,t){t=t||{},pL(function(){var n,a=hL(),r=tL("FID"),i=function(e){e.startTime<a.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),n(!0))},s=function(e){e.forEach(i)},o=nL("first-input",s);n=aL(e,r,BL,t.reportAllChanges),o&&(iL(sL(function(){s(o.takeRecords()),o.disconnect()})),JN(function(){var a;r=tL("FID"),n=aL(e,r,BL,t.reportAllChanges),KN=[],ZN=-1,GN=null,FL(addEventListener),a=i,KN.push(a),zL()}))})}(t),function(e,t){t=t||{},gL(sL(function(){var n,a=tL("CLS",0),r=0,i=[],s=function(e){e.forEach(function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e])}}),r>a.value&&(a.value=r,a.entries=i,n())},o=nL("layout-shift",s);o&&(n=aL(e,a,fL,t.reportAllChanges),iL(function(){s(o.takeRecords()),n(!0)}),JN(function(){r=0,a=tL("CLS",0),n=aL(e,a,fL,t.reportAllChanges),rL(function(){return n()})}),setTimeout(n,0))}))}(t),function(e,t){t=t||{},pL(function(){var n,a=hL(),r=tL("LCP"),i=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach(function(e){e.startTime<a.firstHiddenTime&&(r.value=Math.max(e.startTime-eL(),0),r.entries=[e],n())})},s=nL("largest-contentful-paint",i);if(s){n=aL(e,r,LL,t.reportAllChanges);var o=sL(function(){kL[r.id]||(i(s.takeRecords()),s.disconnect(),kL[r.id]=!0,n(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return IL(o)},{once:!0,capture:!0})}),iL(o),JN(function(a){r=tL("LCP"),n=aL(e,r,LL,t.reportAllChanges),rL(function(){r.value=performance.now()-a.timeStamp,kL[r.id]=!0,n(!0)})})}})}(t),NL(t),gL(t),DL(t)}const QL=[];function GL(){const e=globalThis.spektrumLoggingInternals;e&&(QL.forEach(t=>{e.logPageActionForTestStep({title:t.title,timestamp:t.timestamp})}),QL.length=0)}o(80247);async function ZL(e,t,n){const a=(0,An.sV)();if(null===e||null===t)return null===e&&a.setUser({id:"anonymous",username:"anonymous"}),void(null===t&&a.setTag("product","logged_out"));const r=(0,p_.My)(),i=await qN.V.hash(e.username);switch(r){case L.m.Desktop:a.setUser({id:i});break;case L.m.Web:case L.m.PWA:{const e=(0,La.x)(ka.I4);e?.correlationId&&a.setUser({id:e.correlationId})}}var s;a.setTag("product",t.product),n.dispatch((s={country:t.country,uri:e.uri,id:e.username,display_name:e.displayName||void 0,images:e.images.map(({url:e,width:t,height:n})=>({url:e,width:t||null,height:n||null})),product:t.product,policies:{opt_in_trial_premium_only_market:"1"===t["opt-in-trial-premium-only-market"]},type:"user",avatarBackgroundColor:e.avatarBackgroundColor},{type:vC.J,data:s})),n.dispatch(function(e){return{type:vC.O,data:e}}(t))}function $L(){if(uE()){const e=(0,BN.H)().buildVersion;(0,An.ig)("https://de32132fc06e4b28965ecf25332c3a25@o22381.ingest.sentry.io/114855",e,function(){const{error:e,transaction:t}={error:.001,transaction:0};return{sampleRate:e,tracesSampleRate:t,debug:!1,beforeSendTransaction:dE}}(),(0,p_.My)(),hE())}}d_("playback_load_start"),globalThis.spektrumLoggingInternalsFromApp={reportPageActions(){GL()}},async function(){$L(),function(){const e=document.getElementById("remoteConfig");e&&e.textContent?(JSON.parse(atob(e.textContent)),c_()):c_(Ae.apO.Control)}();const c=await async function(){const e=(0,p_.My)();{const{createPlatformDesktop:t}=await Promise.resolve().then(o.bind(o,17871));return t(e)}}(),l=c.getFeatureFlags(),u=c.getRegistry(),d=c.getSession(),p=c.getHistory(),m=c.getSEOExperiments(),g=u.resolve(ey.u);Ra.M.setup(),(0,s_.Om)(c.container,c.operatingSystem);const f=c.getEventSender();g.getEvents().addListener("message",e=>{e.data.type===qh.W.NAVIGATION?async function(e,t){if(!t)return;const n=EE(t);if(!n)return;const{url:a}=n;if(SE(a)){const t=e.resolve(gE.KM);_E(n,t)}await CE(e,n);const r=`${a.pathname}${a.search}`;e.resolve(gE.Fi).push(r,{referrer:"deeplink"})}(u,e.data.data):e.data.type===qh.W.LOG_DEEP_LINK&&function(e,t){if(!t)return;const n=EE(t);if(!n)return;const{url:a}=n;if(SE(a)){const t=e.resolve(gE.KM);_E(n,t)}}(u,e.data.data)});const{gtmId:v,market:b,locale:y,userCountry:x}=(0,La.x)(ka.I4),w=k(c),_=c.getTransport(),A=await c.getServiceWorkerMessenger(),E=Spicetify.Platform.ReduxStore=u.resolve(l_.JD),C=u.resolve(u_.t),I=u.resolve(MN.Ho),T=u.resolve(ON.v),N=u.resolve(VN.B),L=u.resolve(zN.H),R=u.resolve(fE.Ki),P=u.resolve(HN.Yi),D=u.resolve(FN.j),M=u.resolve(my.T),O=u.resolve(pE.B),V=RN({session:d,features:l,seoExperiment:m},{platform:c,history:p,playbackApi:N,playerApi:L,rootlistApi:P,playlistApi:R,followApi:C,libraryApi:I,actionStoreApi:E,serviceWorkerMessenger:A,offlineApi:T,transport:_,eventSender:f,adManagers:c.getAdManagers(),deferredAction:DN(sessionStorage,"ANONYMOUS_DEFERRED_ACTION_KEY"),ageRestrictionApi:new PN(ao.n.getInstance()),socialConnectApi:D});_.on(a.TransportEvent.ACCESS_TOKEN,async()=>{const e=await M.getToken({preferCached:!0});null!==e&&(ao.n.setSession(e),V.dispatch((0,us.a7)(e)))});let z=!1;_.on(a.TransportEvent.RECONNECTING,()=>{z=!0}),_.on(a.TransportEvent.RECONNECTED,()=>{z=!1}),_.on(a.TransportEvent.AUTHENTICATION_FAILED,async()=>{if(!z&&!w){const e=await M.getToken({preferCached:!0});null!==e&&e.isAnonymous||V.dispatch((0,us.wH)())}}),(0,gy.q6)("desktop-web-player",_),WL(O),w||(()=>{const e=new URL(window.location.href);return AE(e)||((t=e).searchParams.has("utm_source")||t.searchParams.has("utm_medium")||t.searchParams.has("utm_campaign"))&&!(e=>"/"===e.pathname&&"pwa_install"===e.searchParams.get("utm_source"))(e)||!(e=>"/"===e.pathname||"/__noul__"===e.pathname||/\/intl-[A-Za-z][A-Za-z]$/.test(e.pathname))(e);var t})()&&(((e,t)=>{const n=new URL(window.location.href),a=n.searchParams.get("dlsi")||wE(),r={link:window.location.href,entity_uri:WN(n),source:window.navigator.userAgent,deeplink_session_id:a};t?e.send({name:"DeeplinkOpenNonAuth",environments:["browsernonauth","devicenonauth"],data:r}):e.send((0,bE.N)(r))})(f,d.isAnonymous),p.location.state={..."object"==typeof p.location.state?p.location.state:{},referrer:"deeplink"},L.setReferrer("deeplink"));const H=r.Ru.getLocaleForTranslation();if(V.dispatch((0,us.Hh)()),V.dispatch((0,i.zA)(H)),w){document.documentElement.setAttribute("lang",H)}!function(e,t){const n=[];let a=0;n.push(e.location),e.listen((e,r)=>{r===a_&&(a+=1,n.splice(a),n.push(e)),r===n_&&(a=n.findIndex(t=>t.key===e.key)),r===r_&&n.splice(a,1,e),t(i_(a,n))}),t(i_(a,n))}(p,e=>{V.dispatch((0,s.hp)(e))}),await ZL(c.initialUser,c.initialProductState,V);const F=(0,mE.e)(!0);(0,UN.lM)(),(0,e.H)(F).render((0,S.jsx)(t.Gu,{configuration:null,children:(0,S.jsx)(h.s,{onError:e=>(0,An.Jy)(e,"App"),Fallback:j,children:(0,S.jsx)(t_,{store:V,platform:c})})})),!w&&v&&(0,n.track)({dataLayerPushInitial:!0,googleTagManagerId:v,language:y?.locale,market:b,loggedIn:!d.isAnonymous,oneTrust:"1"===((0,mt.v8)("client-web_one-trust")??"1"),userCountry:x}),(0,s_.Wb)(c.operatingSystem)&&V.dispatch((0,s.Kk)()),function(e){const t={title:e,timestamp:Date.now()};QL.push(t),GL()}("UI init phase is done for logged-in experience"),d.isAnonymous||f.send({name:"WindowSize",environments:["desktop","browser"],data:{width:window.outerWidth,height:window.outerHeight,mode:0,duration:0}},{flush:!1})}().catch(n=>{(0,An.OV)(n),console.error(n);const a=(0,mE.e)(!0);(0,e.H)(a).render((0,S.jsx)(t.Gu,{configuration:null,children:(0,S.jsx)(j,{})}))})})(),c=o.O(c)})();
//# sourceMappingURL=xpui-snapshot.js.map