"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2435],{6944:(e,t,r)=>{r.d(t,{H:()=>p});var s=r(30758),a=r(7651),o=r(76315),i=r(77693),n=r(99380),l=r(84771),E=r(46065);var S=r(1566);class u{_user=null;constructor(e,t){this._userAPI=e,this._esperantoTransport=t;const r=(0,S.V)();this._client=(0,a.UU)({definition:n.GJ,baseURL:"https://spclient.wg.spotify.com/spotbot-api2/",transport:r,requestOptions:{authorize:!0}}),this._playlistDataClient=new o.hm7(this._esperantoTransport),this._playlistServiceClient=new o.to1(this._esperantoTransport),this._events=new i.b}_setupProgressSubscription(e){!function(e,t,r){let s=null,a=!1;const n=e.subscribe({uri:r,query:o.bpJ.fromPartial({range:{start:0,length:0}}),policy:{playlist:o.fu_.fromPartial({formatListAttributes:!0})}},({data:e})=>{const o=(0,E.xt)(e?.playlist?.playlistMetadata?.formatListAttributes??[]),S=(0,l.z)(o);"MESSAGE_STATUS_SUCCESS"===o?.generation_status&&a&&(n.cancel(),s&&clearTimeout(s)),o&&"MESSAGE_STATUS_SUCCESS"!==o.generation_status&&(a=!0),t.emit(i.U.UPDATE,{playlistUri:r,message:S})});s=setTimeout(()=>{n.cancel(),t.emit(i.U.UPDATE,{playlistUri:r,message:null})},3e5)}(this._playlistDataClient,this._events,e)}_parseRpcError(e){if(!(e instanceof Error&&a.Qc.isRpcError(e)))return null;const t=e.payload,r=t&&"object"==typeof t&&"details"in t?t.details:null;return Array.isArray(r)&&r.length>0?r.map(e=>n.Hn.fromJSON(e)):null}async writePrompt(e,t,r,s){try{this._user=this._user??await this._userAPI.getUser(),this._user?.username||console.error("Username not found",this._user);const a=await this._client.createPromptablePlaylist({queryText:e,username:this._user?.username,refreshMetadata:t,isPrivate:r??!1,clonedFromPlaylistUri:s??""});return this._setupProgressSubscription(a.spotbotUri),{playlistUri:a.spotbotUri}}catch(e){const t=this._parseRpcError(e);if(t)throw t;throw e}}async editPrompt(e,t){try{const r=await this._client.editPromptablePlaylist({spotbotUri:e,attributesToUpdate:[{prompt:t}]});return this._setupProgressSubscription(e),{...r}}catch(e){const t=this._parseRpcError(e);if(t)throw t;throw e}}async refreshPlaylist(e){await this._client.refreshPromptablePlaylist({spotbotUri:e}),this._setupProgressSubscription(e)}getEvents(){return this._events}async getSuggestions(){return await this._client.getPromptablePlaylistSuggestions({unused:!1})}async setRefreshMetadata(e,t){const r=new TextEncoder;await this._playlistServiceClient.emitSignals(o.jRC.fromPartial({listUri:e,signals:[{identifier:"UPDATE_CADENCE",clientPayload:r.encode(JSON.stringify(n.XR.toJSON(t)))}]}))}}var T=r(94209),c=r(34966),N=r(28101);let O=null;const p=()=>{const e=(0,T.N)(N.L),t=(0,T.N)(c.VI);return(0,s.useMemo)(()=>(O??=new u(e,t),O),[e,t])}},18813:(e,t,r)=>{r.d(t,{R:()=>c});var s=r(30758),a=r(90113),o=r(41045);function i(e,t,r=!1){if(!e)return void console.error("No list element found. Canceling moving focus");if(!(0,o.fk)(e))return;const s=e.querySelector('[tabindex="0"]');t===a.O.UP&&(0,o.MS)(s,n(e,s,a.O.UP,r)),t===a.O.DOWN&&(0,o.MS)(s,n(e,s,a.O.DOWN,r)),t===a.O.RIGHT&&(0,o.MS)(s,l(s,a.O.RIGHT,r)),t===a.O.LEFT&&(0,o.MS)(s,l(s,a.O.LEFT,r)),t===a.O.HOME&&(0,o.MS)(s,E(a.O.HOME,r)??s),t===a.O.END&&(0,o.MS)(s,E(a.O.END,r)??s)}function n(e,t,r,s=!1){const i=t.closest('li[role="row"]');if(!i)return t;let n=i;const E=Array.from(e.querySelectorAll('li[role="row"]')),S=Array.from(i.querySelectorAll(o.nu)),u=E.indexOf(i);if(u<0)return t;const T=(s&&t!==S[0]||!s&&t!==i)&&!(t instanceof HTMLLIElement);if(r===a.O.UP){if(document.activeElement===e){n=E[E.length-1];return(s?n?.querySelector(o.nu):n)??t}if(T)return l(t,a.O.LEFT,s);let r=u-1;if(-1===r)return t;n=E[r],r-=1}else if(r===a.O.DOWN){if(document.activeElement===e){n=E[0];return(s?n?.querySelector(o.nu):n)??t}if(T)return l(t,a.O.RIGHT,s);let r=u+1;if(r===E.length)return t;n=E[r],r+=1}return(s?n?.querySelector(o.nu):n)??t}function l(e,t,r=!1){const s=e.closest('li[role="row"]');if(!s)return e;let i=e;const n=Array.from(s.querySelectorAll(o.nu)),l=n.indexOf(e);let E=0;if(t===a.O.RIGHT&&l-1!==n.length)E=l+1;else{if(t===a.O.LEFT&&-1===l)return s;if(t===a.O.LEFT&&0!==l)E=l-1;else if(t===a.O.LEFT&&0===l){return(r?s.querySelector(o.nu):s)??s}}return i=n.at(E),i??e}function E(e,t=!1){const{currentFocus:r,listEl:s}=function(){const e=document.activeElement,t=e?.closest("ul");return((0,a.I)(e)||e instanceof HTMLLIElement)&&t?{currentFocus:e,listEl:t}:{currentFocus:null,listEl:null}}();if(null===r||null===s)return null;const i=r.closest('li[role="row"]');if(!i)return r;const n=Array.from(s.querySelectorAll('li[role="row"]')),l=Array.from(i.querySelectorAll(o.nu));if(n.indexOf(i)<0)return r;const E=t&&r===l[0]||!t&&r===i;if(e===a.O.HOME){if(E){return(t?n[0]?.querySelector(o.nu):n[0])??r}return(t?l[1]:l[0])??r}if(e===a.O.END){if(E){return(t?n[n.length-1]?.querySelector(o.nu):n[n.length-1])??r}return l[l.length-1]??r}return r}var S=r(60204),u=r(62142),T=r(86070);const c=(0,s.forwardRef)(({onKeyDown:e,children:t,firstInteractiveIsWrapper:r=!1,...n},l)=>{const E=(0,u.N)(l);(0,S.R)(E);const c=(0,s.useCallback)(t=>{E.current?.contains(t.target)&&("ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Home"!==t.key&&"End"!==t.key||t.preventDefault(),"ArrowUp"!==t.key&&"ArrowDown"!==t.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===t.key&&i(E.current,a.O.UP,r),"ArrowDown"===t.key&&i(E.current,a.O.DOWN,r),"ArrowRight"===t.key&&i(E.current,a.O.RIGHT,r),"ArrowLeft"===t.key&&i(E.current,a.O.LEFT,r),"Home"===t.key&&i(E.current,a.O.HOME,r),"End"===t.key&&i(E.current,a.O.END,r),e?.(t))},[r,E,e]),N=(0,s.useCallback)(e=>{if(!E.current)return;const t=e.target,r=E.current.querySelector('[tabindex="0"]');t.closest('li[role="row"]')&&t!==r&&(0,o.MS)(r,t,{preventScroll:!0})},[E]);return(0,T.jsx)("ul",{role:"treegrid",ref:E,onKeyDown:c,onFocus:N,tabIndex:0,...n,children:t})})},77693:(e,t,r)=>{r.d(t,{U:()=>a,b:()=>o});var s=r(64723);let a=function(e){return e.UPDATE="update",e}({});class o extends s.V{}},84771:(e,t,r)=>{function s(e){let t=null;if(e?.progress_details)try{t=JSON.parse(e.progress_details)}catch(e){t=null}const r=e?.generation_status;return"MESSAGE_STATUS_QUEUED"===r||"MESSAGE_STATUS_PROCESSING"===r?t:null}r.d(t,{z:()=>s})},91925:(e,t,r)=>{r.d(t,{u:()=>u});var s=r(30758),a=r(78065),o=r(3877),i=r(82899),n=r(62229),l=r(60257),E=r(13059);const S=e=>{switch(e){case n.h.EXPANDED:return"expanded";case n.h.COLLAPSED:return"collapsed";case n.h.DEFAULT:case n.h.FULLSCREEN:return"default";default:throw(0,E.k)(e)}},u=()=>{const{leftSidebarState:e,setLeftSidebarState:t}=(0,i.ae)(),{isCollapsed:r,lastUncollapsedYLXSidebarMode:E,isFullscreen:u}=(0,n.Q)(),T=(0,o.l)(),c=(0,l.s)();return{toggleCollapseYLX:(0,s.useCallback)(s=>{let o=e,l=S(E),N=S(E);r?(N=S(n.h.COLLAPSED),o=E===n.h.EXPANDED?i.ZS.EXPANDED:i.ZS.DEFAULT):u?(l=S(n.h.DEFAULT),o=i.ZS.DEFAULT,T(a.z.CLOSED)):(l=S(n.h.COLLAPSED),o=i.ZS.COLLAPSED),s&&c.logInteraction(s.hitToggleState({stateBeforeToggle:N,stateAfterToggle:l})),t(o)},[e,E,r,u,T,t,c])}}},96344:(e,t,r)=>{r.d(t,{Q:()=>s.Q});var s=r(62229)},99380:(e,t,r)=>{r.d(t,{ob:()=>U,GJ:()=>j,Hn:()=>B,Zg:()=>I,jk:()=>d,XR:()=>P,CC:()=>y});var s=r(4159);let a=function(e){return e[e.MESSAGE_STATUS_UNKNOWN=0]="MESSAGE_STATUS_UNKNOWN",e[e.MESSAGE_STATUS_SUCCESS=1]="MESSAGE_STATUS_SUCCESS",e[e.MESSAGE_STATUS_QUEUED=2]="MESSAGE_STATUS_QUEUED",e[e.MESSAGE_STATUS_PROCESSING=3]="MESSAGE_STATUS_PROCESSING",e[e.MESSAGE_STATUS_ERROR=4]="MESSAGE_STATUS_ERROR",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function o(e){switch(e){case 0:case"MESSAGE_STATUS_UNKNOWN":return a.MESSAGE_STATUS_UNKNOWN;case 1:case"MESSAGE_STATUS_SUCCESS":return a.MESSAGE_STATUS_SUCCESS;case 2:case"MESSAGE_STATUS_QUEUED":return a.MESSAGE_STATUS_QUEUED;case 3:case"MESSAGE_STATUS_PROCESSING":return a.MESSAGE_STATUS_PROCESSING;case 4:case"MESSAGE_STATUS_ERROR":return a.MESSAGE_STATUS_ERROR;default:return a.UNRECOGNIZED}}let i=function(e){return e[e.AGENT_UNKNOWN=0]="AGENT_UNKNOWN",e[e.AGENT_USER=1]="AGENT_USER",e[e.AGENT_SPOTBOT=2]="AGENT_SPOTBOT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function n(e){switch(e){case 0:case"AGENT_UNKNOWN":return i.AGENT_UNKNOWN;case 1:case"AGENT_USER":return i.AGENT_USER;case 2:case"AGENT_SPOTBOT":return i.AGENT_SPOTBOT;default:return i.UNRECOGNIZED}}let l=function(e){return e[e.MESSAGE_TEMPLATE_CATEGORY_UNKNOWN=0]="MESSAGE_TEMPLATE_CATEGORY_UNKNOWN",e[e.MESSAGE_TEMPLATE_CATEGORY_POLICY_VIOLATION_MESSAGE=1]="MESSAGE_TEMPLATE_CATEGORY_POLICY_VIOLATION_MESSAGE",e[e.MESSAGE_TEMPLATE_CATEGORY_PROCESSING_ERROR_MESSAGE=2]="MESSAGE_TEMPLATE_CATEGORY_PROCESSING_ERROR_MESSAGE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function E(e){switch(e){case 0:case"MESSAGE_TEMPLATE_CATEGORY_UNKNOWN":return l.MESSAGE_TEMPLATE_CATEGORY_UNKNOWN;case 1:case"MESSAGE_TEMPLATE_CATEGORY_POLICY_VIOLATION_MESSAGE":return l.MESSAGE_TEMPLATE_CATEGORY_POLICY_VIOLATION_MESSAGE;case 2:case"MESSAGE_TEMPLATE_CATEGORY_PROCESSING_ERROR_MESSAGE":return l.MESSAGE_TEMPLATE_CATEGORY_PROCESSING_ERROR_MESSAGE;default:return l.UNRECOGNIZED}}const S={fromJSON:e=>({uri:R(e.uri)?globalThis.String(e.uri):"",childItems:globalThis.Array.isArray(e?.childItems)?e.childItems.map(e=>S.fromJSON(e)):[],name:R(e.name)?globalThis.String(e.name):"",subname:R(e.subname)?globalThis.String(e.subname):""}),toJSON(e){const t={};return""!==e.uri&&(t.uri=e.uri),e.childItems?.length&&(t.childItems=e.childItems.map(e=>S.toJSON(e))),""!==e.name&&(t.name=e.name),""!==e.subname&&(t.subname=e.subname),t}},u={fromJSON:e=>({templateCategory:R(e.templateCategory)?E(e.templateCategory):0,templateItemName:R(e.templateItemName)?globalThis.String(e.templateItemName):""}),toJSON(e){const t={};return 0!==e.templateCategory&&(t.templateCategory=function(e){switch(e){case l.MESSAGE_TEMPLATE_CATEGORY_UNKNOWN:return"MESSAGE_TEMPLATE_CATEGORY_UNKNOWN";case l.MESSAGE_TEMPLATE_CATEGORY_POLICY_VIOLATION_MESSAGE:return"MESSAGE_TEMPLATE_CATEGORY_POLICY_VIOLATION_MESSAGE";case l.MESSAGE_TEMPLATE_CATEGORY_PROCESSING_ERROR_MESSAGE:return"MESSAGE_TEMPLATE_CATEGORY_PROCESSING_ERROR_MESSAGE";case l.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.templateCategory)),""!==e.templateItemName&&(t.templateItemName=e.templateItemName),t}},T={fromJSON:e=>({messageId:R(e.messageId)?globalThis.String(e.messageId):"",createdTimestamp:R(e.createdTimestamp)?A(e.createdTimestamp):void 0,updatedTimestamp:R(e.updatedTimestamp)?A(e.updatedTimestamp):void 0,text:R(e.text)?globalThis.String(e.text):"",sender:R(e.sender)?n(e.sender):0,spotifyItems:globalThis.Array.isArray(e?.spotifyItems)?e.spotifyItems.map(e=>S.fromJSON(e)):[],currentStatus:R(e.currentStatus)?o(e.currentStatus):0,clonedFromMessageId:R(e.clonedFromMessageId)?globalThis.String(e.clonedFromMessageId):"",chatMessageContext:R(e.chatMessageContext)?p.fromJSON(e.chatMessageContext):void 0,messageTextTemplate:R(e.messageTextTemplate)?u.fromJSON(e.messageTextTemplate):void 0}),toJSON(e){const t={};return""!==e.messageId&&(t.messageId=e.messageId),void 0!==e.createdTimestamp&&(t.createdTimestamp=e.createdTimestamp.toISOString()),void 0!==e.updatedTimestamp&&(t.updatedTimestamp=e.updatedTimestamp.toISOString()),""!==e.text&&(t.text=e.text),0!==e.sender&&(t.sender=function(e){switch(e){case i.AGENT_UNKNOWN:return"AGENT_UNKNOWN";case i.AGENT_USER:return"AGENT_USER";case i.AGENT_SPOTBOT:return"AGENT_SPOTBOT";case i.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.sender)),e.spotifyItems?.length&&(t.spotifyItems=e.spotifyItems.map(e=>S.toJSON(e))),0!==e.currentStatus&&(t.currentStatus=function(e){switch(e){case a.MESSAGE_STATUS_UNKNOWN:return"MESSAGE_STATUS_UNKNOWN";case a.MESSAGE_STATUS_SUCCESS:return"MESSAGE_STATUS_SUCCESS";case a.MESSAGE_STATUS_QUEUED:return"MESSAGE_STATUS_QUEUED";case a.MESSAGE_STATUS_PROCESSING:return"MESSAGE_STATUS_PROCESSING";case a.MESSAGE_STATUS_ERROR:return"MESSAGE_STATUS_ERROR";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.currentStatus)),""!==e.clonedFromMessageId&&(t.clonedFromMessageId=e.clonedFromMessageId),void 0!==e.chatMessageContext&&(t.chatMessageContext=p.toJSON(e.chatMessageContext)),void 0!==e.messageTextTemplate&&(t.messageTextTemplate=u.toJSON(e.messageTextTemplate)),t}},c={fromJSON:e=>({currentUri:R(e.currentUri)?globalThis.String(e.currentUri):""}),toJSON(e){const t={};return""!==e.currentUri&&(t.currentUri=e.currentUri),t}},N={fromJSON:e=>({segmentId:R(e.segmentId)?globalThis.String(e.segmentId):"",segmentDescription:R(e.segmentDescription)?globalThis.String(e.segmentDescription):""}),toJSON(e){const t={};return""!==e.segmentId&&(t.segmentId=e.segmentId),""!==e.segmentDescription&&(t.segmentDescription=e.segmentDescription),t}},O={fromJSON:e=>({currentCountry:R(e.currentCountry)?globalThis.String(e.currentCountry):"",currentCity:R(e.currentCity)?globalThis.String(e.currentCity):"",currentRegion:R(e.currentRegion)?globalThis.String(e.currentRegion):""}),toJSON(e){const t={};return""!==e.currentCountry&&(t.currentCountry=e.currentCountry),""!==e.currentCity&&(t.currentCity=e.currentCity),""!==e.currentRegion&&(t.currentRegion=e.currentRegion),t}},p={fromJSON:e=>({djSegments:globalThis.Array.isArray(e?.djSegments)?e.djSegments.map(e=>N.fromJSON(e)):[],playbackState:R(e.playbackState)?c.fromJSON(e.playbackState):void 0,userLocationContext:R(e.userLocationContext)?O.fromJSON(e.userLocationContext):void 0}),toJSON(e){const t={};return e.djSegments?.length&&(t.djSegments=e.djSegments.map(e=>N.toJSON(e))),void 0!==e.playbackState&&(t.playbackState=c.toJSON(e.playbackState)),void 0!==e.userLocationContext&&(t.userLocationContext=O.toJSON(e.userLocationContext)),t}};function A(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):function(e){let t=1e3*(globalThis.Number(e.seconds)||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}(s.D.fromJSON(e))}function R(e){return null!=e}let _=function(e){return e[e.REASON_UNKNOWN=0]="REASON_UNKNOWN",e[e.REASON_MANUAL_REQUEST=1]="REASON_MANUAL_REQUEST",e[e.REASON_USER_DELETED=2]="REASON_USER_DELETED",e[e.REASON_ARTIFICIAL_OWNER=3]="REASON_ARTIFICIAL_OWNER",e[e.REASON_DEPRECATED_FORMAT_LIST=4]="REASON_DEPRECATED_FORMAT_LIST",e[e.REASON_DELETED_BY_OWNER=5]="REASON_DELETED_BY_OWNER",e[e.REASON_USER_CONTENT_MODERATION=6]="REASON_USER_CONTENT_MODERATION",e[e.REASON_PLAYLIST_CONTENT_MODERATION=7]="REASON_PLAYLIST_CONTENT_MODERATION",e[e.REASON_CSAM_MODERATION=8]="REASON_CSAM_MODERATION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function m(e){switch(e){case 0:case"REASON_UNKNOWN":return _.REASON_UNKNOWN;case 1:case"REASON_MANUAL_REQUEST":return _.REASON_MANUAL_REQUEST;case 2:case"REASON_USER_DELETED":return _.REASON_USER_DELETED;case 3:case"REASON_ARTIFICIAL_OWNER":return _.REASON_ARTIFICIAL_OWNER;case 4:case"REASON_DEPRECATED_FORMAT_LIST":return _.REASON_DEPRECATED_FORMAT_LIST;case 5:case"REASON_DELETED_BY_OWNER":return _.REASON_DELETED_BY_OWNER;case 6:case"REASON_USER_CONTENT_MODERATION":return _.REASON_USER_CONTENT_MODERATION;case 7:case"REASON_PLAYLIST_CONTENT_MODERATION":return _.REASON_PLAYLIST_CONTENT_MODERATION;case 8:case"REASON_CSAM_MODERATION":return _.REASON_CSAM_MODERATION;default:return _.UNRECOGNIZED}}let d=function(e){return e[e.NEVER=0]="NEVER",e[e.DAILY=1]="DAILY",e[e.WEEKLY=2]="WEEKLY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function g(e){switch(e){case 0:case"NEVER":return d.NEVER;case 1:case"DAILY":return d.DAILY;case 2:case"WEEKLY":return d.WEEKLY;default:return d.UNRECOGNIZED}}function y(e){switch(e){case d.NEVER:return"NEVER";case d.DAILY:return"DAILY";case d.WEEKLY:return"WEEKLY";case d.UNRECOGNIZED:default:return"UNRECOGNIZED"}}let U=function(e){return e[e.MONDAY=0]="MONDAY",e[e.TUESDAY=1]="TUESDAY",e[e.WEDNESDAY=2]="WEDNESDAY",e[e.THURSDAY=3]="THURSDAY",e[e.FRIDAY=4]="FRIDAY",e[e.SATURDAY=5]="SATURDAY",e[e.SUNDAY=6]="SUNDAY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function D(e){switch(e){case 0:case"MONDAY":return U.MONDAY;case 1:case"TUESDAY":return U.TUESDAY;case 2:case"WEDNESDAY":return U.WEDNESDAY;case 3:case"THURSDAY":return U.THURSDAY;case 4:case"FRIDAY":return U.FRIDAY;case 5:case"SATURDAY":return U.SATURDAY;case 6:case"SUNDAY":return U.SUNDAY;default:return U.UNRECOGNIZED}}let I=function(e){return e[e.BACKEND_ERROR=0]="BACKEND_ERROR",e[e.PROMPT_VALIDATOR_ERROR=1]="PROMPT_VALIDATOR_ERROR",e[e.TERMS_AND_SERVICES_CHECKER_ERROR=2]="TERMS_AND_SERVICES_CHECKER_ERROR",e[e.RATE_LIMIT_EXCEEDED_ERROR=3]="RATE_LIMIT_EXCEEDED_ERROR",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function C(e){switch(e){case 0:case"BACKEND_ERROR":return I.BACKEND_ERROR;case 1:case"PROMPT_VALIDATOR_ERROR":return I.PROMPT_VALIDATOR_ERROR;case 2:case"TERMS_AND_SERVICES_CHECKER_ERROR":return I.TERMS_AND_SERVICES_CHECKER_ERROR;case 3:case"RATE_LIMIT_EXCEEDED_ERROR":return I.RATE_LIMIT_EXCEEDED_ERROR;default:return I.UNRECOGNIZED}}let f=function(e){return e[e.TRACK_SOURCE_UNSPECIFIED=0]="TRACK_SOURCE_UNSPECIFIED",e[e.PROMPT_GENERATED=1]="PROMPT_GENERATED",e[e.USER_ADDED=2]="USER_ADDED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function M(e){switch(e){case 0:case"TRACK_SOURCE_UNSPECIFIED":return f.TRACK_SOURCE_UNSPECIFIED;case 1:case"PROMPT_GENERATED":return f.PROMPT_GENERATED;case 2:case"USER_ADDED":return f.USER_ADDED;default:return f.UNRECOGNIZED}}const P={fromJSON:e=>({cadence:ee(e.cadence)?g(e.cadence):0,weeklyDay:ee(e.weeklyDay)?D(e.weeklyDay):0}),toJSON(e){const t={};return 0!==e.cadence&&(t.cadence=y(e.cadence)),0!==e.weeklyDay&&(t.weeklyDay=function(e){switch(e){case U.MONDAY:return"MONDAY";case U.TUESDAY:return"TUESDAY";case U.WEDNESDAY:return"WEDNESDAY";case U.THURSDAY:return"THURSDAY";case U.FRIDAY:return"FRIDAY";case U.SATURDAY:return"SATURDAY";case U.SUNDAY:return"SUNDAY";case U.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.weeklyDay)),t}},h={fromJSON:e=>({userId:ee(e.userId)?globalThis.String(e.userId):void 0,username:ee(e.username)?globalThis.String(e.username):void 0,queryText:ee(e.queryText)?globalThis.String(e.queryText):"",refreshMetadata:ee(e.refreshMetadata)?P.fromJSON(e.refreshMetadata):void 0,isPrivate:!!ee(e.isPrivate)&&globalThis.Boolean(e.isPrivate),clonedFromPlaylistUri:ee(e.clonedFromPlaylistUri)?globalThis.String(e.clonedFromPlaylistUri):""}),toJSON(e){const t={};return void 0!==e.userId&&(t.userId=e.userId),void 0!==e.username&&(t.username=e.username),""!==e.queryText&&(t.queryText=e.queryText),void 0!==e.refreshMetadata&&(t.refreshMetadata=P.toJSON(e.refreshMetadata)),!1!==e.isPrivate&&(t.isPrivate=e.isPrivate),""!==e.clonedFromPlaylistUri&&(t.clonedFromPlaylistUri=e.clonedFromPlaylistUri),t}},b={fromJSON:e=>({violatingTrustAndSafety:!!ee(e.violatingTrustAndSafety)&&globalThis.Boolean(e.violatingTrustAndSafety),spotbotUri:ee(e.spotbotUri)?globalThis.String(e.spotbotUri):"",playlistMetadata:ee(e.playlistMetadata)?K.fromJSON(e.playlistMetadata):void 0}),toJSON(e){const t={};return!1!==e.violatingTrustAndSafety&&(t.violatingTrustAndSafety=e.violatingTrustAndSafety),""!==e.spotbotUri&&(t.spotbotUri=e.spotbotUri),void 0!==e.playlistMetadata&&(t.playlistMetadata=K.toJSON(e.playlistMetadata)),t}},G={fromJSON:e=>({userId:ee(e.userId)?globalThis.String(e.userId):"",spotbotUri:ee(e.spotbotUri)?globalThis.String(e.spotbotUri):""}),toJSON(e){const t={};return""!==e.userId&&(t.userId=e.userId),""!==e.spotbotUri&&(t.spotbotUri=e.spotbotUri),t}},L={fromJSON:e=>({track:ee(e.track)?S.fromJSON(e.track):void 0,position:ee(e.position)?globalThis.Number(e.position):0,addedAt:ee(e.addedAt)?$(e.addedAt):void 0,trackSource:ee(e.trackSource)?M(e.trackSource):0}),toJSON(e){const t={};return void 0!==e.track&&(t.track=S.toJSON(e.track)),0!==e.position&&(t.position=Math.round(e.position)),void 0!==e.addedAt&&(t.addedAt=e.addedAt.toISOString()),0!==e.trackSource&&(t.trackSource=function(e){switch(e){case f.TRACK_SOURCE_UNSPECIFIED:return"TRACK_SOURCE_UNSPECIFIED";case f.PROMPT_GENERATED:return"PROMPT_GENERATED";case f.USER_ADDED:return"USER_ADDED";case f.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.trackSource)),t}},J={fromJSON:e=>({chatMessage:ee(e.chatMessage)?T.fromJSON(e.chatMessage):void 0,playlistMetadata:ee(e.playlistMetadata)?K.fromJSON(e.playlistMetadata):void 0,userIsFollowing:!!ee(e.userIsFollowing)&&globalThis.Boolean(e.userIsFollowing),lastSuccessfulTracklist:globalThis.Array.isArray(e?.lastSuccessfulTracklist)?e.lastSuccessfulTracklist.map(e=>L.fromJSON(e)):[],isCreatorTracklist:!!ee(e.isCreatorTracklist)&&globalThis.Boolean(e.isCreatorTracklist),lastSuccessfulChatMessage:ee(e.lastSuccessfulChatMessage)?T.fromJSON(e.lastSuccessfulChatMessage):void 0}),toJSON(e){const t={};return void 0!==e.chatMessage&&(t.chatMessage=T.toJSON(e.chatMessage)),void 0!==e.playlistMetadata&&(t.playlistMetadata=K.toJSON(e.playlistMetadata)),!1!==e.userIsFollowing&&(t.userIsFollowing=e.userIsFollowing),e.lastSuccessfulTracklist?.length&&(t.lastSuccessfulTracklist=e.lastSuccessfulTracklist.map(e=>L.toJSON(e))),!1!==e.isCreatorTracklist&&(t.isCreatorTracklist=e.isCreatorTracklist),void 0!==e.lastSuccessfulChatMessage&&(t.lastSuccessfulChatMessage=T.toJSON(e.lastSuccessfulChatMessage)),t}},v={fromJSON:e=>({prompt:ee(e.prompt)?globalThis.String(e.prompt):void 0,playlistTitle:ee(e.playlistTitle)?globalThis.String(e.playlistTitle):void 0,promptSummary:ee(e.promptSummary)?globalThis.String(e.promptSummary):void 0,refreshValue:ee(e.refreshValue)?P.fromJSON(e.refreshValue):void 0,stopPersonalizingPlaylist:ee(e.stopPersonalizingPlaylist)?globalThis.Boolean(e.stopPersonalizingPlaylist):void 0,isPrivate:ee(e.isPrivate)?globalThis.Boolean(e.isPrivate):void 0}),toJSON(e){const t={};return void 0!==e.prompt&&(t.prompt=e.prompt),void 0!==e.playlistTitle&&(t.playlistTitle=e.playlistTitle),void 0!==e.promptSummary&&(t.promptSummary=e.promptSummary),void 0!==e.refreshValue&&(t.refreshValue=P.toJSON(e.refreshValue)),void 0!==e.stopPersonalizingPlaylist&&(t.stopPersonalizingPlaylist=e.stopPersonalizingPlaylist),void 0!==e.isPrivate&&(t.isPrivate=e.isPrivate),t}},Y={fromJSON:e=>({promptVersion:ee(e.promptVersion)?globalThis.Number(e.promptVersion):0,playlistUpdateTriggered:!!ee(e.playlistUpdateTriggered)&&globalThis.Boolean(e.playlistUpdateTriggered),playlistPrivacyUpdateTriggered:!!ee(e.playlistPrivacyUpdateTriggered)&&globalThis.Boolean(e.playlistPrivacyUpdateTriggered)}),toJSON(e){const t={};return 0!==e.promptVersion&&(t.promptVersion=Math.round(e.promptVersion)),!1!==e.playlistUpdateTriggered&&(t.playlistUpdateTriggered=e.playlistUpdateTriggered),!1!==e.playlistPrivacyUpdateTriggered&&(t.playlistPrivacyUpdateTriggered=e.playlistPrivacyUpdateTriggered),t}},w={fromJSON:e=>({spotbotUri:ee(e.spotbotUri)?globalThis.String(e.spotbotUri):"",attributesToUpdate:globalThis.Array.isArray(e?.attributesToUpdate)?e.attributesToUpdate.map(e=>v.fromJSON(e)):[]}),toJSON(e){const t={};return""!==e.spotbotUri&&(t.spotbotUri=e.spotbotUri),e.attributesToUpdate?.length&&(t.attributesToUpdate=e.attributesToUpdate.map(e=>v.toJSON(e))),t}},x={fromJSON:e=>({spotbotUri:ee(e.spotbotUri)?globalThis.String(e.spotbotUri):"",queryText:ee(e.queryText)?globalThis.String(e.queryText):"",refreshMetadata:ee(e.refreshMetadata)?P.fromJSON(e.refreshMetadata):void 0}),toJSON(e){const t={};return""!==e.spotbotUri&&(t.spotbotUri=e.spotbotUri),""!==e.queryText&&(t.queryText=e.queryText),void 0!==e.refreshMetadata&&(t.refreshMetadata=P.toJSON(e.refreshMetadata)),t}},k={fromJSON:e=>({promptVersion:ee(e.promptVersion)?globalThis.Number(e.promptVersion):0,playlistUpdateTriggered:!!ee(e.playlistUpdateTriggered)&&globalThis.Boolean(e.playlistUpdateTriggered)}),toJSON(e){const t={};return 0!==e.promptVersion&&(t.promptVersion=Math.round(e.promptVersion)),!1!==e.playlistUpdateTriggered&&(t.playlistUpdateTriggered=e.playlistUpdateTriggered),t}},F={fromJSON:e=>({spotbotUri:ee(e.spotbotUri)?globalThis.String(e.spotbotUri):""}),toJSON(e){const t={};return""!==e.spotbotUri&&(t.spotbotUri=e.spotbotUri),t}},W={fromJSON:e=>({}),toJSON:e=>({})},K={fromJSON:e=>({prompt:ee(e.prompt)?globalThis.String(e.prompt):"",ownerUsername:ee(e.ownerUsername)?globalThis.String(e.ownerUsername):"",playlistTitle:ee(e.playlistTitle)?globalThis.String(e.playlistTitle):"",promptSummary:ee(e.promptSummary)?globalThis.String(e.promptSummary):"",tracklistSummary:ee(e.tracklistSummary)?globalThis.String(e.tracklistSummary):"",refreshMetadata:ee(e.refreshMetadata)?P.fromJSON(e.refreshMetadata):void 0,stopPersonalizingPlaylist:!!ee(e.stopPersonalizingPlaylist)&&globalThis.Boolean(e.stopPersonalizingPlaylist),isPlaylistPrivate:!!ee(e.isPlaylistPrivate)&&globalThis.Boolean(e.isPlaylistPrivate)}),toJSON(e){const t={};return""!==e.prompt&&(t.prompt=e.prompt),""!==e.ownerUsername&&(t.ownerUsername=e.ownerUsername),""!==e.playlistTitle&&(t.playlistTitle=e.playlistTitle),""!==e.promptSummary&&(t.promptSummary=e.promptSummary),""!==e.tracklistSummary&&(t.tracklistSummary=e.tracklistSummary),void 0!==e.refreshMetadata&&(t.refreshMetadata=P.toJSON(e.refreshMetadata)),!1!==e.stopPersonalizingPlaylist&&(t.stopPersonalizingPlaylist=e.stopPersonalizingPlaylist),!1!==e.isPlaylistPrivate&&(t.isPlaylistPrivate=e.isPlaylistPrivate),t}},q={fromJSON:e=>({spotbotUri:ee(e.spotbotUri)?globalThis.String(e.spotbotUri):""}),toJSON(e){const t={};return""!==e.spotbotUri&&(t.spotbotUri=e.spotbotUri),t}},V={fromJSON:e=>({playlistMetadata:ee(e.playlistMetadata)?K.fromJSON(e.playlistMetadata):void 0}),toJSON(e){const t={};return void 0!==e.playlistMetadata&&(t.playlistMetadata=K.toJSON(e.playlistMetadata)),t}},Z={fromJSON:e=>({resetTimestamp:ee(e.resetTimestamp)?$(e.resetTimestamp):void 0}),toJSON(e){const t={};return void 0!==e.resetTimestamp&&(t.resetTimestamp=e.resetTimestamp.toISOString()),t}},B={fromJSON:e=>({promptablePlaylistErrorType:ee(e.promptablePlaylistErrorType)?C(e.promptablePlaylistErrorType):0,displayText:ee(e.displayText)?globalThis.String(e.displayText):"",rateLimitExceededErrorDetails:ee(e.rateLimitExceededErrorDetails)?Z.fromJSON(e.rateLimitExceededErrorDetails):void 0}),toJSON(e){const t={};return 0!==e.promptablePlaylistErrorType&&(t.promptablePlaylistErrorType=function(e){switch(e){case I.BACKEND_ERROR:return"BACKEND_ERROR";case I.PROMPT_VALIDATOR_ERROR:return"PROMPT_VALIDATOR_ERROR";case I.TERMS_AND_SERVICES_CHECKER_ERROR:return"TERMS_AND_SERVICES_CHECKER_ERROR";case I.RATE_LIMIT_EXCEEDED_ERROR:return"RATE_LIMIT_EXCEEDED_ERROR";case I.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.promptablePlaylistErrorType)),""!==e.displayText&&(t.displayText=e.displayText),void 0!==e.rateLimitExceededErrorDetails&&(t.rateLimitExceededErrorDetails=Z.toJSON(e.rateLimitExceededErrorDetails)),t}},H={fromJSON:e=>({unused:!!ee(e.unused)&&globalThis.Boolean(e.unused)}),toJSON(e){const t={};return!1!==e.unused&&(t.unused=e.unused),t}},Q={fromJSON:e=>({suggestion:globalThis.Array.isArray(e?.suggestion)?e.suggestion.map(e=>z.fromJSON(e)):[]}),toJSON(e){const t={};return e.suggestion?.length&&(t.suggestion=e.suggestion.map(e=>z.toJSON(e))),t}},z={fromJSON:e=>({displayText:ee(e.displayText)?globalThis.String(e.displayText):"",suggestionChild:globalThis.Array.isArray(e?.suggestionChild)?e.suggestionChild.map(e=>X.fromJSON(e)):[],suggestionId:ee(e.suggestionId)?globalThis.String(e.suggestionId):""}),toJSON(e){const t={};return""!==e.displayText&&(t.displayText=e.displayText),e.suggestionChild?.length&&(t.suggestionChild=e.suggestionChild.map(e=>X.toJSON(e))),""!==e.suggestionId&&(t.suggestionId=e.suggestionId),t}},X={fromJSON:e=>({displayText:ee(e.displayText)?globalThis.String(e.displayText):"",suggestionChildId:ee(e.suggestionChildId)?globalThis.String(e.suggestionChildId):""}),toJSON(e){const t={};return""!==e.displayText&&(t.displayText=e.displayText),""!==e.suggestionChildId&&(t.suggestionChildId=e.suggestionChildId),t}},j={name:"PromptablePlaylistApi",fullName:"spotify.spotbot.v2.promptable_playlist.PromptablePlaylistApi",methods:{createPromptablePlaylist:{name:"CreatePromptablePlaylist",requestType:h,requestStream:!1,responseType:b,responseStream:!1,options:{}},getOrCreatePromptablePlaylistByUri:{name:"GetOrCreatePromptablePlaylistByUri",requestType:G,requestStream:!1,responseType:J,responseStream:!1,options:{}},updatePromptablePlaylist:{name:"UpdatePromptablePlaylist",requestType:x,requestStream:!1,responseType:k,responseStream:!1,options:{}},editPromptablePlaylist:{name:"EditPromptablePlaylist",requestType:w,requestStream:!1,responseType:Y,responseStream:!1,options:{}},refreshPromptablePlaylist:{name:"RefreshPromptablePlaylist",requestType:F,requestStream:!1,responseType:W,responseStream:!1,options:{}},getPromptablePlaylistMetadata:{name:"GetPromptablePlaylistMetadata",requestType:q,requestStream:!1,responseType:V,responseStream:!1,options:{}},getPromptablePlaylistSuggestions:{name:"GetPromptablePlaylistSuggestions",requestType:H,requestStream:!1,responseType:Q,responseStream:!1,options:{}},softDeletePromptablePlaylist:{name:"SoftDeletePromptablePlaylist",requestType:{fromJSON:e=>({playlistUri:ee(e.playlistUri)?globalThis.String(e.playlistUri):"",deletionReason:ee(e.deletionReason)?m(e.deletionReason):0}),toJSON(e){const t={};return""!==e.playlistUri&&(t.playlistUri=e.playlistUri),0!==e.deletionReason&&(t.deletionReason=function(e){switch(e){case _.REASON_UNKNOWN:return"REASON_UNKNOWN";case _.REASON_MANUAL_REQUEST:return"REASON_MANUAL_REQUEST";case _.REASON_USER_DELETED:return"REASON_USER_DELETED";case _.REASON_ARTIFICIAL_OWNER:return"REASON_ARTIFICIAL_OWNER";case _.REASON_DEPRECATED_FORMAT_LIST:return"REASON_DEPRECATED_FORMAT_LIST";case _.REASON_DELETED_BY_OWNER:return"REASON_DELETED_BY_OWNER";case _.REASON_USER_CONTENT_MODERATION:return"REASON_USER_CONTENT_MODERATION";case _.REASON_PLAYLIST_CONTENT_MODERATION:return"REASON_PLAYLIST_CONTENT_MODERATION";case _.REASON_CSAM_MODERATION:return"REASON_CSAM_MODERATION";case _.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.deletionReason)),t}},requestStream:!1,responseType:{fromJSON:e=>({}),toJSON:e=>({})},responseStream:!1,options:{}},restorePromptablePlaylist:{name:"RestorePromptablePlaylist",requestType:{fromJSON:e=>({playlistUri:ee(e.playlistUri)?globalThis.String(e.playlistUri):""}),toJSON(e){const t={};return""!==e.playlistUri&&(t.playlistUri=e.playlistUri),t}},requestStream:!1,responseType:{fromJSON:e=>({}),toJSON:e=>({})},responseStream:!1,options:{}}}};function $(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):function(e){let t=1e3*(globalThis.Number(e.seconds)||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}(s.D.fromJSON(e))}function ee(e){return null!=e}}}]);
//# sourceMappingURL=2435.js.map