"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6275,9319],{16447:(e,a,t)=>{t.d(a,{xh:()=>y,Gv:()=>I,S:()=>g,_v:()=>v,e$:()=>f});t(54091);var s=t(72045),i=t(89307),r=t(39140),n=t(85003);const o="recent";var l=t(1280),c=t(82567),d=t(10183),u=t(19206);function p(e){switch(e){case s.$c.AgeRestricted:return r.Uk.AgeRestricted;case s.$c.CatalogueRestricted:return r.Uk.CatalogueRestricted;case s.$c.CountryRestricted:return r.Uk.CountryRestricted;case s.$c.Explicit:return r.Uk.Explicit;case s.$c.PaymentRequired:return r.Uk.PaymentRequired;case s.$c.Playable:return r.Uk.Playable;case s.$c.Unavailable:default:return r.Uk.Unavailable}}function m(e,a=!1){return{playable:!a&&e.playable,reason:a?r.Uk.Anonymous:p(e.reason)}}function y(e){return e.previewPlayback?.audioPreview?.cdnUrl?{url:e.previewPlayback.audioPreview.cdnUrl}:null}function g(e){const a="Podcast"!==(t=e.podcastV2).data.__typename?null:{uri:t.data.uri,name:t.data.name,coverArt:t.data.coverArt?.sources||[],trailer:(s=t.data.trailerV2,("Episode"===s?.data.__typename?{uri:s.data.uri}:null)||null),showTypes:(t.data.showTypes||[]).filter(h)};var t,s;const r=(0,c.Wx)(e?.restrictions,e.playability),o=(0,u.p)(e.gatedEntityRelations)?.accessInfo,l=(0,u.v)(o);return{type:i.c.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:a,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:e.coverArt?.sources||[],audio:e.audio,releaseDate:(d=e.releaseDate,d?{isoString:d.isoString,precision:d.precision}:null),playedState:e.playedState,playability:m(e.playability),audioPreview:y(e),sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:r,contentInformation:e.contentInformation,transcript:e.transcripts?.items||null,upsellExplanation:l?b(l):null,gatedEntityRelations:I(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(o?.isUserMemberOfAtLeastOneGroup),dynamicColors:(0,n.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===e.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?e.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map(e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})):null};var d}function h(e){return!!e}function v(e){const a="Episode"===e.trailerV2?.data.__typename?(t=e.trailerV2.data,{type:i.c.EPISODE,uri:t.uri,name:t.name,coverArt:t.coverArt?.sources||[],audio:t.audio,audioPreview:y(t),sharingInfo:t.sharingInfo,duration:{milliseconds:t.duration.totalMilliseconds},contentRating:t.contentRating,mediaTypes:t.mediaTypes}):null;var t;const s=(0,l.q)(e?.accessInfo?.unlockedBy),r=(0,u.p)(e.gatedEntityRelations),n=(0,u.v)(r?.accessInfo);return{type:i.c.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],trailer:a,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(h),publisherName:e.publisher?.name||"",consumptionOrder:o,gatedContentAccessReason:s,isLocked:null===s,rating:e.rating,isSaved:e.saved,gatedEntityRelations:I(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(!!r&&r?.accessInfo?.isUserMemberOfAtLeastOneGroup),upsellExplanation:n?b(n):null,gatedEntityCoverArt:r?.coverArt?.sources||null}}function f(e){const a=!1===e?.isUserMemberOfAtLeastOneGroup,t=e?.unlockedBy?.includes(s.UG.Abp);return a&&!t}function x(e){return null!==e.displayText}function b({title:e,body:a,actionText:t,url:s}){return e&&a&&t&&s?{title:e,body:a,cta:t,url:s}:null}function I(e){return{entitiesWithValueProps:e.map(({badges:e,relatedEntity:a,summary:t,fallbackGatedEntity:s})=>"EpisodeResponseWrapper"===a?.__typename||"PodcastResponseWrapper"===a?.__typename?{uri:a._uri,summary:t?.forUserWithoutAccess?{forUserWithoutAccess:t.forUserWithoutAccess,forUserWithAccess:t.forUserWithAccess??void 0}:void 0,valueProps:e.filter(x),fallbackNavigation:s?.description?{uri:s.uri,description:s?.description}:void 0}:null).filter(d.P)}}},33552:(e,a,t)=>{t.d(a,{j:()=>A});var s=t(44265),i=t(60404);const r="mVTn6QQxDKAnD1EMA4Uk",n="QMFXRnzqSLyffxlVjc5L",o="hDTw7hSkuNmc4oHSzGyw",l="hrpn74hZWYLnoPA8ot_a",c="rmVpmFOiLgc0ZTqDKAxX",d="DgqXGoNSiHX9aoAqr5fc";var u=t(78717),p=t(60940),m=t(54091),y=t(97500),g=t.n(y),h=t(51490),v=t(44629),f=t(57302);const x="yNVnNWaf8clcxvcacFlw";var b=t(86070);const I=({durationMs:e,className:a,displaySeconds:t})=>{const{hours:s,minutes:i,seconds:r}=(0,v.S)(e);t=!1!==t&&!s&&r;const n=(0,f.j)({h:s,m:i,s:t?r:0});return n?(0,b.jsx)("span",{className:g()(x,a),children:m.Ru.get("time.left",n)}):null},A=e=>{const{resumePositionMs:a=0,releaseDate:t,isPlaying:y,fullyPlayed:v,durationMs:f,position:x=a,compactVariant:A=!1,className:_,progressBarClassName:N,progressStateClassName:w,releaseDateClassName:S}=e,C=0===f?null:!v&&x>0||y?(0,b.jsx)("div",{className:g()(c,N),children:(0,b.jsx)(i.z,{current:x,max:f})}):null,P=t&&t.isoString?(0,b.jsx)(u.E,{as:"p",variant:"bodySmall",className:n,children:(0,s.V2)((0,s.ad)(t.isoString),t.precision)}):null,E=(()=>{if(0===f)return null;if(v&&!y)return(0,b.jsxs)("div",{className:g()(l,w),children:[(0,b.jsx)(u.E,{as:"p",variant:"bodySmall",className:o,children:m.Ru.get("episode.audiobook.chapter.finished")}),(0,b.jsx)(p.i,{size:"small",className:d,"aria-hidden":"true"})]});if(x>0||y){const e=Math.ceil(Math.max(f-x,0));return(0,b.jsx)("div",{className:g()(l,w),children:(0,b.jsx)(u.E,{as:"p",variant:"bodySmall",className:o,children:(0,b.jsx)(I,{durationMs:e,displaySeconds:!A&&void 0})})})}return(0,b.jsx)(u.E,{as:"p",variant:"bodySmall",className:g()(n,S),"data-testid":"episode-progress-not-played",children:(0,b.jsx)(h.d,{durationMs:f,displaySeconds:!A&&void 0})})})();return P||E||C?(0,b.jsxs)("div",{className:g()(r,_),children:[P,E,C]}):null}},51490:(e,a,t)=>{t.d(a,{d:()=>c});var s=t(97500),i=t.n(s),r=t(44629),n=t(57302);const o="ccqn2ecT3axu6r2mw0O5";var l=t(86070);const c=({durationMs:e,className:a,displaySeconds:t})=>{const{hours:s,minutes:c,seconds:d}=(0,r.S)(e);return t=!1!==t&&!s&&d,(0,l.jsx)("span",{className:i()(o,a),children:(0,n.j)({h:s,m:c,s:t?d:0})})}},60404:(e,a,t)=>{t.d(a,{z:()=>l});var s=t(54091);const i={progressBar:"AuXvnACgU_oVoWnyCOKI",progressBarBg:"fLbQCgfoKkqhXY53m89w",progressBarFgWrapper:"sVbWQ3M_V1jUtEJ8VGAX",progressBarFg:"a_NGsCSTowFrDzp6UODF"};var r=t(57302),n=t(44629),o=t(86070);function l({ariaValueText:e,max:a,current:t}){const l={transform:`translateX(-${100-(a&&t?100*Math.min(1,t/a):0)}%)`},c=Math.ceil(Math.max(a-t,0)),{hours:d,minutes:u,seconds:p}=(0,n.S)(a),m=(0,r.j)({h:d,m:u,s:p}),{hours:y,minutes:g,seconds:h}=(0,n.S)(c),v=(0,r.j)({h:y,m:g,s:h}),f=e||s.Ru.get("time.left-of",v,m);return(0,o.jsxs)("div",{className:i.progressBar,role:"progressbar",tabIndex:0,"aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":a,"aria-valuetext":f,children:[(0,o.jsx)("div",{className:i.progressBarBg}),(0,o.jsx)("div",{className:i.progressBarFgWrapper,children:(0,o.jsx)("div",{"data-testid":"progressBarFg",className:i.progressBarFg,style:l})})]})}},61962:(e,a,t)=>{t.d(a,{X:()=>i});var s=t(32619);function i(e){return[s.kw.YES,s.kw.DOWNLOADING,s.kw.WAITING].includes(e)}},62367:(e,a,t)=>{t.d(a,{W:()=>L});var s=t(97500),i=t.n(s),r=t(27360),n=t(54091),o=t(67012),l=t(75072),c=t(26843);const d=Spicetify.GraphQL.Definitions["internalLinkRecommenderEpisode"]=new l.l("internalLinkRecommenderEpisode","query","9b2aff11e012b072f475dc24956f22925558047b6f6a0e81b088f19b4bbc7bed",null);var u=t(54720),p=t(30758),m=t(62411),y=t(48289),g=t(83760),h=t(82898),v=t(10817),f=t(10993),x=t(68453),b=t(87274),I=t(59725),A=t(41156),_=t(5256),N=t(67793),w=t(31139),S=t(54635),C=t(12586),P=t(49060),E=t(85059),j=t(72045),k=t(24238),R=t(86070);const T=e=>`activation-trigger-mme-${e}`,U=p.memo(function({index:e=-1,audio:a,contentInformation:t,coverArt:s,contentRatingLabel:i,description:n,mediaTypes:o,releaseDate:l,name:c,playable:d,playedState:u,podcastSubscription:U,sharingInfo:D,showName:M,showTrailer:B,showTypes:V,showUri:W,totalMilliseconds:O,type:G,uri:$,sixteenByNineCoverImages:q,dynamicColors:F}){const L=u.playPositionMilliseconds,X=(0,p.useRef)(null),[z,H]=(0,p.useState)(u.state===j._w.Completed),{draggable:Q,onDragStart:K}=(0,I.P)(),Y=(0,A.V)(),Z=(0,C.y)(),J=(0,m.wA)(),{isActive:ee,isPlaying:ae,togglePlay:te}=(0,P.P)({uri:$},{featureIdentifier:"episode"}),[se]=(0,E.S9)(1e4,e=>e?.item?.uri===$);(0,p.useEffect)(()=>{ae&&(X.current=se)},[ae,se]),(0,p.useEffect)(()=>{!ae&&X.current&&O<=X.current&&H(!0)},[ae,O]);const ie=(0,p.useCallback)(e=>{e||(X.current=0),H(e)},[]),re={uri:W,name:M,trailer:B,showTypes:V},ne=(0,_.C)({audio:a,name:c,uri:$,mediaTypes:o,coverArt:{sources:s}},re),oe=(0,p.useCallback)(()=>{G!==j.I_.Episode?Y?ne():te():x.h.set(()=>({triggerId:T($),triggerAction:null}))},[G,Y,$,ne,te]),le=U?.isPaywalled??!1,ce=U?.isUserSubscribed??!1,de=le&&!ce,ue=le&&Y,{badges:pe}=(0,k.b)({contentRating:i,isPaywalled:le}),me=(0,p.useCallback)(()=>J((0,y.Tf)(W)),[W,J]),ye=(0,p.useCallback)(e=>{let a=e;return(de||ue)&&(a=(0,R.jsx)(b.N,{enabled:!0,showUri:W,children:a})),!d&&pe.nineteen&&(a=(0,R.jsx)("div",{onClick:e=>{e.stopPropagation(),me()},children:e})),a=(0,R.jsx)(g.k,{id:T($),targetURI:(0,r.o_h)($),children:a}),a},[de,ue,d,pe.nineteen,$,W,me]);return(0,R.jsx)(h.h,{menu:(0,R.jsx)(v.b,{uri:$,showUri:W,sharingInfo:D,isPlayed:z,onMarkAsPlayed:ie}),children:(0,R.jsx)(f.k,{requestId:void 0,index:e,uri:$,size:Z,images:s||[],name:c,showName:M,description:n,isPlayable:d||de,fullyPlayed:z,durationMs:O,releaseDate:l,resumePositionMs:X.current??L,draggable:Q,handleDragStart:e=>{if(e.target!==e.currentTarget)return;K(e,{itemUris:[$],dragLabelText:`${c} â€¢ ${M}`,contextUri:W})},handlePlaybackClick:oe,isCurrentlyPlaying:ee,isPaywalled:le,isUserSubscribed:ce,isPlaying:ae,position:ae?se:void 0,episodeSharingInfo:D,onMarkAsPlayed:ie,contentInformation:t,showUri:W,mediaTypes:o??void 0,badges:(0,R.jsxs)(R.Fragment,{children:[pe.explicit&&(0,R.jsx)(N.U,{}),pe.paid&&(0,R.jsx)(w.y,{}),pe.nineteen&&(0,R.jsx)(S.q,{size:16})]}),playButtonWrapper:ye,dynamicColors:F,sixteenByNineCoverImages:q})})});var D=t(16447),M=t(89307);var B=t(69316),V=t(85003),W=t(82567);const O="GuI2Khbv9cPh1NqrLGTU",G="pdEtsZjY1t51lqmN_RdB",$="THbX1fnmD_2H5QVQ88uy",q="wAT7P9ZeCVUmgO9vGM0Q",F=({uri:e,isFullPage:a=!1})=>{const{data:t}=(s={uri:e},(0,c.I)(d,s,o));var s,o;const l=t?.seoRecommendedEpisode.totalCount,u=t?.seoRecommendedEpisode.items,p=function(e){return(e||[]).filter(e=>(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"RestrictedContent"!==a?.__typename&&"Episode"===e.__typename;var a})(e.data))}(u),m=a?p:p.slice(0,5);if(0===l)return null;const y=(0,r.o_h)(e)?.id,g=`spotify:app:episode:${y}:more-like-this`;return(0,R.jsxs)("section",{className:i()(O,{[G]:!a}),"data-testid":"episode-list",children:[(0,R.jsx)(B.k,{title:n.Ru.get("internal-link-recommender.more-episodes-like-this"),showSeeAll:!a,seeAllUri:g}),m.map(({data:e},a)=>{const t=(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"RestrictedContent"!==a?.__typename&&"Podcast"===e.__typename;var a})(e.podcastV2.data)?e.podcastV2.data:null;if(!t)return null;const s=(0,V.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet)??void 0,i="ImageV2"===e.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?e.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map(e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})):void 0;return e&&(0,R.jsxs)("div",{className:q,children:[(0,R.jsx)("hr",{className:$,"aria-hidden":!0}),(0,R.jsx)(U,{index:a,audio:e.audio,contentInformation:e.contentInformation,contentRatingLabel:e.contentRating?.label,coverArt:e.coverArt?e.coverArt.sources:void 0,description:e.description,releaseDate:e.releaseDate,mediaTypes:e.mediaTypes,name:e.name,playable:e.playability.playable,playedState:e.playedState,podcastSubscription:(0,W.Wx)(e.restrictions,e.playability),sharingInfo:e.sharingInfo,showTrailer:(r=t.trailerV2?.data,r&&(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"RestrictedContent"!==a?.__typename&&"Episode"===e.__typename;var a})(r)?{type:M.c.EPISODE,uri:r.uri,name:r.name,coverArt:r.coverArt?.sources||[],audio:r.audio,audioPreview:(0,D.xh)(r),sharingInfo:r.sharingInfo,duration:{milliseconds:r.duration.totalMilliseconds},contentRating:r.contentRating,mediaTypes:r.mediaTypes}:null),showName:t.name,showTypes:t.showTypes,showUri:t.uri,totalMilliseconds:e.duration.totalMilliseconds,type:e.type,uri:e.uri,sixteenByNineCoverImages:i,dynamicColors:s},`${e.uri}/${a}`)]},`${a}${e.uri}`);var r})]})},L=e=>{const a=(0,u.D)({entityType:M.c.EPISODE,componentType:"list",uri:e.uri});return(0,R.jsx)(o.s,{onError:a,children:(0,R.jsx)(F,{...e})})}}}]);
//# sourceMappingURL=6275.js.map